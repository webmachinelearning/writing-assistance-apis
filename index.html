<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>Writing Assistance APIs</title>
  <meta content="CG-DRAFT" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/cg-draft" rel="stylesheet">
  <meta content="Bikeshed version b25686b9f, updated Fri Mar 14 14:15:20 2025 -0700" name="generator">
  <link href="https://webmachinelearning.github.io/writing-assistance-apis" rel="canonical">
  <link href="https://www.w3.org/2008/site/images/favicon.ico" rel="icon">
  <meta content="5e2230e380ecc5e49d593f468d72bb8576780816" name="revision">
  <meta content="dark light" name="color-scheme">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
<style>
dl.props { display: grid; grid-template-columns: max-content auto; row-gap: 0.25em; column-gap: 1em; }
dl.props > dt { grid-column-start: 1; margin: 0; }
dl.props > dd { grid-column-start: 2; margin: 0; }
p + dl.props { margin-top: -0.5em; }

.enum-table tbody th { white-space: nowrap; }
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-idl-highlighting */
pre.idl.highlight {
    background: var(--borderedblock-bg, var(--def-bg));
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

[data-algorithm] var { cursor: pointer; }
var[data-var-color] { background-color: var(--var-bg); box-shadow: 0 0 0 2px var(--var-bg); }

var[data-var-color] { --var-bg: #F4D200; }
var[data-var-color="1"] { --var-bg: #FF87A2; }
var[data-var-color="2"] { --var-bg: #96E885; }
var[data-var-color="3"] { --var-bg: #3EEED2; }
var[data-var-color="4"] { --var-bg: #EACFB6; }
var[data-var-color="5"] { --var-bg: #82DDFF; }
var[data-var-color="6"] { --var-vg: #FFBCF2; }

@media (prefers-color-scheme: dark) {
	var[data-var-color] { --var-bg: #bc1a00; }
	var[data-var-color="1"] { --var-bg: #007f00; }
	var[data-var-color="2"] { --var-bg: #008698; }
	var[data-var-color="3"] { --var-bg: #7f5b2b; }
	var[data-var-color="4"] { --var-bg: #004df3; }
	var[data-var-color="5"] { --var-bg: #a1248a; }
	var[data-var-color="6"] { --var-vg: #ff0000; }
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://webmachinelearning.github.io/"> <img alt="Logo" height="100" src="https://webmachinelearning.github.io/webmachinelearning-logo.png" width="100"> </a> </p>
   <h1 class="p-name no-ref" id="title">Writing Assistance APIs</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types/#CG-DRAFT">Draft Community Group Report</a>, <time class="dt-updated" datetime="2025-03-25">25 March 2025</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://webmachinelearning.github.io/writing-assistance-apis">https://webmachinelearning.github.io/writing-assistance-apis</a>
      <dt>Issue Tracking:
      <dd><a href="https://github.com/webmachinelearning/writing-assistance-apis/issues/">GitHub</a>
      <dt class="editor">Editor:
      <dd class="editor p-author h-card vcard"><a class="p-name fn u-url url" href="https://domenic.me/">Domenic Denicola</a> (<a class="p-org org" href="https://www.google.com/">Google</a>) <a class="u-email email" href="mailto:d@domenic.me">d@domenic.me</a>
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 2025 the Contributors to the Writing Assistance APIs Specification, published by the <a href="https://www.w3.org/community/webmachinelearning/">Web Machine Learning Community Group</a> under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>.
A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>The summarizer, writer, and rewriter APIs provide high-level interfaces to call on a browser or operating system’s built-in language model to help with writing tasks.</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This specification was published by the <a href="https://www.w3.org/community/webmachinelearning/">Web Machine Learning Community Group</a>.
  It is not a W3C Standard nor is it on the W3C Standards Track.

  Please note that under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a> there is a limited opt-out and other conditions apply.

  Learn more about <a href="http://www.w3.org/community/">W3C Community and Business Groups</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#shared-apis"><span class="secno">2</span> <span class="content">Shared APIs</span></a>
    <li>
     <a href="#summarizer-api"><span class="secno">3</span> <span class="content">The summarizer API</span></a>
     <ol class="toc">
      <li><a href="#summarizer-creation"><span class="secno">3.1</span> <span class="content">Creation</span></a>
      <li><a href="#summarizer-availability"><span class="secno">3.2</span> <span class="content">Availability</span></a>
      <li><a href="#the-summarizer-class"><span class="secno">3.3</span> <span class="content">The <code class="idl"><span>Summarizer</span></code> class</span></a>
      <li>
       <a href="#summarizer-summarization"><span class="secno">3.4</span> <span class="content">Summarization</span></a>
       <ol class="toc">
        <li><a href="#summarizer-algorithm"><span class="secno">3.4.1</span> <span class="content">The algorithm</span></a>
        <li><a href="#summarizer-usage"><span class="secno">3.4.2</span> <span class="content">Usage</span></a>
        <li><a href="#summarizer-options"><span class="secno">3.4.3</span> <span class="content">Options</span></a>
        <li><a href="#summarizer-errors"><span class="secno">3.4.4</span> <span class="content">Errors</span></a>
       </ol>
      <li><a href="#summarizer-permissions-policy"><span class="secno">3.5</span> <span class="content">Permissions policy integration</span></a>
     </ol>
    <li>
     <a href="#writer-api"><span class="secno">4</span> <span class="content">The writer API</span></a>
     <ol class="toc">
      <li><a href="#writer-creation"><span class="secno">4.1</span> <span class="content">Creation</span></a>
      <li><a href="#writer-availability"><span class="secno">4.2</span> <span class="content">Availability</span></a>
      <li><a href="#the-writer-class"><span class="secno">4.3</span> <span class="content">The <code class="idl"><span>Writer</span></code> class</span></a>
      <li>
       <a href="#writer-writing"><span class="secno">4.4</span> <span class="content">Writing</span></a>
       <ol class="toc">
        <li><a href="#writer-algorithm"><span class="secno">4.4.1</span> <span class="content">The algorithm</span></a>
        <li><a href="#writer-usage"><span class="secno">4.4.2</span> <span class="content">Usage</span></a>
        <li><a href="#writer-options"><span class="secno">4.4.3</span> <span class="content">Options</span></a>
        <li><a href="#writer-errors"><span class="secno">4.4.4</span> <span class="content">Errors</span></a>
       </ol>
      <li><a href="#writer-permissions-policy"><span class="secno">4.5</span> <span class="content">Permissions policy integration</span></a>
     </ol>
    <li><a href="#rewriter-api"><span class="secno">5</span> <span class="content">The rewriter API</span></a>
    <li>
     <a href="#supporting"><span class="secno">6</span> <span class="content">Shared infrastructure</span></a>
     <ol class="toc">
      <li><a href="#supporting-creation"><span class="secno">6.1</span> <span class="content">Creation</span></a>
      <li><a href="#supporting-results"><span class="secno">6.2</span> <span class="content">Obtaining results and usage</span></a>
      <li><a href="#supporting-language-tags"><span class="secno">6.3</span> <span class="content">Language tags</span></a>
      <li><a href="#supporting-availability"><span class="secno">6.4</span> <span class="content">Availability</span></a>
      <li><a href="#supporting-language-availability"><span class="secno">6.5</span> <span class="content">Language availability</span></a>
      <li><a href="#supporting-errors"><span class="secno">6.6</span> <span class="content">Errors</span></a>
      <li><a href="#supporting-task-source"><span class="secno">6.7</span> <span class="content">Task source</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p>For now, see the <a href="https://github.com/webmachinelearning/writing-assistance-apis/blob/main/README.md">explainer</a>.</p>
   <h2 class="heading settled" data-level="2" id="shared-apis"><span class="secno">2. </span><span class="content">Shared APIs</span><a class="self-link" href="#shared-apis"></a></h2>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="createmonitor"><code><c- g>CreateMonitor</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-createmonitor-ondownloadprogress" id="ref-for-dom-createmonitor-ondownloadprogress"><c- g>ondownloadprogress</c-></a>;
};

<c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-createmonitorcallback"><code><c- g>CreateMonitorCallback</c-></code></dfn> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a> (<a data-link-type="idl-name" href="#createmonitor" id="ref-for-createmonitor"><c- n>CreateMonitor</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CreateMonitorCallback" data-dfn-type="argument" data-export id="dom-createmonitorcallback-monitor"><code><c- g>monitor</c-></code></dfn>);

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-availability"><code><c- g>Availability</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="Availability" data-dfn-type="enum-value" data-export id="dom-availability-unavailable"><code><c- s>"unavailable"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="Availability" data-dfn-type="enum-value" data-export id="dom-availability-downloadable"><code><c- s>"downloadable"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="Availability" data-dfn-type="enum-value" data-export id="dom-availability-downloading"><code><c- s>"downloading"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="Availability" data-dfn-type="enum-value" data-export id="dom-availability-available"><code><c- s>"available"</c-></code></dfn>
};

<c- b>interface</c-> <c- b>mixin</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="destroyablemodel"><code><c- g>DestroyableModel</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-destroyablemodel-destroy" id="ref-for-dom-destroyablemodel-destroy"><c- g>destroy</c-></a>();
};
</pre>
   <hr>
   <p>The following are the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers">event handlers</a> (and their corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type">event handler event types</a>) that must be supported, as <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes">event handler IDL attributes</a>, by all <code class="idl"><a data-link-type="idl" href="#createmonitor" id="ref-for-createmonitor①">CreateMonitor</a></code> objects:</p>
   <table>
    <thead>
     <tr>
      <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers①">Event handler</a> 
      <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type①">Event handler event type</a> 
    <tbody>
     <tr>
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="CreateMonitor" data-dfn-type="attribute" data-export id="dom-createmonitor-ondownloadprogress"><code>ondownloadprogress</code></dfn> 
      <td><dfn class="dfn-paneled idl-code" data-dfn-for="CreateMonitor" data-dfn-type="event" data-export id="eventdef-createmonitor-downloadprogress"><code>downloadprogress</code></dfn> 
   </table>
   <hr>
   <p>Every <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-interface" id="ref-for-dfn-interface">interface</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#include" id="ref-for-include">including</a> the <code class="idl"><a data-link-type="idl" href="#destroyablemodel" id="ref-for-destroyablemodel">DestroyableModel</a></code> interface mixin has a <dfn class="dfn-paneled" data-dfn-for="DestroyableModel" data-dfn-type="dfn" data-export id="destroyablemodel-destruction-abort-controller">destruction abort controller</dfn>, an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortcontroller" id="ref-for-abortcontroller">AbortController</a></code>, set by the <a data-link-type="dfn" href="#initialize-as-a-destroyable" id="ref-for-initialize-as-a-destroyable">initialize as a destroyable</a> algorithm.</p>
   <p class="note" role="note">The <a data-link-type="dfn" href="#destroyablemodel-destruction-abort-controller" id="ref-for-destroyablemodel-destruction-abort-controller">destruction abort controller</a> is only used internally, as a way of tracking calls to <code class="idl"><a data-link-type="idl" href="#dom-destroyablemodel-destroy" id="ref-for-dom-destroyablemodel-destroy①">destroy()</a></code>. Since it is easy to combine multiple <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal">AbortSignal</a></code>s using <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#create-a-dependent-abort-signal" id="ref-for-create-a-dependent-abort-signal">create a dependent abort signal</a>, this lets us centralize handling of any <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal①">AbortSignal</a></code> the web developer provides to specific method calls, with any calls to <code class="idl"><a data-link-type="idl" href="#dom-destroyablemodel-destroy" id="ref-for-dom-destroyablemodel-destroy②">destroy()</a></code>. </p>
   <div class="algorithm" data-algorithm="initialize as a destroyable">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="initialize-as-a-destroyable">initialize as a destroyable</dfn> an <code class="idl"><a data-link-type="idl" href="#destroyablemodel" id="ref-for-destroyablemodel①">DestroyableModel</a></code> object <var>destroyable</var>: 
    <ol>
     <li data-md>
      <p>Let <var>controller</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new">new</a> <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortcontroller" id="ref-for-abortcontroller①">AbortController</a></code> created in <var>destroyable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm">relevant realm</a>.</p>
     <li data-md>
      <p>Set <var>controller</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal" id="ref-for-abortcontroller-signal">signal</a> to a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new①">new</a> <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal②">AbortSignal</a></code> created in <var>destroyable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm①">relevant realm</a>.</p>
     <li data-md>
      <p>Set <var>destroyable</var>’s <a data-link-type="dfn" href="#destroyablemodel-destruction-abort-controller" id="ref-for-destroyablemodel-destruction-abort-controller①">destruction abort controller</a> to <var>controller</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="destroy()" data-algorithm-for="DestroyableModel">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="DestroyableModel" data-dfn-type="method" data-export id="dom-destroyablemodel-destroy"><code>destroy()</code></dfn> method steps are to <a data-link-type="dfn" href="#destroyablemodel-destroy" id="ref-for-destroyablemodel-destroy">destroy</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a> given a new "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#aborterror" id="ref-for-aborterror">AbortError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>. </p>
   </div>
   <div class="algorithm" data-algorithm="destroy" data-algorithm-for="DestroyableModel">
     To <dfn class="dfn-paneled" data-dfn-for="DestroyableModel" data-dfn-type="dfn" data-noexport id="destroyablemodel-destroy">destroy</dfn> an <code class="idl"><a data-link-type="idl" href="#destroyablemodel" id="ref-for-destroyablemodel②">DestroyableModel</a></code> <var>destroyable</var>, given a JavaScript value <var>reason</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal-abort" id="ref-for-abortcontroller-signal-abort">Signal abort</a> given <var>destroyable</var>’s <a data-link-type="dfn" href="#destroyablemodel-destruction-abort-controller" id="ref-for-destroyablemodel-destruction-abort-controller②">destruction abort controller</a> and <var>reason</var>.</p>
     <li data-md>
      <p>The user agent should release any resources associated with <var>destroyable</var>, such as AI models loaded to support its operation, as long as those resources are not needed for other ongoing operations.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="3" id="summarizer-api"><span class="secno">3. </span><span class="content">The summarizer API</span><a class="self-link" href="#summarizer-api"></a></h2>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="summarizer"><code><c- g>Summarizer</c-></code></dfn> {
  <c- b>static</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#summarizer" id="ref-for-summarizer"><c- n>Summarizer</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-summarizer-create" id="ref-for-dom-summarizer-create"><c- g>create</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-summarizercreateoptions" id="ref-for-dictdef-summarizercreateoptions"><c- n>SummarizerCreateOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer/create(options), Summarizer/create()" data-dfn-type="argument" data-export id="dom-summarizer-create-options-options"><code><c- g>options</c-></code></dfn> = {});
  <c- b>static</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#enumdef-availability" id="ref-for-enumdef-availability"><c- n>Availability</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-summarizer-availability" id="ref-for-dom-summarizer-availability"><c- g>availability</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-summarizercreatecoreoptions" id="ref-for-dictdef-summarizercreatecoreoptions"><c- n>SummarizerCreateCoreOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer/availability(options), Summarizer/availability()" data-dfn-type="argument" data-export id="dom-summarizer-availability-options-options"><code><c- g>options</c-></code></dfn> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-summarizer-summarize" id="ref-for-dom-summarizer-summarize"><c- g>summarize</c-></a>(
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer/summarize(input, options), Summarizer/summarize(input)" data-dfn-type="argument" data-export id="dom-summarizer-summarize-input-options-input"><code><c- g>input</c-></code></dfn>,
    <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-summarizersummarizeoptions" id="ref-for-dictdef-summarizersummarizeoptions"><c- n>SummarizerSummarizeOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer/summarize(input, options), Summarizer/summarize(input)" data-dfn-type="argument" data-export id="dom-summarizer-summarize-input-options-options"><code><c- g>options</c-></code></dfn> = {}
  );
  <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="method" href="#dom-summarizer-summarizestreaming" id="ref-for-dom-summarizer-summarizestreaming"><c- g>summarizeStreaming</c-></a>(
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer/summarizeStreaming(input, options), Summarizer/summarizeStreaming(input)" data-dfn-type="argument" data-export id="dom-summarizer-summarizestreaming-input-options-input"><code><c- g>input</c-></code></dfn>,
    <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-summarizersummarizeoptions" id="ref-for-dictdef-summarizersummarizeoptions①"><c- n>SummarizerSummarizeOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer/summarizeStreaming(input, options), Summarizer/summarizeStreaming(input)" data-dfn-type="argument" data-export id="dom-summarizer-summarizestreaming-input-options-options"><code><c- g>options</c-></code></dfn> = {}
  );

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-summarizer-sharedcontext" id="ref-for-dom-summarizer-sharedcontext"><c- g>sharedContext</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-summarizertype" id="ref-for-enumdef-summarizertype"><c- n>SummarizerType</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="SummarizerType" href="#dom-summarizer-type" id="ref-for-dom-summarizer-type"><c- g>type</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-summarizerformat" id="ref-for-enumdef-summarizerformat"><c- n>SummarizerFormat</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="SummarizerFormat" href="#dom-summarizer-format" id="ref-for-dom-summarizer-format"><c- g>format</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-summarizerlength" id="ref-for-enumdef-summarizerlength"><c- n>SummarizerLength</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="SummarizerLength" href="#dom-summarizer-length" id="ref-for-dom-summarizer-length"><c- g>length</c-></a>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④"><c- b>DOMString</c-></a>>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<DOMString>?" href="#dom-summarizer-expectedinputlanguages" id="ref-for-dom-summarizer-expectedinputlanguages"><c- g>expectedInputLanguages</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array①"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑤"><c- b>DOMString</c-></a>>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<DOMString>?" href="#dom-summarizer-expectedcontextlanguages" id="ref-for-dom-summarizer-expectedcontextlanguages"><c- g>expectedContextLanguages</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑥"><c- b>DOMString</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString?" href="#dom-summarizer-outputlanguage" id="ref-for-dom-summarizer-outputlanguage"><c- g>outputLanguage</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double"><c- b>double</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-summarizer-measureinputusage" id="ref-for-dom-summarizer-measureinputusage"><c- g>measureInputUsage</c-></a>(
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑦"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer/measureInputUsage(input, options), Summarizer/measureInputUsage(input)" data-dfn-type="argument" data-export id="dom-summarizer-measureinputusage-input-options-input"><code><c- g>input</c-></code></dfn>,
    <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-summarizersummarizeoptions" id="ref-for-dictdef-summarizersummarizeoptions②"><c- n>SummarizerSummarizeOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer/measureInputUsage(input, options), Summarizer/measureInputUsage(input)" data-dfn-type="argument" data-export id="dom-summarizer-measureinputusage-input-options-options"><code><c- g>options</c-></code></dfn> = {}
  );
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unrestricted double" href="#dom-summarizer-inputquota" id="ref-for-dom-summarizer-inputquota"><c- g>inputQuota</c-></a>;
};
<a data-link-type="idl-name" href="#summarizer" id="ref-for-summarizer①"><c- n>Summarizer</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#destroyablemodel" id="ref-for-destroyablemodel③"><c- n>DestroyableModel</c-></a>;

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-summarizercreatecoreoptions"><code><c- g>SummarizerCreateCoreOptions</c-></code></dfn> {
  <a data-link-type="idl-name" href="#enumdef-summarizertype" id="ref-for-enumdef-summarizertype①"><c- n>SummarizerType</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;key-points&quot;" data-dfn-for="SummarizerCreateCoreOptions" data-dfn-type="dict-member" data-export data-type="SummarizerType" id="dom-summarizercreatecoreoptions-type"><code><c- g>type</c-></code></dfn> = "key-points";
  <a data-link-type="idl-name" href="#enumdef-summarizerformat" id="ref-for-enumdef-summarizerformat①"><c- n>SummarizerFormat</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;markdown&quot;" data-dfn-for="SummarizerCreateCoreOptions" data-dfn-type="dict-member" data-export data-type="SummarizerFormat" id="dom-summarizercreatecoreoptions-format"><code><c- g>format</c-></code></dfn> = "markdown";
  <a data-link-type="idl-name" href="#enumdef-summarizerlength" id="ref-for-enumdef-summarizerlength①"><c- n>SummarizerLength</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;short&quot;" data-dfn-for="SummarizerCreateCoreOptions" data-dfn-type="dict-member" data-export data-type="SummarizerLength" id="dom-summarizercreatecoreoptions-length"><code><c- g>length</c-></code></dfn> = "short";

  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑧"><c- b>DOMString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="SummarizerCreateCoreOptions" data-dfn-type="dict-member" data-export data-type="sequence<DOMString>" id="dom-summarizercreatecoreoptions-expectedinputlanguages"><code><c- g>expectedInputLanguages</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑨"><c- b>DOMString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="SummarizerCreateCoreOptions" data-dfn-type="dict-member" data-export data-type="sequence<DOMString>" id="dom-summarizercreatecoreoptions-expectedcontextlanguages"><code><c- g>expectedContextLanguages</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⓪"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SummarizerCreateCoreOptions" data-dfn-type="dict-member" data-export data-type="DOMString" id="dom-summarizercreatecoreoptions-outputlanguage"><code><c- g>outputLanguage</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-summarizercreateoptions"><code><c- g>SummarizerCreateOptions</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-summarizercreatecoreoptions" id="ref-for-dictdef-summarizercreatecoreoptions①"><c- n>SummarizerCreateCoreOptions</c-></a> {
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal③"><c- n>AbortSignal</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SummarizerCreateOptions" data-dfn-type="dict-member" data-export data-type="AbortSignal" id="dom-summarizercreateoptions-signal"><code><c- g>signal</c-></code></dfn>;
  <a data-link-type="idl-name" href="#callbackdef-createmonitorcallback" id="ref-for-callbackdef-createmonitorcallback"><c- n>CreateMonitorCallback</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SummarizerCreateOptions" data-dfn-type="dict-member" data-export data-type="CreateMonitorCallback" id="dom-summarizercreateoptions-monitor"><code><c- g>monitor</c-></code></dfn>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①①"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SummarizerCreateOptions" data-dfn-type="dict-member" data-export data-type="DOMString" id="dom-summarizercreateoptions-sharedcontext"><code><c- g>sharedContext</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-summarizersummarizeoptions"><code><c- g>SummarizerSummarizeOptions</c-></code></dfn> {
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal④"><c- n>AbortSignal</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SummarizerSummarizeOptions" data-dfn-type="dict-member" data-export data-type="AbortSignal" id="dom-summarizersummarizeoptions-signal"><code><c- g>signal</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①②"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="SummarizerSummarizeOptions" data-dfn-type="dict-member" data-export data-type="DOMString" id="dom-summarizersummarizeoptions-context"><code><c- g>context</c-></code></dfn>;
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-summarizertype"><code><c- g>SummarizerType</c-></code></dfn> { <a class="idl-code" data-link-type="enum-value" href="#dom-summarizertype-tldr" id="ref-for-dom-summarizertype-tldr"><c- s>"tl;dr"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-summarizertype-teaser" id="ref-for-dom-summarizertype-teaser"><c- s>"teaser"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-summarizertype-key-points" id="ref-for-dom-summarizertype-key-points"><c- s>"key-points"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-summarizertype-headline" id="ref-for-dom-summarizertype-headline"><c- s>"headline"</c-></a> };
<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-summarizerformat"><code><c- g>SummarizerFormat</c-></code></dfn> { <a class="idl-code" data-link-type="enum-value" href="#dom-summarizerformat-plain-text" id="ref-for-dom-summarizerformat-plain-text"><c- s>"plain-text"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-summarizerformat-markdown" id="ref-for-dom-summarizerformat-markdown"><c- s>"markdown"</c-></a> };
<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-summarizerlength"><code><c- g>SummarizerLength</c-></code></dfn> { <a class="idl-code" data-link-type="enum-value" href="#dom-summarizerlength-short" id="ref-for-dom-summarizerlength-short"><c- s>"short"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-summarizerlength-medium" id="ref-for-dom-summarizerlength-medium"><c- s>"medium"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-summarizerlength-long" id="ref-for-dom-summarizerlength-long"><c- s>"long"</c-></a> };
</pre>
   <h3 class="heading settled" data-level="3.1" id="summarizer-creation"><span class="secno">3.1. </span><span class="content">Creation</span><a class="self-link" href="#summarizer-creation"></a></h3>
   <div class="algorithm" data-algorithm="create(options)" data-algorithm-for="Summarizer">
     The static <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer" data-dfn-type="method" data-export data-lt="create(options)|create()" id="dom-summarizer-create"><code>create(<var>options</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#create-an-ai-model-object" id="ref-for-create-an-ai-model-object">creating an AI model object</a> given <var>options</var>, "<code class="idl"><a data-link-type="idl" href="#permissiondef-summarizer" id="ref-for-permissiondef-summarizer">summarizer</a></code>", <a data-link-type="dfn" href="#validate-and-canonicalize-summarizer-options" id="ref-for-validate-and-canonicalize-summarizer-options">validate and canonicalize summarizer options</a>, <a data-link-type="dfn" href="#compute-summarizer-options-availability" id="ref-for-compute-summarizer-options-availability">computing summarizer options availability</a>, <a data-link-type="dfn" href="#download-the-summarizer-model" id="ref-for-download-the-summarizer-model">download the summarizer model</a>, <a data-link-type="dfn" href="#initialize-the-summarizer-model" id="ref-for-initialize-the-summarizer-model">initialize the summarizer model</a>, and <a data-link-type="dfn" href="#create-a-summarizer-object" id="ref-for-create-a-summarizer-object">create a summarizer object</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="validate and canonicalize summarizer options">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="validate-and-canonicalize-summarizer-options">validate and canonicalize summarizer options</dfn> given an <code class="idl"><a data-link-type="idl" href="#dictdef-summarizercreatecoreoptions" id="ref-for-dictdef-summarizercreatecoreoptions②">SummarizerCreateCoreOptions</a></code> <var>options</var>, perform the following steps. They mutate <var>options</var> in place to canonicalize and deduplicate language tags, and throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code> if any are invalid. 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="#validate-and-canonicalize-language-tags" id="ref-for-validate-and-canonicalize-language-tags">Validate and canonicalize language tags</a> given <var>options</var> and "<code class="idl"><a data-link-type="idl" href="#dom-summarizercreatecoreoptions-expectedinputlanguages" id="ref-for-dom-summarizercreatecoreoptions-expectedinputlanguages">expectedInputLanguages</a></code>".</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#validate-and-canonicalize-language-tags" id="ref-for-validate-and-canonicalize-language-tags①">Validate and canonicalize language tags</a> given <var>options</var> and "<code class="idl"><a data-link-type="idl" href="#dom-summarizercreatecoreoptions-expectedcontextlanguages" id="ref-for-dom-summarizercreatecoreoptions-expectedcontextlanguages">expectedContextLanguages</a></code>".</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#validate-and-canonicalize-language-tags" id="ref-for-validate-and-canonicalize-language-tags②">Validate and canonicalize language tags</a> given <var>options</var> and "<code class="idl"><a data-link-type="idl" href="#dom-summarizercreatecoreoptions-outputlanguage" id="ref-for-dom-summarizercreatecoreoptions-outputlanguage">outputLanguage</a></code>".</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="download the summarizer model">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="download-the-summarizer-model">download the summarizer model</dfn>, given an <code class="idl"><a data-link-type="idl" href="#dictdef-summarizercreatecoreoptions" id="ref-for-dictdef-summarizercreatecoreoptions③">SummarizerCreateCoreOptions</a></code> <var>options</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert">Assert</a>: these steps are running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>.</p>
     <li data-md>
      <p>Initiate the download process for everything the user agent needs to summarize text according to <var>options</var>. This could include a base AI model, fine-tunings for specific languages or option values, or other resources.</p>
     <li data-md>
      <p>If the download process cannot be started for any reason, then return false.</p>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="initialize the summarizer model">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="initialize-the-summarizer-model">initialize the summarizer model</dfn>, given an <code class="idl"><a data-link-type="idl" href="#dictdef-summarizercreateoptions" id="ref-for-dictdef-summarizercreateoptions①">SummarizerCreateOptions</a></code> <var>options</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①">Assert</a>: these steps are running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a>.</p>
     <li data-md>
      <p>Perform any necessary initialization operations for the AI model backing the user agent’s summarization capabilities.</p>
      <p>This could include loading the model into memory, loading <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizercreateoptions-sharedcontext" id="ref-for-dom-summarizercreateoptions-sharedcontext">sharedContext</a></code>"] into the model’s context window, or loading any fine-tunings necessary to support the other options expressed by <var>options</var>.</p>
     <li data-md>
      <p>If initialization failed because the process of loading <var>options</var> resulted in using up all of the model’s input quota, then:</p>
      <ol>
       <li data-md>
        <p>Let <var>requested</var> be the amount of input usage needed to encode <var>options</var>. The encoding of <var>options</var> as input is <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined">implementation-defined</a>.</p>
        <p class="note" id="note-options-input-usage-encoding" role="note"><a class="self-link" href="#note-options-input-usage-encoding"></a>This could be the amount of tokens needed to represent these options in a <a href="https://arxiv.org/abs/2404.08335">language model tokenization scheme</a>, possibly with prompt engineering. Or it could be 0, if the implementation plans to send the options to the underlying model with every <a data-link-type="dfn" href="#summarize" id="ref-for-summarize">summarize</a> operation. </p>
       <li data-md>
        <p>Let <var>quota</var> be the maximum input quota that the user agent supports for encoding <var>options</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②">Assert</a>: <var>requested</var> is greater than <var>quota</var>. (That is how we reached this error branch.)</p>
       <li data-md>
        <p>Return a <a data-link-type="dfn" href="#quota-exceeded-error-information" id="ref-for-quota-exceeded-error-information">quota exceeded error information</a> whose <a data-link-type="dfn" href="https://whatpr.org/webidl/1465.html#quotaexceedederror-requested" id="ref-for-quotaexceedederror-requested">requested</a> is <var>requested</var> and <a data-link-type="dfn" href="https://whatpr.org/webidl/1465.html#quotaexceedederror-quota" id="ref-for-quotaexceedederror-quota">quota</a> is <var>quota</var>.</p>
      </ol>
     <li data-md>
      <p>If initialization failed for any other reason, then return a <a data-link-type="dfn" href="#domexception-error-information" id="ref-for-domexception-error-information">DOMException error information</a> whose <a data-link-type="dfn" href="#domexception-error-information-name" id="ref-for-domexception-error-information-name">name</a> is "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#operationerror" id="ref-for-operationerror">OperationError</a></code>" and whose <a data-link-type="dfn" href="#domexception-error-information-details" id="ref-for-domexception-error-information-details">details</a> contain appropriate detail.</p>
     <li data-md>
      <p>Return null.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="create a summarizer object">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-summarizer-object">create a summarizer object</dfn>, given a <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#realm" id="ref-for-realm">realm</a> <var>realm</var> and an <code class="idl"><a data-link-type="idl" href="#dictdef-summarizercreateoptions" id="ref-for-dictdef-summarizercreateoptions②">SummarizerCreateOptions</a></code> <var>options</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert③">Assert</a>: these steps are running on <var>realm</var>’s <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#surrounding-agent" id="ref-for-surrounding-agent">surrounding agent</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop" id="ref-for-concept-agent-event-loop">event loop</a>.</p>
     <li data-md>
      <p>Let <var>inputQuota</var> be the amount of input quota that is available to the user agent for future <a data-link-type="dfn" href="#summarize" id="ref-for-summarize①">summarization</a> operations. (This value is <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①">implementation-defined</a>, and may be +∞ if there are no specific limits beyond, e.g., the user’s memory, or the limits of JavaScript strings.)</p>
      <p class="note" role="note">For implementations that do not have infinite quota, this will generally vary for each <code class="idl"><a data-link-type="idl" href="#summarizer" id="ref-for-summarizer②">Summarizer</a></code> instance, depending on how much input quota was used by encoding <var>options</var>. See <a href="#note-options-input-usage-encoding">this note</a> on that encoding. </p>
     <li data-md>
      <p>Return a new <code class="idl"><a data-link-type="idl" href="#summarizer" id="ref-for-summarizer③">Summarizer</a></code> object, created in <var>realm</var>, with</p>
      <dl class="props">
       <dt data-md><a data-link-type="dfn" href="#summarizer-shared-context" id="ref-for-summarizer-shared-context">shared context</a>
       <dd data-md>
        <p><var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizercreateoptions-sharedcontext" id="ref-for-dom-summarizercreateoptions-sharedcontext①">sharedContext</a></code>"] if it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists">exists</a>; otherwise null</p>
       <dt data-md><a data-link-type="dfn" href="#summarizer-summary-type" id="ref-for-summarizer-summary-type">summary type</a>
       <dd data-md>
        <p><var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizercreatecoreoptions-type" id="ref-for-dom-summarizercreatecoreoptions-type">type</a></code>"]</p>
       <dt data-md><a data-link-type="dfn" href="#summarizer-summary-format" id="ref-for-summarizer-summary-format">summary format</a>
       <dd data-md>
        <p><var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizercreatecoreoptions-format" id="ref-for-dom-summarizercreatecoreoptions-format">format</a></code>"]</p>
       <dt data-md><a data-link-type="dfn" href="#summarizer-summary-length" id="ref-for-summarizer-summary-length">summary length</a>
       <dd data-md>
        <p><var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizercreatecoreoptions-length" id="ref-for-dom-summarizercreatecoreoptions-length">length</a></code>"]</p>
       <dt data-md><a data-link-type="dfn" href="#summarizer-expected-input-languages" id="ref-for-summarizer-expected-input-languages">expected input languages</a>
       <dd data-md>
        <p>the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-frozen-array" id="ref-for-dfn-create-frozen-array">creating a frozen array</a> given <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizercreatecoreoptions-expectedinputlanguages" id="ref-for-dom-summarizercreatecoreoptions-expectedinputlanguages①">expectedInputLanguages</a></code>"] if it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty">is not empty</a>; otherwise null</p>
       <dt data-md><a data-link-type="dfn" href="#summarizer-expected-context-languages" id="ref-for-summarizer-expected-context-languages">expected context languages</a>
       <dd data-md>
        <p>the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-frozen-array" id="ref-for-dfn-create-frozen-array①">creating a frozen array</a> given <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizercreatecoreoptions-expectedcontextlanguages" id="ref-for-dom-summarizercreatecoreoptions-expectedcontextlanguages①">expectedContextLanguages</a></code>"] if it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①">is not empty</a>; otherwise null</p>
       <dt data-md><a data-link-type="dfn" href="#summarizer-output-language" id="ref-for-summarizer-output-language">output language</a>
       <dd data-md>
        <p><var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizercreatecoreoptions-outputlanguage" id="ref-for-dom-summarizercreatecoreoptions-outputlanguage①">outputLanguage</a></code>"] if it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①">exists</a>; otherwise null</p>
       <dt data-md><a data-link-type="dfn" href="#summarizer-input-quota" id="ref-for-summarizer-input-quota">input quota</a>
       <dd data-md>
        <p><var>inputQuota</var></p>
      </dl>
    </ol>
   </div>
   <h3 class="heading settled" data-level="3.2" id="summarizer-availability"><span class="secno">3.2. </span><span class="content">Availability</span><a class="self-link" href="#summarizer-availability"></a></h3>
   <div class="algorithm" data-algorithm="availability(options)" data-algorithm-for="Summarizer">
     The static <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer" data-dfn-type="method" data-export data-lt="availability(options)|availability()" id="dom-summarizer-availability"><code>availability(<var>options</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#compute-ai-model-availability" id="ref-for-compute-ai-model-availability">computing AI model availability</a> given <var>options</var>, "<code class="idl"><a data-link-type="idl" href="#permissiondef-summarizer" id="ref-for-permissiondef-summarizer①">summarizer</a></code>", <a data-link-type="dfn" href="#validate-and-canonicalize-summarizer-options" id="ref-for-validate-and-canonicalize-summarizer-options①">validate and canonicalize summarizer options</a>, and <a data-link-type="dfn" href="#compute-summarizer-options-availability" id="ref-for-compute-summarizer-options-availability①">compute summarizer options availability</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="compute summarizer options availability">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="compute-summarizer-options-availability">compute summarizer options availability</dfn> given an <code class="idl"><a data-link-type="idl" href="#dictdef-summarizercreatecoreoptions" id="ref-for-dictdef-summarizercreatecoreoptions④">SummarizerCreateCoreOptions</a></code> <var>options</var>, perform the following steps. They return either an <code class="idl"><a data-link-type="idl" href="#enumdef-availability" id="ref-for-enumdef-availability①">Availability</a></code> value or null, and they mutate <var>options</var> in place to update language tags to their best-fit matches. 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert④">Assert</a>: this algorithm is running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②">in parallel</a>.</p>
     <li data-md>
      <p>Let <var>availability</var> be the <a data-link-type="dfn" href="#summarizer-non-language-options-availability" id="ref-for-summarizer-non-language-options-availability">summarizer non-language options availability</a> given <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizercreatecoreoptions-type" id="ref-for-dom-summarizercreatecoreoptions-type①">type</a></code>"], <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizercreatecoreoptions-format" id="ref-for-dom-summarizercreatecoreoptions-format①">format</a></code>"], and <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizercreatecoreoptions-length" id="ref-for-dom-summarizercreatecoreoptions-length①">length</a></code>"].</p>
     <li data-md>
      <p>Let <var>triple</var> be the <a data-link-type="dfn" href="#summarizer-language-availabilities-triple" id="ref-for-summarizer-language-availabilities-triple">summarizer language availabilities triple</a>.</p>
     <li data-md>
      <p>If <var>triple</var> is null, then return null.</p>
     <li data-md>
      <p>Let <var>inputLanguageAvailability</var> be the result of <a data-link-type="dfn" href="#compute-language-availability" id="ref-for-compute-language-availability">computing language availability</a> given <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizercreatecoreoptions-expectedinputlanguages" id="ref-for-dom-summarizercreatecoreoptions-expectedinputlanguages②">expectedInputLanguages</a></code>"] and <var>triple</var>’s <a data-link-type="dfn" href="#language-availabilities-triple-input-languages" id="ref-for-language-availabilities-triple-input-languages">input languages</a>.</p>
     <li data-md>
      <p>Let <var>contextLanguagesAvailability</var> be the result of <a data-link-type="dfn" href="#compute-language-availability" id="ref-for-compute-language-availability①">computing language availability</a> given <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizercreatecoreoptions-expectedcontextlanguages" id="ref-for-dom-summarizercreatecoreoptions-expectedcontextlanguages②">expectedContextLanguages</a></code>"] and <var>triple</var>’s <a data-link-type="dfn" href="#language-availabilities-triple-context-languages" id="ref-for-language-availabilities-triple-context-languages">context languages</a>.</p>
     <li data-md>
      <p>Let <var>outputLanguagesList</var> be « <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizercreatecoreoptions-outputlanguage" id="ref-for-dom-summarizercreatecoreoptions-outputlanguage②">outputLanguage</a></code>"] ».</p>
     <li data-md>
      <p>Let <var>outputLanguageAvailability</var> be the result of <a data-link-type="dfn" href="#compute-language-availability" id="ref-for-compute-language-availability②">computing language availability</a> given <var>outputLanguagesList</var> and <var>triple</var>’s <a data-link-type="dfn" href="#language-availabilities-triple-output-languages" id="ref-for-language-availabilities-triple-output-languages">output languages</a>.</p>
     <li data-md>
      <p>Set <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizercreatecoreoptions-outputlanguage" id="ref-for-dom-summarizercreatecoreoptions-outputlanguage③">outputLanguage</a></code>"] to <var>outputLanguagesList</var>[0].</p>
     <li data-md>
      <p>Return the <a data-link-type="dfn" href="#availability-minimum-availability" id="ref-for-availability-minimum-availability">minimum availability</a> given « <var>availability</var>, <var>inputLanguageAvailability</var>, <var>contextLanguagesAvailability</var>, <var>outputLanguageAvailability</var> ».</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="summarizer non-language options availability">
     The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="summarizer-non-language-options-availability">summarizer non-language options availability</dfn>, given a <code class="idl"><a data-link-type="idl" href="#enumdef-summarizertype" id="ref-for-enumdef-summarizertype②">SummarizerType</a></code> <var>type</var>, <code class="idl"><a data-link-type="idl" href="#enumdef-summarizerformat" id="ref-for-enumdef-summarizerformat②">SummarizerFormat</a></code> <var>format</var>, and an <code class="idl"><a data-link-type="idl" href="#enumdef-summarizerlength" id="ref-for-enumdef-summarizerlength②">SummarizerLength</a></code> <var>length</var>, is given by the following steps. They return an <code class="idl"><a data-link-type="idl" href="#enumdef-availability" id="ref-for-enumdef-availability②">Availability</a></code> value or null. 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑤">Assert</a>: this algorithm is running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③">in parallel</a>.</p>
     <li data-md>
      <p>If there is some error attempting to determine whether the user agent supports summarizing text, which the user agent believes to be transient (such that re-querying could stop producing such an error), then return null.</p>
     <li data-md>
      <p>If the user agent supports summarizing text into the type of summary described by <var>type</var>, in the format described by <var>format</var>, and with the length guidance given by <var>length</var> without performing any downloading operations, then return "<code class="idl"><a data-link-type="idl" href="#dom-availability-available" id="ref-for-dom-availability-available">available</a></code>".</p>
     <li data-md>
      <p>If the user agent believes it can summarize text according to <var>type</var>, <var>format</var>, and <var>length</var>, but only after finishing a download (e.g., of an AI model or fine-tuning) that is already ongoing, then return "<code class="idl"><a data-link-type="idl" href="#dom-availability-downloadable" id="ref-for-dom-availability-downloadable">downloadable</a></code>".</p>
     <li data-md>
      <p>If the user agent believes it can summarize text according to <var>type</var>, <var>format</var>, and <var>length</var>, but only after performing a download (e.g., of an AI model or fine-tuning), then return "<code class="idl"><a data-link-type="idl" href="#dom-availability-downloadable" id="ref-for-dom-availability-downloadable①">downloadable</a></code>".</p>
     <li data-md>
      <p>Otherwise, return "<code class="idl"><a data-link-type="idl" href="#dom-availability-unavailable" id="ref-for-dom-availability-unavailable">unavailable</a></code>".</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="summarizer language availabilities triple">
     The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="summarizer-language-availabilities-triple">summarizer language availabilities triple</dfn> is given by the following steps. They return a <a data-link-type="dfn" href="#language-availabilities-triple" id="ref-for-language-availabilities-triple">language availabilities triple</a> or null. 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑥">Assert</a>: this algorithm is running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel④">in parallel</a>.</p>
     <li data-md>
      <p>If there is some error attempting to determine whether the user agent supports summarizing text, which the user agent believes to be transient (such that re-querying could stop producing such an error), then return null.</p>
     <li data-md>
      <p>Return a <a data-link-type="dfn" href="#language-availabilities-triple" id="ref-for-language-availabilities-triple①">language availabilities triple</a> with:</p>
      <dl class="props">
       <dt data-md><a data-link-type="dfn" href="#language-availabilities-triple-input-languages" id="ref-for-language-availabilities-triple-input-languages①">input languages</a>
       <dd data-md>
        <p>the result of <a data-link-type="dfn" href="#get-the-language-availabilities-partition" id="ref-for-get-the-language-availabilities-partition">getting the language availabilities partition</a> given the purpose of summarizing text written in that language</p>
       <dt data-md><a data-link-type="dfn" href="#language-availabilities-triple-context-languages" id="ref-for-language-availabilities-triple-context-languages①">context languages</a>
       <dd data-md>
        <p>the result of <a data-link-type="dfn" href="#get-the-language-availabilities-partition" id="ref-for-get-the-language-availabilities-partition①">getting the language availabilities partition</a> given the purpose of summarizing text using web-developer provided context information written in that language</p>
       <dt data-md><a data-link-type="dfn" href="#language-availabilities-triple-output-languages" id="ref-for-language-availabilities-triple-output-languages①">output languages</a>
       <dd data-md>
        <p>the result of <a data-link-type="dfn" href="#get-the-language-availabilities-partition" id="ref-for-get-the-language-availabilities-partition②">getting the language availabilities partition</a> given the purpose of producing text summaries in that language</p>
      </dl>
    </ol>
   </div>
   <div class="example" id="example-subtags-chinese">
    <a class="self-link" href="#example-subtags-chinese"></a> A common setup seen in today’s software is to support two types of written Chinese: "traditional Chinese" and "simplified Chinese". Let’s suppose that the user agent supports summarizing text written in traditional Chinese with no downloads, and simplified Chinese after a download. 
    <p>One way this could be implemented would be for <a data-link-type="dfn" href="#summarizer-language-availabilities-triple" id="ref-for-summarizer-language-availabilities-triple①">summarizer language availabilities triple</a> to return that "<code>zh-Hant</code>" is in the <a data-link-type="dfn" href="#language-availabilities-triple-input-languages" id="ref-for-language-availabilities-triple-input-languages②">input languages</a>["<code class="idl"><a data-link-type="idl" href="#dom-availability-available" id="ref-for-dom-availability-available①">available</a></code>"] set, and "<code>zh</code>" and "<code>zh-Hans</code>" are in the <a data-link-type="dfn" href="#language-availabilities-triple-input-languages" id="ref-for-language-availabilities-triple-input-languages③">input languages</a>["<code class="idl"><a data-link-type="idl" href="#dom-availability-downloadable" id="ref-for-dom-availability-downloadable②">downloadable</a></code>"] set. This return value conforms to the requirements of the <a data-link-type="dfn" href="#language-tag-set-completeness-rules" id="ref-for-language-tag-set-completeness-rules">language tag set completeness rules</a>, in ensuring that "<code>zh</code>" is present. Per <a class="allow-2119" href="#language-tag-completeness-implementation-defined">the "should"-level guidance</a>, the implementation has determined that "<code>zh</code>" belongs in the set of downloadable input languages, with "<code>zh-Hans</code>", instead of in the set of available input languages, with "<code>zh-Hant</code>".</p>
    <p>Combined with the use of <a data-link-type="abstract-op" href="https://tc39.es/ecma402/#sec-lookupmatchinglocalebybestfit" id="ref-for-sec-lookupmatchinglocalebybestfit">LookupMatchingLocaleByBestFit</a>, this means <code class="idl"><a data-link-type="idl" href="#dom-summarizer-availability" id="ref-for-dom-summarizer-availability①">availability()</a></code> will give the following answers:</p>
<pre class="language-js highlight"><c- a>function</c-> a<c- p>(</c->languageTag<c- p>)</c-> <c- p>{</c->
  <c- k>return</c-> Summarizer<c- p>.</c->availability<c- p>({</c->
    expectedInputLanguages<c- o>:</c-> <c- p>[</c->languageTag<c- p>]</c->
  <c- p>});</c->
<c- p>}</c->

<c- k>await</c-> a<c- p>(</c-><c- u>"zh"</c-><c- p>)</c-> <c- o>===</c-> <c- u>"downloadable"</c-><c- p>;</c->
<c- k>await</c-> a<c- p>(</c-><c- u>"zh-Hant"</c-><c- p>)</c-> <c- o>===</c-> <c- u>"available"</c-><c- p>;</c->
<c- k>await</c-> a<c- p>(</c-><c- u>"zh-Hans"</c-><c- p>)</c-> <c- o>===</c-> <c- u>"downloadable"</c-><c- p>;</c->

<c- k>await</c-> a<c- p>(</c-><c- u>"zh-TW"</c-><c- p>)</c-> <c- o>===</c-> <c- u>"available"</c-><c- p>;</c->      <c- c1>// zh-TW will best-fit to zh-Hant</c->
<c- k>await</c-> a<c- p>(</c-><c- u>"zh-HK"</c-><c- p>)</c-> <c- o>===</c-> <c- u>"available"</c-><c- p>;</c->      <c- c1>// zh-HK will best-fit to zh-Hant</c->
<c- k>await</c-> a<c- p>(</c-><c- u>"zh-CN"</c-><c- p>)</c-> <c- o>===</c-> <c- u>"downloadable"</c-><c- p>;</c->   <c- c1>// zh-CN will best-fit to zh-Hans</c->

<c- k>await</c-> a<c- p>(</c-><c- u>"zh-BR"</c-><c- p>)</c-> <c- o>===</c-> <c- u>"downloadable"</c-><c- p>;</c->   <c- c1>// zh-BR will best-fit to zh</c->
<c- k>await</c-> a<c- p>(</c-><c- u>"zh-Kana"</c-><c- p>)</c-> <c- o>===</c-> <c- u>"downloadable"</c-><c- p>;</c-> <c- c1>// zh-Kana will best-fit to zh</c->
</pre>
   </div>
   <h3 class="heading settled" data-level="3.3" id="the-summarizer-class"><span class="secno">3.3. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#summarizer" id="ref-for-summarizer④">Summarizer</a></code> class</span><a class="self-link" href="#the-summarizer-class"></a></h3>
   <p>Every <code class="idl"><a data-link-type="idl" href="#summarizer" id="ref-for-summarizer⑤">Summarizer</a></code> has a <dfn class="dfn-paneled" data-dfn-for="Summarizer" data-dfn-type="dfn" data-noexport id="summarizer-shared-context">shared context</dfn>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string">string</a>-or-null, set during creation.</p>
   <p>Every <code class="idl"><a data-link-type="idl" href="#summarizer" id="ref-for-summarizer⑥">Summarizer</a></code> has a <dfn class="dfn-paneled" data-dfn-for="Summarizer" data-dfn-type="dfn" data-noexport id="summarizer-summary-type">summary type</dfn>, an <code class="idl"><a data-link-type="idl" href="#enumdef-summarizertype" id="ref-for-enumdef-summarizertype③">SummarizerType</a></code>, set during creation.</p>
   <p>Every <code class="idl"><a data-link-type="idl" href="#summarizer" id="ref-for-summarizer⑦">Summarizer</a></code> has a <dfn class="dfn-paneled" data-dfn-for="Summarizer" data-dfn-type="dfn" data-noexport id="summarizer-summary-format">summary format</dfn>, an <code class="idl"><a data-link-type="idl" href="#enumdef-summarizerformat" id="ref-for-enumdef-summarizerformat③">SummarizerFormat</a></code>, set during creation.</p>
   <p>Every <code class="idl"><a data-link-type="idl" href="#summarizer" id="ref-for-summarizer⑧">Summarizer</a></code> has a <dfn class="dfn-paneled" data-dfn-for="Summarizer" data-dfn-type="dfn" data-noexport id="summarizer-summary-length">summary length</dfn>, an <code class="idl"><a data-link-type="idl" href="#enumdef-summarizerlength" id="ref-for-enumdef-summarizerlength③">SummarizerLength</a></code>, set during creation.</p>
   <p>Every <code class="idl"><a data-link-type="idl" href="#summarizer" id="ref-for-summarizer⑨">Summarizer</a></code> has an <dfn class="dfn-paneled" data-dfn-for="Summarizer" data-dfn-type="dfn" data-noexport id="summarizer-expected-input-languages">expected input languages</dfn>, a <code><code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array②">FrozenArray</a></code>&lt;<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①③">DOMString</a></code>></code> or null, set during creation.</p>
   <p>Every <code class="idl"><a data-link-type="idl" href="#summarizer" id="ref-for-summarizer①⓪">Summarizer</a></code> has an <dfn class="dfn-paneled" data-dfn-for="Summarizer" data-dfn-type="dfn" data-noexport id="summarizer-expected-context-languages">expected context languages</dfn>, a <code><code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array③">FrozenArray</a></code>&lt;<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①④">DOMString</a></code>></code> or null, set during creation.</p>
   <p>Every <code class="idl"><a data-link-type="idl" href="#summarizer" id="ref-for-summarizer①①">Summarizer</a></code> has an <dfn class="dfn-paneled" data-dfn-for="Summarizer" data-dfn-type="dfn" data-noexport id="summarizer-output-language">output language</dfn>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①">string</a> or null, set during creation.</p>
   <p>Every <code class="idl"><a data-link-type="idl" href="#summarizer" id="ref-for-summarizer①②">Summarizer</a></code> has a <dfn class="dfn-paneled" data-dfn-for="Summarizer" data-dfn-type="dfn" data-noexport id="summarizer-input-quota">input quota</dfn>, a number, set during creation.</p>
   <hr>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer" data-dfn-type="attribute" data-export id="dom-summarizer-sharedcontext"><code>sharedContext</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a>’s <a data-link-type="dfn" href="#summarizer-shared-context" id="ref-for-summarizer-shared-context①">shared context</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer" data-dfn-type="attribute" data-export id="dom-summarizer-type"><code>type</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this</a>’s <a data-link-type="dfn" href="#summarizer-summary-type" id="ref-for-summarizer-summary-type①">summary type</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer" data-dfn-type="attribute" data-export id="dom-summarizer-format"><code>format</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">this</a>’s <a data-link-type="dfn" href="#summarizer-summary-format" id="ref-for-summarizer-summary-format①">summary format</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer" data-dfn-type="attribute" data-export id="dom-summarizer-length"><code>length</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">this</a>’s <a data-link-type="dfn" href="#summarizer-summary-length" id="ref-for-summarizer-summary-length①">summary length</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer" data-dfn-type="attribute" data-export id="dom-summarizer-expectedinputlanguages"><code>expectedInputLanguages</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤">this</a>’s <a data-link-type="dfn" href="#summarizer-expected-input-languages" id="ref-for-summarizer-expected-input-languages①">expected input languages</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer" data-dfn-type="attribute" data-export id="dom-summarizer-expectedcontextlanguages"><code>expectedContextLanguages</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥">this</a>’s <a data-link-type="dfn" href="#summarizer-expected-context-languages" id="ref-for-summarizer-expected-context-languages①">expected context languages</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer" data-dfn-type="attribute" data-export id="dom-summarizer-outputlanguage"><code>outputLanguage</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦">this</a>’s <a data-link-type="dfn" href="#summarizer-output-language" id="ref-for-summarizer-output-language①">output language</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer" data-dfn-type="attribute" data-export id="dom-summarizer-inputquota"><code>inputQuota</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧">this</a>’s <a data-link-type="dfn" href="#summarizer-input-quota" id="ref-for-summarizer-input-quota①">input quota</a>.</p>
   <hr>
   <div class="algorithm" data-algorithm="summarize(input, options)" data-algorithm-for="Summarizer">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer" data-dfn-type="method" data-export data-lt="summarize(input, options)|summarize(input)" id="dom-summarizer-summarize"><code>summarize(<var>input</var>, <var>options</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Let <var>context</var> be <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizersummarizeoptions-context" id="ref-for-dom-summarizersummarizeoptions-context">context</a></code>"] if it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②">exists</a>; otherwise null.</p>
     <li data-md>
      <p>Let <var>operation</var> be an algorithm step which takes arguments <var>chunkProduced</var>, <var>done</var>, <var>error</var>, and <var>stopProducing</var>, and <a data-link-type="dfn" href="#summarize" id="ref-for-summarize②">summarizes</a> <var>input</var> given <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑨">this</a>’s <a data-link-type="dfn" href="#summarizer-shared-context" id="ref-for-summarizer-shared-context②">shared context</a>, <var>context</var>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⓪">this</a>’s <a data-link-type="dfn" href="#summarizer-summary-type" id="ref-for-summarizer-summary-type②">summary type</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①">this</a>’s <a data-link-type="dfn" href="#summarizer-summary-format" id="ref-for-summarizer-summary-format②">summary format</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①②">this</a>’s <a data-link-type="dfn" href="#summarizer-summary-length" id="ref-for-summarizer-summary-length②">summary length</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①③">this</a>’s <a data-link-type="dfn" href="#summarizer-output-language" id="ref-for-summarizer-output-language②">output language</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">this</a>’s <a data-link-type="dfn" href="#summarizer-input-quota" id="ref-for-summarizer-input-quota②">input quota</a>, <var>chunkProduced</var>, <var>done</var>, <var>error</var>, and <var>stopProducing</var>.</p>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#get-an-aggregated-ai-model-result" id="ref-for-get-an-aggregated-ai-model-result">getting an aggregated AI model result</a> given <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">this</a>, <var>options</var>, and <var>operation</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="summarizeStreaming(input, options)" data-algorithm-for="Summarizer">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer" data-dfn-type="method" data-export data-lt="summarizeStreaming(input, options)|summarizeStreaming(input)" id="dom-summarizer-summarizestreaming"><code>summarizeStreaming(<var>input</var>, <var>options</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Let <var>context</var> be <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizersummarizeoptions-context" id="ref-for-dom-summarizersummarizeoptions-context①">context</a></code>"] if it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③">exists</a>; otherwise null.</p>
     <li data-md>
      <p>Let <var>operation</var> be an algorithm step which takes arguments <var>chunkProduced</var>, <var>done</var>, <var>error</var>, and <var>stopProducing</var>, and <a data-link-type="dfn" href="#summarize" id="ref-for-summarize③">summarizes</a> <var>input</var> given <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑥">this</a>’s <a data-link-type="dfn" href="#summarizer-shared-context" id="ref-for-summarizer-shared-context③">shared context</a>, <var>context</var>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑦">this</a>’s <a data-link-type="dfn" href="#summarizer-summary-type" id="ref-for-summarizer-summary-type③">summary type</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑧">this</a>’s <a data-link-type="dfn" href="#summarizer-summary-format" id="ref-for-summarizer-summary-format③">summary format</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑨">this</a>’s <a data-link-type="dfn" href="#summarizer-summary-length" id="ref-for-summarizer-summary-length③">summary length</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⓪">this</a>’s <a data-link-type="dfn" href="#summarizer-output-language" id="ref-for-summarizer-output-language③">output language</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②①">this</a>’s <a data-link-type="dfn" href="#summarizer-input-quota" id="ref-for-summarizer-input-quota③">input quota</a>, <var>chunkProduced</var>, <var>done</var>, <var>error</var>, and <var>stopProducing</var>.</p>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#get-a-streaming-ai-model-result" id="ref-for-get-a-streaming-ai-model-result">getting a streaming AI model result</a> given <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②②">this</a>, <var>options</var>, and <var>operation</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="measureInputUsage(input, options)" data-algorithm-for="Summarizer">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Summarizer" data-dfn-type="method" data-export data-lt="measureInputUsage(input, options)|measureInputUsage(input)" id="dom-summarizer-measureinputusage"><code>measureInputUsage(<var>input</var>, <var>options</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Let <var>context</var> be <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizersummarizeoptions-context" id="ref-for-dom-summarizersummarizeoptions-context②">context</a></code>"] if it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④">exists</a>; otherwise null.</p>
     <li data-md>
      <p>Let <var>measureUsage</var> be an algorithm step which takes argument <var>stopMeasuring</var>, and returns the result of <a data-link-type="dfn" href="#measure-summarizer-input-usage" id="ref-for-measure-summarizer-input-usage">measuring summarizer input usage</a> given <var>input</var>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②③">this</a>’s <a data-link-type="dfn" href="#summarizer-shared-context" id="ref-for-summarizer-shared-context④">shared context</a>, <var>context</var>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②④">this</a>’s <a data-link-type="dfn" href="#summarizer-summary-type" id="ref-for-summarizer-summary-type④">summary type</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑤">this</a>’s <a data-link-type="dfn" href="#summarizer-summary-format" id="ref-for-summarizer-summary-format④">summary format</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑥">this</a>’s <a data-link-type="dfn" href="#summarizer-summary-length" id="ref-for-summarizer-summary-length④">summary length</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑦">this</a>’s <a data-link-type="dfn" href="#summarizer-output-language" id="ref-for-summarizer-output-language④">output language</a>, and <var>stopMeasuring</var>.</p>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#measure-ai-model-input-usage" id="ref-for-measure-ai-model-input-usage">measuring AI model input usage</a> given <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑧">this</a>, <var>options</var>, and <var>measureUsage</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="3.4" id="summarizer-summarization"><span class="secno">3.4. </span><span class="content">Summarization</span><a class="self-link" href="#summarizer-summarization"></a></h3>
   <h4 class="heading settled" data-level="3.4.1" id="summarizer-algorithm"><span class="secno">3.4.1. </span><span class="content">The algorithm</span><a class="self-link" href="#summarizer-algorithm"></a></h4>
   <div class="algorithm" data-algorithm="summarize">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="summarize">summarize</dfn> given: 
    <ul>
     <li data-md>
      <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②">string</a> <var>input</var>,</p>
     <li data-md>
      <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③">string</a>-or-null <var>sharedContext</var>,</p>
     <li data-md>
      <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string④">string</a>-or-null <var>context</var>,</p>
     <li data-md>
      <p>an <code class="idl"><a data-link-type="idl" href="#enumdef-summarizertype" id="ref-for-enumdef-summarizertype④">SummarizerType</a></code> <var>type</var>,</p>
     <li data-md>
      <p>an <code class="idl"><a data-link-type="idl" href="#enumdef-summarizerformat" id="ref-for-enumdef-summarizerformat④">SummarizerFormat</a></code> <var>format</var>,</p>
     <li data-md>
      <p>an <code class="idl"><a data-link-type="idl" href="#enumdef-summarizerlength" id="ref-for-enumdef-summarizerlength④">SummarizerLength</a></code> <var>length</var>,</p>
     <li data-md>
      <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑤">string</a>-or-null <var>outputLanguage</var>,</p>
     <li data-md>
      <p>a number <var>inputQuota</var>,</p>
     <li data-md>
      <p>an algorithm <var>chunkProduced</var> that takes a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑥">string</a> and returns nothing,</p>
     <li data-md>
      <p>an algorithm <var>done</var> that takes no arguments and returns nothing,</p>
     <li data-md>
      <p>an algorithm <var>error</var> that takes <a data-link-type="dfn" href="#error-information" id="ref-for-error-information">error information</a> and returns nothing, and</p>
     <li data-md>
      <p>an algorithm <var>stopProducing</var> that takes no arguments and returns a boolean,</p>
    </ul>
    <p>perform the following steps:</p>
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑦">Assert</a>: this algorithm is running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑤">in parallel</a>.</p>
     <li data-md>
      <p>Let <var>requested</var> be the result of <a data-link-type="dfn" href="#measure-summarizer-input-usage" id="ref-for-measure-summarizer-input-usage①">measuring summarizer input usage</a> given <var>input</var>, <var>sharedContext</var>, <var>context</var>, <var>type</var>, <var>format</var>, <var>length</var>, <var>outputLanguage</var>, and <var>stopProducing</var>.</p>
     <li data-md>
      <p>If <var>requested</var> is null, then return.</p>
     <li data-md>
      <p>If <var>requested</var> is an <a data-link-type="dfn" href="#error-information" id="ref-for-error-information①">error information</a>, then:</p>
      <ol>
       <li data-md>
        <p>Perform <var>error</var> given <var>requested</var>.</p>
       <li data-md>
        <p>Return.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑧">Assert</a>: <var>requested</var> is a number.</p>
     <li data-md>
      <p>If <var>requested</var> is greater than <var>inputQuota</var>, then:</p>
      <ol>
       <li data-md>
        <p>Let <var>errorInfo</var> be a <a data-link-type="dfn" href="#quota-exceeded-error-information" id="ref-for-quota-exceeded-error-information①">quota exceeded error information</a> with a <a data-link-type="dfn" href="#quota-exceeded-error-information-requested" id="ref-for-quota-exceeded-error-information-requested">requested</a> of <var>requested</var> and a <a data-link-type="dfn" href="#quota-exceeded-error-information-quota" id="ref-for-quota-exceeded-error-information-quota">quota</a> of <var>inputQuota</var>.</p>
       <li data-md>
        <p>Perform <var>error</var> given <var>errorInfo</var>.</p>
       <li data-md>
        <p>Return.</p>
      </ol>
      <p class="note" role="note">In reality, we expect that implementations will check the input usage against the quota as part of the same call into the model as the summarization itself. The steps are only separated in the specification for ease of understanding. </p>
     <li data-md>
      <p>In an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined②">implementation-defined</a> manner, subject to the following guidelines, begin the processs of summarizing <var>input</var> into a string.</p>
      <p>If they are non-null, <var>sharedContext</var> and <var>context</var> should be used to aid in the summarization by providing context on how the web developer wishes the input to be summarized.</p>
      <p>If <var>input</var> is the empty string, or otherwise consists of no summarizable content (e.g., only contains whitespace, or control characters), then the resulting summary should be the empty string. In such cases, <var>sharedContext</var>, <var>context</var>, <var>type</var>, <var>format</var>, <var>length</var>, and <var>outputLanguage</var> should be ignored.</p>
      <p>The summarization should conform to the guidance given by <var>type</var>, <var>format</var>, and <var>length</var>, in the definitions of each of their enumeration values.</p>
      <p>If <var>outputLanguage</var> is non-null, the summarization should be in that language. Otherwise, it should be in the language of <var>input</var> (which might not match that of <var>context</var> or <var>sharedContext</var>). If <var>input</var> contains multiple languages, or the language of <var>input</var> cannot be detected, then either the output language is <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined③">implementation-defined</a>, or the implementation may treat this as an error, per the guidance in <a href="#summarizer-errors">§ 3.4.4 Errors</a>.</p>
     <li data-md>
      <p>While true:</p>
      <ol>
       <li data-md>
        <p>Wait for the next chunk of summarization data to be produced, for the summarization process to finish, or for the result of calling <var>stopProducing</var> to become true.</p>
       <li data-md>
        <p>If such a chunk is successfully produced:</p>
        <ol>
         <li data-md>
          <p>Let it be represented as a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑦">string</a> <var>chunk</var>.</p>
         <li data-md>
          <p>Perform <var>chunkProduced</var> given <var>chunk</var>.</p>
        </ol>
       <li data-md>
        <p>Otherwise, if the summarization process has finished:</p>
        <ol>
         <li data-md>
          <p>Perform <var>done</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break">Break</a>.</p>
        </ol>
       <li data-md>
        <p>Otherwise, if <var>stopProducing</var> returns true, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break①">break</a>.</p>
       <li data-md>
        <p>Otherwise, if an error occurred during summarization:</p>
        <ol>
         <li data-md>
          <p>Let the error be represented as <a data-link-type="dfn" href="#error-information" id="ref-for-error-information②">error information</a> <var>errorInfo</var> according to the guidance in <a href="#summarizer-errors">§ 3.4.4 Errors</a>.</p>
         <li data-md>
          <p>Perform <var>error</var> given <var>errorInfo</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break②">Break</a>.</p>
        </ol>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="3.4.2" id="summarizer-usage"><span class="secno">3.4.2. </span><span class="content">Usage</span><a class="self-link" href="#summarizer-usage"></a></h4>
   <div class="algorithm" data-algorithm="measure summarizer input usage">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="measure-summarizer-input-usage">measure summarizer input usage</dfn>, given: 
    <ul>
     <li data-md>
      <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑧">string</a> <var>input</var>,</p>
     <li data-md>
      <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑨">string</a>-or-null <var>sharedContext</var>,</p>
     <li data-md>
      <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⓪">string</a>-or-null <var>context</var>,</p>
     <li data-md>
      <p>an <code class="idl"><a data-link-type="idl" href="#enumdef-summarizertype" id="ref-for-enumdef-summarizertype⑤">SummarizerType</a></code> <var>type</var>,</p>
     <li data-md>
      <p>an <code class="idl"><a data-link-type="idl" href="#enumdef-summarizerformat" id="ref-for-enumdef-summarizerformat⑤">SummarizerFormat</a></code> <var>format</var>,</p>
     <li data-md>
      <p>an <code class="idl"><a data-link-type="idl" href="#enumdef-summarizerlength" id="ref-for-enumdef-summarizerlength⑤">SummarizerLength</a></code> <var>length</var>,</p>
     <li data-md>
      <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①①">string</a>-or-null <var>outputLanguage</var>, and</p>
     <li data-md>
      <p>an algorithm <var>stopMeasuring</var> that takes no arguments and returns a boolean,</p>
    </ul>
    <p>perform the following steps:</p>
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑨">Assert</a>: this algorithm is running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑥">in parallel</a>.</p>
     <li data-md>
      <p>Let <var>inputToModel</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined④">implementation-defined</a> string that would be sent to the underlying model in order to <a data-link-type="dfn" href="#summarize" id="ref-for-summarize④">summarize</a> given <var>input</var>, <var>sharedContext</var>, <var>context</var>, <var>type</var>, <var>format</var>, <var>length</var>, and <var>outputLanguage</var>.</p>
      <p class="note" id="note-input-to-model" role="note"><a class="self-link" href="#note-input-to-model"></a>This might be something similar to the concatenation of <var>input</var> and <var>context</var>, if all of the other options were loaded into the model during initialization, and so the input usage for those was already accounted for when computing the <a data-link-type="dfn" href="#summarizer-input-quota" id="ref-for-summarizer-input-quota④">input quota</a>. Or it might consist of more, if the options are sent along with every summarization call, or if there is a per-summarization wrapper prompt of some sort. </p>
      <p>If during this process <var>stopMeasuring</var> starts returning true, then return null.</p>
      <p>If an error occurs during this process, then return an appropriate <a data-link-type="dfn" href="#domexception-error-information" id="ref-for-domexception-error-information①">DOMException error information</a> according to the guidance in <a href="#summarizer-errors">§ 3.4.4 Errors</a>.</p>
     <li data-md>
      <p>Return the amount of input usage needed to represent <var>inputToModel</var> when given to the underlying model. The exact calculation procedure is <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined⑤">implementation-defined</a>, subject to the following constraints.</p>
      <p>The returned input usage must be nonnegative and finite. It must be 0, if there are no usage quotas for the summarization process (i.e., if the <a data-link-type="dfn" href="#summarizer-input-quota" id="ref-for-summarizer-input-quota⑤">input quota</a> is +∞). Otherwise, it must be positive and should be roughly proportional to the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length">length</a> of <var>inputToModel</var>.</p>
      <p class="note" id="note-summarizer-input-usage" role="note"><a class="self-link" href="#note-summarizer-input-usage"></a>This might be the number of tokens needed to represent <var>input</var> in a <a href="https://arxiv.org/abs/2404.08335">language model tokenization scheme</a>, or it might be <var>input</var>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length①">length</a>. It could also be some variation of these which also counts the usage of any prefixes or suffixes necessary to give to the model. </p>
      <p>If during this process <var>stopMeasuring</var> starts returning true, then instead return null.</p>
      <p>If an error occurs during this process, then instead return an appropriate <a data-link-type="dfn" href="#domexception-error-information" id="ref-for-domexception-error-information②">DOMException error information</a> according to the guidance in <a href="#summarizer-errors">§ 3.4.4 Errors</a>.</p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="3.4.3" id="summarizer-options"><span class="secno">3.4.3. </span><span class="content">Options</span><a class="self-link" href="#summarizer-options"></a></h4>
   <p>The <a data-link-type="dfn" href="#summarize" id="ref-for-summarize⑤">summarize</a> algorithm’s details are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined⑥">implementation-defined</a>, as they are expected to be powered by an AI model. However, it is intended to be controllable by the web developer through the <code class="idl"><a data-link-type="idl" href="#enumdef-summarizertype" id="ref-for-enumdef-summarizertype⑥">SummarizerType</a></code>, <code class="idl"><a data-link-type="idl" href="#enumdef-summarizerformat" id="ref-for-enumdef-summarizerformat⑥">SummarizerFormat</a></code>, and <code class="idl"><a data-link-type="idl" href="#enumdef-summarizerlength" id="ref-for-enumdef-summarizerlength⑥">SummarizerLength</a></code> enumerations.</p>
   <p>This section gives normative guidance on how the implementation of <a data-link-type="dfn" href="#summarize" id="ref-for-summarize⑥">summarize</a> should use each enumeration value to guide the summarization process.</p>
   <table class="data enum-table">
    <caption><code class="idl"><a data-link-type="idl" href="#enumdef-summarizertype" id="ref-for-enumdef-summarizertype⑦">SummarizerType</a></code> values</caption>
    <thead>
     <tr>
      <th>Value 
      <th>Meaning 
    <tbody>
     <tr>
      <th>"<dfn class="dfn-paneled idl-code" data-dfn-for="SummarizerType" data-dfn-type="enum-value" data-export data-lt="&quot;tl;dr&quot;|tl;dr" id="dom-summarizertype-tldr"><code>tl;dr</code></dfn>" 
      <td>
       <p>The summary should be short and to the point, providing a quick overview of the input, suitable for a busy reader. </p>
     <tr>
      <th>"<dfn class="dfn-paneled idl-code" data-dfn-for="SummarizerType" data-dfn-type="enum-value" data-export data-lt="&quot;teaser&quot;|teaser" id="dom-summarizertype-teaser"><code>teaser</code></dfn>" 
      <td>
       <p>The summary should focus on the most interesting or intriguing parts of the input, designed to draw the reader in to read more. </p>
     <tr>
      <th>"<dfn class="dfn-paneled idl-code" data-dfn-for="SummarizerType" data-dfn-type="enum-value" data-export data-lt="&quot;key-points&quot;|key-points" id="dom-summarizertype-key-points"><code>key-points</code></dfn>" 
      <td>
       <p>The summary should extract the most important points from the input, presented as a bulleted list. </p>
     <tr>
      <th>"<dfn class="dfn-paneled idl-code" data-dfn-for="SummarizerType" data-dfn-type="enum-value" data-export data-lt="&quot;headline&quot;|headline" id="dom-summarizertype-headline"><code>headline</code></dfn>" 
      <td>
       <p>The summary should effectively contain the main point of the input in a single sentence, in the format of an article headline. </p>
   </table>
   <table class="data enum-table">
    <caption><code class="idl"><a data-link-type="idl" href="#enumdef-summarizerlength" id="ref-for-enumdef-summarizerlength⑦">SummarizerLength</a></code> values</caption>
    <thead>
     <tr>
      <th>Value 
      <th>Meaning 
    <tbody>
     <tr>
      <th>"<dfn class="dfn-paneled idl-code" data-dfn-for="SummarizerLength" data-dfn-type="enum-value" data-export data-lt="&quot;short&quot;|short" id="dom-summarizerlength-short"><code>short</code></dfn>" 
      <td>
       <p>The guidance is dependent on the value of <code class="idl"><a data-link-type="idl" href="#enumdef-summarizertype" id="ref-for-enumdef-summarizertype⑧">SummarizerType</a></code>: </p>
       <dl class="switch">
        <dt data-md>"<code class="idl"><a data-link-type="idl" href="#dom-summarizertype-tldr" id="ref-for-dom-summarizertype-tldr①">tl;dr</a></code>"
        <dt data-md>"<code class="idl"><a data-link-type="idl" href="#dom-summarizertype-teaser" id="ref-for-dom-summarizertype-teaser①">teaser</a></code>"
        <dd data-md>
         <p>The summary should fit within 1 sentence.</p>
        <dt data-md>"<code class="idl"><a data-link-type="idl" href="#dom-summarizertype-key-points" id="ref-for-dom-summarizertype-key-points①">key-points</a></code>"
        <dd data-md>
         <p>The summary should consist of no more than 3 bullet points.</p>
        <dt data-md>"<code class="idl"><a data-link-type="idl" href="#dom-summarizertype-headline" id="ref-for-dom-summarizertype-headline①">headline</a></code>"
        <dd data-md>
         <p>The summary should use no more than 12 words.</p>
       </dl>
     <tr>
      <th>"<dfn class="dfn-paneled idl-code" data-dfn-for="SummarizerLength" data-dfn-type="enum-value" data-export data-lt="&quot;medium&quot;|medium" id="dom-summarizerlength-medium"><code>medium</code></dfn>" 
      <td>
       <p>The guidance is dependent on the value of <code class="idl"><a data-link-type="idl" href="#enumdef-summarizertype" id="ref-for-enumdef-summarizertype⑨">SummarizerType</a></code>: </p>
       <dl class="switch">
        <dt data-md>"<code class="idl"><a data-link-type="idl" href="#dom-summarizertype-tldr" id="ref-for-dom-summarizertype-tldr②">tl;dr</a></code>"
        <dt data-md>"<code class="idl"><a data-link-type="idl" href="#dom-summarizertype-teaser" id="ref-for-dom-summarizertype-teaser②">teaser</a></code>"
        <dd data-md>
         <p>The summary should fit within 1 short paragraph.</p>
        <dt data-md>"<code class="idl"><a data-link-type="idl" href="#dom-summarizertype-key-points" id="ref-for-dom-summarizertype-key-points②">key-points</a></code>"
        <dd data-md>
         <p>The summary should consist of no more than 5 bullet points.</p>
        <dt data-md>"<code class="idl"><a data-link-type="idl" href="#dom-summarizertype-headline" id="ref-for-dom-summarizertype-headline②">headline</a></code>"
        <dd data-md>
         <p>The summary should use no more than 17 words.</p>
       </dl>
     <tr>
      <th>"<dfn class="dfn-paneled idl-code" data-dfn-for="SummarizerLength" data-dfn-type="enum-value" data-export data-lt="&quot;long&quot;|long" id="dom-summarizerlength-long"><code>long</code></dfn>" 
      <td>
       <p>The guidance is dependent on the value of <code class="idl"><a data-link-type="idl" href="#enumdef-summarizertype" id="ref-for-enumdef-summarizertype①⓪">SummarizerType</a></code>: </p>
       <dl class="switch">
        <dt data-md>"<code class="idl"><a data-link-type="idl" href="#dom-summarizertype-tldr" id="ref-for-dom-summarizertype-tldr③">tl;dr</a></code>"
        <dt data-md>"<code class="idl"><a data-link-type="idl" href="#dom-summarizertype-teaser" id="ref-for-dom-summarizertype-teaser③">teaser</a></code>"
        <dd data-md>
         <p>The summary should fit within 1 paragraph.</p>
        <dt data-md>"<code class="idl"><a data-link-type="idl" href="#dom-summarizertype-key-points" id="ref-for-dom-summarizertype-key-points③">key-points</a></code>"
        <dd data-md>
         <p>The summary should consist of no more than 7 bullet points.</p>
        <dt data-md>"<code class="idl"><a data-link-type="idl" href="#dom-summarizertype-headline" id="ref-for-dom-summarizertype-headline③">headline</a></code>"
        <dd data-md>
         <p>The summary should use no more than 22 words.</p>
       </dl>
   </table>
   <table class="data enum-table">
    <caption><code class="idl"><a data-link-type="idl" href="#enumdef-summarizerformat" id="ref-for-enumdef-summarizerformat⑦">SummarizerFormat</a></code> values</caption>
    <thead>
     <tr>
      <th>Value 
      <th>Meaning 
    <tbody>
     <tr>
      <th>"<dfn class="dfn-paneled idl-code" data-dfn-for="SummarizerFormat" data-dfn-type="enum-value" data-export data-lt="&quot;plain-text&quot;|plain-text" id="dom-summarizerformat-plain-text"><code>plain-text</code></dfn>" 
      <td>
       <p>The summary should not contain any formatting or markup language. </p>
     <tr>
      <th>"<dfn class="dfn-paneled idl-code" data-dfn-for="SummarizerFormat" data-dfn-type="enum-value" data-export data-lt="&quot;markdown&quot;|markdown" id="dom-summarizerformat-markdown"><code>markdown</code></dfn>" 
      <td>
       <p>The summary should be formatted using the Markdown markup language, ideally as valid CommonMark. <a data-link-type="biblio" href="#biblio-commonmark" title="CommonMark Spec">[COMMONMARK]</a> </p>
   </table>
   <p class="note" role="note">As with all "<span class="allow-2119">should</span>"-level guidance, user agents might not conform perfectly to these. Especially in the case of counting words, it’s expected that language models might not conform perfectly. </p>
   <h4 class="heading settled" data-level="3.4.4" id="summarizer-errors"><span class="secno">3.4.4. </span><span class="content">Errors</span><a class="self-link" href="#summarizer-errors"></a></h4>
   <p>When summarization fails, the following possible reasons may be surfaced to the web developer. This table lists the possible <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#domexception-name" id="ref-for-domexception-name">names</a> and the cases in which an implementation should use them:</p>
   <table class="data">
    <thead>
     <tr>
      <th><code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#domexception-name" id="ref-for-domexception-name①">name</a> 
      <th>Scenarios 
    <tbody>
     <tr>
      <td>"<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror">NotAllowedError</a></code>" 
      <td>
       <p>Summarization is disabled by user choice or user agent policy. </p>
     <tr>
      <td>"<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notreadableerror" id="ref-for-notreadableerror">NotReadableError</a></code>" 
      <td>
       <p>The summarization output was filtered by the user agent, e.g., because it was detected to be harmful, inaccurate, or nonsensical. </p>
     <tr>
      <td>"<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notsupportederror" id="ref-for-notsupportederror">NotSupportedError</a></code>" 
      <td>
       <p>The input to be summarized, or the context to be provided, was in a language that the user agent does not support, or was not provided properly in the call to <code class="idl"><a data-link-type="idl" href="#dom-summarizer-create" id="ref-for-dom-summarizer-create①">create()</a></code>. </p>
       <p>The summarization output ended up being in a language that the user agent does not support (e.g., because the user agent has not performed sufficient quality control tests on that output language), or was not provided properly in the call to <code class="idl"><a data-link-type="idl" href="#dom-summarizer-create" id="ref-for-dom-summarizer-create②">create()</a></code>. </p>
       <p>The <code class="idl"><a data-link-type="idl" href="#dom-summarizercreatecoreoptions-outputlanguage" id="ref-for-dom-summarizercreatecoreoptions-outputlanguage④">outputLanguage</a></code> option was not set, and the language of the input text could not be determined, so the user agent did not have a good output language default available. </p>
     <tr>
      <td>"<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#unknownerror" id="ref-for-unknownerror">UnknownError</a></code>" 
      <td>
       <p>All other scenarios, or if the user agent would prefer not to disclose the failure reason. </p>
   </table>
   <p class="note" role="note">This table does not give the complete list of exceptions that can be surfaced by the summarizer API. It only contains those which can come from certain <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined⑦">implementation-defined</a> steps. </p>
   <h3 class="heading settled" data-level="3.5" id="summarizer-permissions-policy"><span class="secno">3.5. </span><span class="content">Permissions policy integration</span><a class="self-link" href="#summarizer-permissions-policy"></a></h3>
   <p>Access to the summarizer API is gated behind the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature">policy-controlled feature</a> "<dfn class="dfn-paneled idl-code" data-dfn-type="permission" data-export id="permissiondef-summarizer"><code>summarizer</code></dfn>", which has a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" id="ref-for-policy-controlled-feature-default-allowlist">default allowlist</a> of <code><a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#default-allowlist-self" id="ref-for-default-allowlist-self">'self'</a></code>.</p>
   <h2 class="heading settled" data-level="4" id="writer-api"><span class="secno">4. </span><span class="content">The writer API</span><a class="self-link" href="#writer-api"></a></h2>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext②"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="writer"><code><c- g>Writer</c-></code></dfn> {
  <c- b>static</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise④"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#writer" id="ref-for-writer"><c- n>Writer</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-writer-create" id="ref-for-dom-writer-create"><c- g>create</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-writercreateoptions" id="ref-for-dictdef-writercreateoptions"><c- n>WriterCreateOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Writer/create(options), Writer/create()" data-dfn-type="argument" data-export id="dom-writer-create-options-options"><code><c- g>options</c-></code></dfn> = {});
  <c- b>static</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑤"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#enumdef-availability" id="ref-for-enumdef-availability③"><c- n>Availability</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-writer-availability" id="ref-for-dom-writer-availability"><c- g>availability</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-writercreatecoreoptions" id="ref-for-dictdef-writercreatecoreoptions"><c- n>WriterCreateCoreOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Writer/availability(options), Writer/availability()" data-dfn-type="argument" data-export id="dom-writer-availability-options-options"><code><c- g>options</c-></code></dfn> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑥"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑤"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-writer-write" id="ref-for-dom-writer-write"><c- g>write</c-></a>(
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑥"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Writer/write(input, options), Writer/write(input)" data-dfn-type="argument" data-export id="dom-writer-write-input-options-input"><code><c- g>input</c-></code></dfn>,
    <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-writerwriteoptions" id="ref-for-dictdef-writerwriteoptions"><c- n>WriterWriteOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Writer/write(input, options), Writer/write(input)" data-dfn-type="argument" data-export id="dom-writer-write-input-options-options"><code><c- g>options</c-></code></dfn> = {}
  );
  <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream①"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="method" href="#dom-writer-writestreaming" id="ref-for-dom-writer-writestreaming"><c- g>writeStreaming</c-></a>(
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑦"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Writer/writeStreaming(input, options), Writer/writeStreaming(input)" data-dfn-type="argument" data-export id="dom-writer-writestreaming-input-options-input"><code><c- g>input</c-></code></dfn>,
    <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-writerwriteoptions" id="ref-for-dictdef-writerwriteoptions①"><c- n>WriterWriteOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Writer/writeStreaming(input, options), Writer/writeStreaming(input)" data-dfn-type="argument" data-export id="dom-writer-writestreaming-input-options-options"><code><c- g>options</c-></code></dfn> = {}
  );

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑧"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-writer-sharedcontext" id="ref-for-dom-writer-sharedcontext"><c- g>sharedContext</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-writertone" id="ref-for-enumdef-writertone"><c- n>WriterTone</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="WriterTone" href="#dom-writer-tone" id="ref-for-dom-writer-tone"><c- g>tone</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-writerformat" id="ref-for-enumdef-writerformat"><c- n>WriterFormat</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="WriterFormat" href="#dom-writer-format" id="ref-for-dom-writer-format"><c- g>format</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-writerlength" id="ref-for-enumdef-writerlength"><c- n>WriterLength</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="WriterLength" href="#dom-writer-length" id="ref-for-dom-writer-length"><c- g>length</c-></a>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array④"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑨"><c- b>DOMString</c-></a>>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<DOMString>?" href="#dom-writer-expectedinputlanguages" id="ref-for-dom-writer-expectedinputlanguages"><c- g>expectedInputLanguages</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array⑤"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②⓪"><c- b>DOMString</c-></a>>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<DOMString>?" href="#dom-writer-expectedcontextlanguages" id="ref-for-dom-writer-expectedcontextlanguages"><c- g>expectedContextLanguages</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②①"><c- b>DOMString</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString?" href="#dom-writer-outputlanguage" id="ref-for-dom-writer-outputlanguage"><c- g>outputLanguage</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑦"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double①"><c- b>double</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-writer-measureinputusage" id="ref-for-dom-writer-measureinputusage"><c- g>measureInputUsage</c-></a>(
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②②"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Writer/measureInputUsage(input, options), Writer/measureInputUsage(input)" data-dfn-type="argument" data-export id="dom-writer-measureinputusage-input-options-input"><code><c- g>input</c-></code></dfn>,
    <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-writerwriteoptions" id="ref-for-dictdef-writerwriteoptions②"><c- n>WriterWriteOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Writer/measureInputUsage(input, options), Writer/measureInputUsage(input)" data-dfn-type="argument" data-export id="dom-writer-measureinputusage-input-options-options"><code><c- g>options</c-></code></dfn> = {}
  );
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double①"><c- b>unrestricted</c-> <c- b>double</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unrestricted double" href="#dom-writer-inputquota" id="ref-for-dom-writer-inputquota"><c- g>inputQuota</c-></a>;
};
<a data-link-type="idl-name" href="#writer" id="ref-for-writer①"><c- n>Writer</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#destroyablemodel" id="ref-for-destroyablemodel④"><c- n>DestroyableModel</c-></a>;

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-writercreatecoreoptions"><code><c- g>WriterCreateCoreOptions</c-></code></dfn> {
  <a data-link-type="idl-name" href="#enumdef-writertone" id="ref-for-enumdef-writertone①"><c- n>WriterTone</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;neutral&quot;" data-dfn-for="WriterCreateCoreOptions" data-dfn-type="dict-member" data-export data-type="WriterTone" id="dom-writercreatecoreoptions-tone"><code><c- g>tone</c-></code></dfn> = "neutral";
  <a data-link-type="idl-name" href="#enumdef-writerformat" id="ref-for-enumdef-writerformat①"><c- n>WriterFormat</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;markdown&quot;" data-dfn-for="WriterCreateCoreOptions" data-dfn-type="dict-member" data-export data-type="WriterFormat" id="dom-writercreatecoreoptions-format"><code><c- g>format</c-></code></dfn> = "markdown";
  <a data-link-type="idl-name" href="#enumdef-writerlength" id="ref-for-enumdef-writerlength①"><c- n>WriterLength</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;short&quot;" data-dfn-for="WriterCreateCoreOptions" data-dfn-type="dict-member" data-export data-type="WriterLength" id="dom-writercreatecoreoptions-length"><code><c- g>length</c-></code></dfn> = "short";

  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②③"><c- b>DOMString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="WriterCreateCoreOptions" data-dfn-type="dict-member" data-export data-type="sequence<DOMString>" id="dom-writercreatecoreoptions-expectedinputlanguages"><code><c- g>expectedInputLanguages</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence③"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②④"><c- b>DOMString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="WriterCreateCoreOptions" data-dfn-type="dict-member" data-export data-type="sequence<DOMString>" id="dom-writercreatecoreoptions-expectedcontextlanguages"><code><c- g>expectedContextLanguages</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②⑤"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WriterCreateCoreOptions" data-dfn-type="dict-member" data-export data-type="DOMString" id="dom-writercreatecoreoptions-outputlanguage"><code><c- g>outputLanguage</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-writercreateoptions"><code><c- g>WriterCreateOptions</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-writercreatecoreoptions" id="ref-for-dictdef-writercreatecoreoptions①"><c- n>WriterCreateCoreOptions</c-></a> {
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal⑤"><c- n>AbortSignal</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WriterCreateOptions" data-dfn-type="dict-member" data-export data-type="AbortSignal" id="dom-writercreateoptions-signal"><code><c- g>signal</c-></code></dfn>;
  <a data-link-type="idl-name" href="#callbackdef-createmonitorcallback" id="ref-for-callbackdef-createmonitorcallback①"><c- n>CreateMonitorCallback</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WriterCreateOptions" data-dfn-type="dict-member" data-export data-type="CreateMonitorCallback" id="dom-writercreateoptions-monitor"><code><c- g>monitor</c-></code></dfn>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②⑥"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WriterCreateOptions" data-dfn-type="dict-member" data-export data-type="DOMString" id="dom-writercreateoptions-sharedcontext"><code><c- g>sharedContext</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-writerwriteoptions"><code><c- g>WriterWriteOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②⑦"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WriterWriteOptions" data-dfn-type="dict-member" data-export data-type="DOMString" id="dom-writerwriteoptions-context"><code><c- g>context</c-></code></dfn>;
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal⑥"><c- n>AbortSignal</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WriterWriteOptions" data-dfn-type="dict-member" data-export data-type="AbortSignal" id="dom-writerwriteoptions-signal"><code><c- g>signal</c-></code></dfn>;
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-writertone"><code><c- g>WriterTone</c-></code></dfn> { <a class="idl-code" data-link-type="enum-value" href="#dom-writertone-formal" id="ref-for-dom-writertone-formal"><c- s>"formal"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-writertone-neutral" id="ref-for-dom-writertone-neutral"><c- s>"neutral"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-writertone-casual" id="ref-for-dom-writertone-casual"><c- s>"casual"</c-></a> };
<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-writerformat"><code><c- g>WriterFormat</c-></code></dfn> { <a class="idl-code" data-link-type="enum-value" href="#dom-writerformat-plain-text" id="ref-for-dom-writerformat-plain-text"><c- s>"plain-text"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-writerformat-markdown" id="ref-for-dom-writerformat-markdown"><c- s>"markdown"</c-></a> };
<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-writerlength"><code><c- g>WriterLength</c-></code></dfn> { <a class="idl-code" data-link-type="enum-value" href="#dom-writerlength-short" id="ref-for-dom-writerlength-short"><c- s>"short"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-writerlength-medium" id="ref-for-dom-writerlength-medium"><c- s>"medium"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-writerlength-long" id="ref-for-dom-writerlength-long"><c- s>"long"</c-></a> };
</pre>
   <h3 class="heading settled" data-level="4.1" id="writer-creation"><span class="secno">4.1. </span><span class="content">Creation</span><a class="self-link" href="#writer-creation"></a></h3>
   <div class="algorithm" data-algorithm="create(options)" data-algorithm-for="Writer">
     The static <dfn class="dfn-paneled idl-code" data-dfn-for="Writer" data-dfn-type="method" data-export data-lt="create(options)|create()" id="dom-writer-create"><code>create(<var>options</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#create-an-ai-model-object" id="ref-for-create-an-ai-model-object①">creating an AI model object</a> given <var>options</var>, "<code class="idl"><a data-link-type="idl" href="#permissiondef-writer" id="ref-for-permissiondef-writer">writer</a></code>", <a data-link-type="dfn" href="#validate-and-canonicalize-writer-options" id="ref-for-validate-and-canonicalize-writer-options">validate and canonicalize writer options</a>, <a data-link-type="dfn" href="#compute-writer-options-availability" id="ref-for-compute-writer-options-availability">computing writer options availability</a>, <a data-link-type="dfn" href="#download-the-writer-model" id="ref-for-download-the-writer-model">download the writer model</a>, <a data-link-type="dfn" href="#initialize-the-writer-model" id="ref-for-initialize-the-writer-model">initialize the writer model</a>, and <a data-link-type="dfn" href="#create-a-writer-object" id="ref-for-create-a-writer-object">create a writer object</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="validate and canonicalize writer options">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="validate-and-canonicalize-writer-options">validate and canonicalize writer options</dfn> given an <code class="idl"><a data-link-type="idl" href="#dictdef-writercreatecoreoptions" id="ref-for-dictdef-writercreatecoreoptions②">WriterCreateCoreOptions</a></code> <var>options</var>, perform the following steps. They mutate <var>options</var> in place to canonicalize and deduplicate language tags, and throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code> if any are invalid. 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="#validate-and-canonicalize-language-tags" id="ref-for-validate-and-canonicalize-language-tags③">Validate and canonicalize language tags</a> given <var>options</var> and "<code class="idl"><a data-link-type="idl" href="#dom-writercreatecoreoptions-expectedinputlanguages" id="ref-for-dom-writercreatecoreoptions-expectedinputlanguages">expectedInputLanguages</a></code>".</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#validate-and-canonicalize-language-tags" id="ref-for-validate-and-canonicalize-language-tags④">Validate and canonicalize language tags</a> given <var>options</var> and "<code class="idl"><a data-link-type="idl" href="#dom-writercreatecoreoptions-expectedcontextlanguages" id="ref-for-dom-writercreatecoreoptions-expectedcontextlanguages">expectedContextLanguages</a></code>".</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#validate-and-canonicalize-language-tags" id="ref-for-validate-and-canonicalize-language-tags⑤">Validate and canonicalize language tags</a> given <var>options</var> and "<code class="idl"><a data-link-type="idl" href="#dom-writercreatecoreoptions-outputlanguage" id="ref-for-dom-writercreatecoreoptions-outputlanguage">outputLanguage</a></code>".</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="download the writer model">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="download-the-writer-model">download the writer model</dfn>, given an <code class="idl"><a data-link-type="idl" href="#dictdef-writercreatecoreoptions" id="ref-for-dictdef-writercreatecoreoptions③">WriterCreateCoreOptions</a></code> <var>options</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⓪">Assert</a>: these steps are running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑦">in parallel</a>.</p>
     <li data-md>
      <p>Initiate the download process for everything the user agent needs to write text according to <var>options</var>. This could include a base AI model, fine-tunings for specific languages or option values, or other resources.</p>
     <li data-md>
      <p>If the download process cannot be started for any reason, then return false.</p>
     <li data-md>
      <p>Return true.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="initialize the writer model">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="initialize-the-writer-model">initialize the writer model</dfn>, given an <code class="idl"><a data-link-type="idl" href="#dictdef-writercreateoptions" id="ref-for-dictdef-writercreateoptions①">WriterCreateOptions</a></code> <var>options</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①①">Assert</a>: these steps are running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑧">in parallel</a>.</p>
     <li data-md>
      <p>Perform any necessary initialization operations for the AI model backing the user agent’s writing capabilities.</p>
      <p>This could include loading the model into memory, loading <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-writercreateoptions-sharedcontext" id="ref-for-dom-writercreateoptions-sharedcontext">sharedContext</a></code>"] into the model’s context window, or loading any fine-tunings necessary to support the other options expressed by <var>options</var>.</p>
     <li data-md>
      <p>If initialization failed because the process of loading <var>options</var> resulted in using up all of the model’s input quota, then:</p>
      <ol>
       <li data-md>
        <p>Let <var>requested</var> be the amount of input usage needed to encode <var>options</var>. The encoding of <var>options</var> as input is <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined⑧">implementation-defined</a>.</p>
        <p class="note" role="note">This could be the amount of tokens needed to represent these options in a language model tokenization scheme, possibly with prompt engineering. Or it could be 0, if the implementation plans to send the options to the underlying model with every <a data-link-type="dfn" href="#write" id="ref-for-write">write</a> operation. </p>
       <li data-md>
        <p>Let <var>quota</var> be the maximum input quota that the user agent supports for encoding <var>options</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①②">Assert</a>: <var>requested</var> is greater than <var>quota</var>. (That is how we reached this error branch.)</p>
       <li data-md>
        <p>Return a <a data-link-type="dfn" href="#quota-exceeded-error-information" id="ref-for-quota-exceeded-error-information②">quota exceeded error information</a> whose <a data-link-type="dfn" href="https://whatpr.org/webidl/1465.html#quotaexceedederror-requested" id="ref-for-quotaexceedederror-requested①">requested</a> is <var>requested</var> and <a data-link-type="dfn" href="https://whatpr.org/webidl/1465.html#quotaexceedederror-quota" id="ref-for-quotaexceedederror-quota①">quota</a> is <var>quota</var>.</p>
      </ol>
     <li data-md>
      <p>If initialization failed for any other reason, then return a <a data-link-type="dfn" href="#domexception-error-information" id="ref-for-domexception-error-information③">DOMException error information</a> whose <a data-link-type="dfn" href="#domexception-error-information-name" id="ref-for-domexception-error-information-name①">name</a> is "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#operationerror" id="ref-for-operationerror①">OperationError</a></code>" and whose <a data-link-type="dfn" href="#domexception-error-information-details" id="ref-for-domexception-error-information-details①">details</a> contain appropriate detail.</p>
     <li data-md>
      <p>Return null.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="create a writer object">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-writer-object">create a writer object</dfn>, given a <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#realm" id="ref-for-realm①">realm</a> <var>realm</var> and an <code class="idl"><a data-link-type="idl" href="#dictdef-writercreateoptions" id="ref-for-dictdef-writercreateoptions②">WriterCreateOptions</a></code> <var>options</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①③">Assert</a>: these steps are running on <var>realm</var>’s <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#surrounding-agent" id="ref-for-surrounding-agent①">surrounding agent</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop" id="ref-for-concept-agent-event-loop①">event loop</a>.</p>
     <li data-md>
      <p>Let <var>inputQuota</var> be the amount of input quota that is available to the user agent for future <a data-link-type="dfn" href="#write" id="ref-for-write①">writing</a> operations. (This value is <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined⑨">implementation-defined</a>, and may be +∞ if there are no specific limits beyond, e.g., the user’s memory, or the limits of JavaScript strings.)</p>
     <li data-md>
      <p>Return a new <code class="idl"><a data-link-type="idl" href="#writer" id="ref-for-writer②">Writer</a></code> object, created in <var>realm</var>, with</p>
      <dl class="props">
       <dt data-md><a data-link-type="dfn" href="#writer-shared-context" id="ref-for-writer-shared-context">shared context</a>
       <dd data-md>
        <p><var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-writercreateoptions-sharedcontext" id="ref-for-dom-writercreateoptions-sharedcontext①">sharedContext</a></code>"] if it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤">exists</a>; otherwise null</p>
       <dt data-md><a data-link-type="dfn" href="#writer-tone" id="ref-for-writer-tone">tone</a>
       <dd data-md>
        <p><var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-writercreatecoreoptions-tone" id="ref-for-dom-writercreatecoreoptions-tone">tone</a></code>"]</p>
       <dt data-md><a data-link-type="dfn" href="#writer-format" id="ref-for-writer-format">format</a>
       <dd data-md>
        <p><var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-writercreatecoreoptions-format" id="ref-for-dom-writercreatecoreoptions-format">format</a></code>"]</p>
       <dt data-md><a data-link-type="dfn" href="#writer-length" id="ref-for-writer-length">length</a>
       <dd data-md>
        <p><var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-writercreatecoreoptions-length" id="ref-for-dom-writercreatecoreoptions-length">length</a></code>"]</p>
       <dt data-md><a data-link-type="dfn" href="#writer-expected-input-languages" id="ref-for-writer-expected-input-languages">expected input languages</a>
       <dd data-md>
        <p>the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-frozen-array" id="ref-for-dfn-create-frozen-array②">creating a frozen array</a> given <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-writercreatecoreoptions-expectedinputlanguages" id="ref-for-dom-writercreatecoreoptions-expectedinputlanguages①">expectedInputLanguages</a></code>"] if it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②">is not empty</a>; otherwise null</p>
       <dt data-md><a data-link-type="dfn" href="#writer-expected-context-languages" id="ref-for-writer-expected-context-languages">expected context languages</a>
       <dd data-md>
        <p>the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-frozen-array" id="ref-for-dfn-create-frozen-array③">creating a frozen array</a> given <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-writercreatecoreoptions-expectedcontextlanguages" id="ref-for-dom-writercreatecoreoptions-expectedcontextlanguages①">expectedContextLanguages</a></code>"] if it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③">is not empty</a>; otherwise null</p>
       <dt data-md><a data-link-type="dfn" href="#writer-output-language" id="ref-for-writer-output-language">output language</a>
       <dd data-md>
        <p><var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-writercreatecoreoptions-outputlanguage" id="ref-for-dom-writercreatecoreoptions-outputlanguage①">outputLanguage</a></code>"] if it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥">exists</a>; otherwise null</p>
       <dt data-md><a data-link-type="dfn" href="#writer-input-quota" id="ref-for-writer-input-quota">input quota</a>
       <dd data-md>
        <p><var>inputQuota</var></p>
      </dl>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.2" id="writer-availability"><span class="secno">4.2. </span><span class="content">Availability</span><a class="self-link" href="#writer-availability"></a></h3>
   <div class="algorithm" data-algorithm="availability(options)" data-algorithm-for="Writer">
     The static <dfn class="dfn-paneled idl-code" data-dfn-for="Writer" data-dfn-type="method" data-export data-lt="availability(options)|availability()" id="dom-writer-availability"><code>availability(<var>options</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#compute-ai-model-availability" id="ref-for-compute-ai-model-availability①">computing AI model availability</a> given <var>options</var>, "<code class="idl"><a data-link-type="idl" href="#permissiondef-writer" id="ref-for-permissiondef-writer①">writer</a></code>", <a data-link-type="dfn" href="#validate-and-canonicalize-writer-options" id="ref-for-validate-and-canonicalize-writer-options①">validate and canonicalize writer options</a>, and <a data-link-type="dfn" href="#compute-writer-options-availability" id="ref-for-compute-writer-options-availability①">compute writer options availability</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="compute writer options availability">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="compute-writer-options-availability">compute writer options availability</dfn> given an <code class="idl"><a data-link-type="idl" href="#dictdef-writercreatecoreoptions" id="ref-for-dictdef-writercreatecoreoptions④">WriterCreateCoreOptions</a></code> <var>options</var>, perform the following steps. They return either an <code class="idl"><a data-link-type="idl" href="#enumdef-availability" id="ref-for-enumdef-availability④">Availability</a></code> value or null, and they mutate <var>options</var> in place to update language tags to their best-fit matches. 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①④">Assert</a>: this algorithm is running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑨">in parallel</a>.</p>
     <li data-md>
      <p>Let <var>availability</var> be the <a data-link-type="dfn" href="#writer-non-language-options-availability" id="ref-for-writer-non-language-options-availability">writer non-language options availability</a> given <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-writercreatecoreoptions-tone" id="ref-for-dom-writercreatecoreoptions-tone①">tone</a></code>"], <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-writercreatecoreoptions-format" id="ref-for-dom-writercreatecoreoptions-format①">format</a></code>"], and <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-writercreatecoreoptions-length" id="ref-for-dom-writercreatecoreoptions-length①">length</a></code>"].</p>
     <li data-md>
      <p>Let <var>triple</var> be the <a data-link-type="dfn" href="#writer-language-availabilities-triple" id="ref-for-writer-language-availabilities-triple">writer language availabilities triple</a>.</p>
     <li data-md>
      <p>If <var>triple</var> is null, then return null.</p>
     <li data-md>
      <p>Let <var>inputLanguageAvailability</var> be the result of <a data-link-type="dfn" href="#compute-language-availability" id="ref-for-compute-language-availability③">computing language availability</a> given <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-writercreatecoreoptions-expectedinputlanguages" id="ref-for-dom-writercreatecoreoptions-expectedinputlanguages②">expectedInputLanguages</a></code>"] and <var>triple</var>’s <a data-link-type="dfn" href="#language-availabilities-triple-input-languages" id="ref-for-language-availabilities-triple-input-languages④">input languages</a>.</p>
     <li data-md>
      <p>Let <var>contextLanguagesAvailability</var> be the result of <a data-link-type="dfn" href="#compute-language-availability" id="ref-for-compute-language-availability④">computing language availability</a> given <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-writercreatecoreoptions-expectedcontextlanguages" id="ref-for-dom-writercreatecoreoptions-expectedcontextlanguages②">expectedContextLanguages</a></code>"] and <var>triple</var>’s <a data-link-type="dfn" href="#language-availabilities-triple-context-languages" id="ref-for-language-availabilities-triple-context-languages②">context languages</a>.</p>
     <li data-md>
      <p>Let <var>outputLanguagesList</var> be « <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-writercreatecoreoptions-outputlanguage" id="ref-for-dom-writercreatecoreoptions-outputlanguage②">outputLanguage</a></code>"] ».</p>
     <li data-md>
      <p>Let <var>outputLanguageAvailability</var> be the result of <a data-link-type="dfn" href="#compute-language-availability" id="ref-for-compute-language-availability⑤">computing language availability</a> given <var>outputLanguagesList</var> and <var>triple</var>’s <a data-link-type="dfn" href="#language-availabilities-triple-output-languages" id="ref-for-language-availabilities-triple-output-languages②">output languages</a>.</p>
     <li data-md>
      <p>Set <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-writercreatecoreoptions-outputlanguage" id="ref-for-dom-writercreatecoreoptions-outputlanguage③">outputLanguage</a></code>"] to <var>outputLanguagesList</var>[0].</p>
     <li data-md>
      <p>Return the <a data-link-type="dfn" href="#availability-minimum-availability" id="ref-for-availability-minimum-availability①">minimum availability</a> given « <var>availability</var>, <var>inputLanguageAvailability</var>, <var>contextLanguagesAvailability</var>, <var>outputLanguageAvailability</var> ».</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="writer non-language options availability">
     The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="writer-non-language-options-availability">writer non-language options availability</dfn>, given a <code class="idl"><a data-link-type="idl" href="#enumdef-writertone" id="ref-for-enumdef-writertone②">WriterTone</a></code> <var>tone</var>, <code class="idl"><a data-link-type="idl" href="#enumdef-writerformat" id="ref-for-enumdef-writerformat②">WriterFormat</a></code> <var>format</var>, and an <code class="idl"><a data-link-type="idl" href="#enumdef-writerlength" id="ref-for-enumdef-writerlength②">WriterLength</a></code> <var>length</var>, is given by the following steps. They return an <code class="idl"><a data-link-type="idl" href="#enumdef-availability" id="ref-for-enumdef-availability⑤">Availability</a></code> value or null. 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑤">Assert</a>: this algorithm is running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①⓪">in parallel</a>.</p>
     <li data-md>
      <p>If there is some error attempting to determine whether the user agent supports writing text, which the user agent believes to be transient (such that re-querying could stop producing such an error), then return null.</p>
     <li data-md>
      <p>If the user agent supports writing text with the tone described by <var>tone</var>, in the format described by <var>format</var>, and with the length guidance given by <var>length</var> without performing any downloading operations, then return "<code class="idl"><a data-link-type="idl" href="#dom-availability-available" id="ref-for-dom-availability-available②">available</a></code>".</p>
     <li data-md>
      <p>If the user agent believes it can write text according to <var>tone</var>, <var>format</var>, and <var>length</var>, but only after finishing a download (e.g., of an AI model or fine-tuning) that is already ongoing, then return "<code class="idl"><a data-link-type="idl" href="#dom-availability-downloadable" id="ref-for-dom-availability-downloadable③">downloadable</a></code>".</p>
     <li data-md>
      <p>If the user agent believes it can write text according to <var>tone</var>, <var>format</var>, and <var>length</var>, but only after performing a download (e.g., of an AI model or fine-tuning), then return "<code class="idl"><a data-link-type="idl" href="#dom-availability-downloadable" id="ref-for-dom-availability-downloadable④">downloadable</a></code>".</p>
     <li data-md>
      <p>Otherwise, return "<code class="idl"><a data-link-type="idl" href="#dom-availability-unavailable" id="ref-for-dom-availability-unavailable①">unavailable</a></code>".</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="writer language availabilities triple">
     The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="writer-language-availabilities-triple">writer language availabilities triple</dfn> is given by the following steps. They return a <a data-link-type="dfn" href="#language-availabilities-triple" id="ref-for-language-availabilities-triple②">language availabilities triple</a> or null. 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑥">Assert</a>: this algorithm is running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①①">in parallel</a>.</p>
     <li data-md>
      <p>If there is some error attempting to determine whether the user agent supports writing text, which the user agent believes to be transient (such that re-querying could stop producing such an error), then return null.</p>
     <li data-md>
      <p>Return a <a data-link-type="dfn" href="#language-availabilities-triple" id="ref-for-language-availabilities-triple③">language availabilities triple</a> with:</p>
      <dl class="props">
       <dt data-md><a data-link-type="dfn" href="#language-availabilities-triple-input-languages" id="ref-for-language-availabilities-triple-input-languages⑤">input languages</a>
       <dd data-md>
        <p>the result of <a data-link-type="dfn" href="#get-the-language-availabilities-partition" id="ref-for-get-the-language-availabilities-partition③">getting the language availabilities partition</a> given the purpose of writing text based on input in that language</p>
       <dt data-md><a data-link-type="dfn" href="#language-availabilities-triple-context-languages" id="ref-for-language-availabilities-triple-context-languages③">context languages</a>
       <dd data-md>
        <p>the result of <a data-link-type="dfn" href="#get-the-language-availabilities-partition" id="ref-for-get-the-language-availabilities-partition④">getting the language availabilities partition</a> given the purpose of writing text using web-developer provided context information written in that language</p>
       <dt data-md><a data-link-type="dfn" href="#language-availabilities-triple-output-languages" id="ref-for-language-availabilities-triple-output-languages③">output languages</a>
       <dd data-md>
        <p>the result of <a data-link-type="dfn" href="#get-the-language-availabilities-partition" id="ref-for-get-the-language-availabilities-partition⑤">getting the language availabilities partition</a> given the purpose of producing written text in that language</p>
      </dl>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.3" id="the-writer-class"><span class="secno">4.3. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#writer" id="ref-for-writer③">Writer</a></code> class</span><a class="self-link" href="#the-writer-class"></a></h3>
   <p>Every <code class="idl"><a data-link-type="idl" href="#writer" id="ref-for-writer④">Writer</a></code> has a <dfn class="dfn-paneled" data-dfn-for="Writer" data-dfn-type="dfn" data-noexport id="writer-shared-context">shared context</dfn>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①②">string</a>-or-null, set during creation.</p>
   <p>Every <code class="idl"><a data-link-type="idl" href="#writer" id="ref-for-writer⑤">Writer</a></code> has a <dfn class="dfn-paneled" data-dfn-for="Writer" data-dfn-type="dfn" data-noexport id="writer-tone">tone</dfn>, a <code class="idl"><a data-link-type="idl" href="#enumdef-writertone" id="ref-for-enumdef-writertone③">WriterTone</a></code>, set during creation.</p>
   <p>Every <code class="idl"><a data-link-type="idl" href="#writer" id="ref-for-writer⑥">Writer</a></code> has a <dfn class="dfn-paneled" data-dfn-for="Writer" data-dfn-type="dfn" data-noexport id="writer-format">format</dfn>, a <code class="idl"><a data-link-type="idl" href="#enumdef-writerformat" id="ref-for-enumdef-writerformat③">WriterFormat</a></code>, set during creation.</p>
   <p>Every <code class="idl"><a data-link-type="idl" href="#writer" id="ref-for-writer⑦">Writer</a></code> has a <dfn class="dfn-paneled" data-dfn-for="Writer" data-dfn-type="dfn" data-noexport id="writer-length">length</dfn>, a <code class="idl"><a data-link-type="idl" href="#enumdef-writerlength" id="ref-for-enumdef-writerlength③">WriterLength</a></code>, set during creation.</p>
   <p>Every <code class="idl"><a data-link-type="idl" href="#writer" id="ref-for-writer⑧">Writer</a></code> has an <dfn class="dfn-paneled" data-dfn-for="Writer" data-dfn-type="dfn" data-noexport id="writer-expected-input-languages">expected input languages</dfn>, a <code><code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array⑥">FrozenArray</a></code>&lt;<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②⑧">DOMString</a></code>></code> or null, set during creation.</p>
   <p>Every <code class="idl"><a data-link-type="idl" href="#writer" id="ref-for-writer⑨">Writer</a></code> has an <dfn class="dfn-paneled" data-dfn-for="Writer" data-dfn-type="dfn" data-noexport id="writer-expected-context-languages">expected context languages</dfn>, a <code><code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array⑦">FrozenArray</a></code>&lt;<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②⑨">DOMString</a></code>></code> or null, set during creation.</p>
   <p>Every <code class="idl"><a data-link-type="idl" href="#writer" id="ref-for-writer①⓪">Writer</a></code> has an <dfn class="dfn-paneled" data-dfn-for="Writer" data-dfn-type="dfn" data-noexport id="writer-output-language">output language</dfn>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①③">string</a> or null, set during creation.</p>
   <p>Every <code class="idl"><a data-link-type="idl" href="#writer" id="ref-for-writer①①">Writer</a></code> has a <dfn class="dfn-paneled" data-dfn-for="Writer" data-dfn-type="dfn" data-noexport id="writer-input-quota">input quota</dfn>, a number, set during creation.</p>
   <hr>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Writer" data-dfn-type="attribute" data-export id="dom-writer-sharedcontext"><code>sharedContext</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑨">this</a>’s <a data-link-type="dfn" href="#writer-shared-context" id="ref-for-writer-shared-context①">shared context</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Writer" data-dfn-type="attribute" data-export id="dom-writer-tone"><code>tone</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⓪">this</a>’s <a data-link-type="dfn" href="#writer-tone" id="ref-for-writer-tone①">tone</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Writer" data-dfn-type="attribute" data-export id="dom-writer-format"><code>format</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③①">this</a>’s <a data-link-type="dfn" href="#writer-format" id="ref-for-writer-format①">format</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Writer" data-dfn-type="attribute" data-export id="dom-writer-length"><code>length</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③②">this</a>’s <a data-link-type="dfn" href="#writer-length" id="ref-for-writer-length①">length</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Writer" data-dfn-type="attribute" data-export id="dom-writer-expectedinputlanguages"><code>expectedInputLanguages</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③③">this</a>’s <a data-link-type="dfn" href="#writer-expected-input-languages" id="ref-for-writer-expected-input-languages①">expected input languages</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Writer" data-dfn-type="attribute" data-export id="dom-writer-expectedcontextlanguages"><code>expectedContextLanguages</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③④">this</a>’s <a data-link-type="dfn" href="#writer-expected-context-languages" id="ref-for-writer-expected-context-languages①">expected context languages</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Writer" data-dfn-type="attribute" data-export id="dom-writer-outputlanguage"><code>outputLanguage</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑤">this</a>’s <a data-link-type="dfn" href="#writer-output-language" id="ref-for-writer-output-language①">output language</a>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Writer" data-dfn-type="attribute" data-export id="dom-writer-inputquota"><code>inputQuota</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑥">this</a>’s <a data-link-type="dfn" href="#writer-input-quota" id="ref-for-writer-input-quota①">input quota</a>.</p>
   <hr>
   <div class="algorithm" data-algorithm="write(input, options)" data-algorithm-for="Writer">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Writer" data-dfn-type="method" data-export data-lt="write(input, options)|write(input)" id="dom-writer-write"><code>write(<var>input</var>, <var>options</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Let <var>context</var> be <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-writerwriteoptions-context" id="ref-for-dom-writerwriteoptions-context">context</a></code>"] if it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦">exists</a>; otherwise null.</p>
     <li data-md>
      <p>Let <var>operation</var> be an algorithm step which takes arguments <var>chunkProduced</var>, <var>done</var>, <var>error</var>, and <var>stopProducing</var>, and <a data-link-type="dfn" href="#write" id="ref-for-write②">writes</a> given <var>input</var>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑦">this</a>’s <a data-link-type="dfn" href="#writer-shared-context" id="ref-for-writer-shared-context②">shared context</a>, <var>context</var>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑧">this</a>’s <a data-link-type="dfn" href="#writer-tone" id="ref-for-writer-tone②">tone</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑨">this</a>’s <a data-link-type="dfn" href="#writer-format" id="ref-for-writer-format②">format</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⓪">this</a>’s <a data-link-type="dfn" href="#writer-length" id="ref-for-writer-length②">length</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④①">this</a>’s <a data-link-type="dfn" href="#writer-output-language" id="ref-for-writer-output-language②">output language</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④②">this</a>’s <a data-link-type="dfn" href="#writer-input-quota" id="ref-for-writer-input-quota②">input quota</a>, <var>chunkProduced</var>, <var>done</var>, <var>error</var>, and <var>stopProducing</var>.</p>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#get-an-aggregated-ai-model-result" id="ref-for-get-an-aggregated-ai-model-result①">getting an aggregated AI model result</a> given <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④③">this</a>, <var>options</var>, and <var>operation</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="writeStreaming(input, options)" data-algorithm-for="Writer">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Writer" data-dfn-type="method" data-export data-lt="writeStreaming(input, options)|writeStreaming(input)" id="dom-writer-writestreaming"><code>writeStreaming(<var>input</var>, <var>options</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Let <var>context</var> be <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-writerwriteoptions-context" id="ref-for-dom-writerwriteoptions-context①">context</a></code>"] if it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧">exists</a>; otherwise null.</p>
     <li data-md>
      <p>Let <var>operation</var> be an algorithm step which takes arguments <var>chunkProduced</var>, <var>done</var>, <var>error</var>, and <var>stopProducing</var>, and <a data-link-type="dfn" href="#write" id="ref-for-write③">writes</a> given <var>input</var>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④④">this</a>’s <a data-link-type="dfn" href="#writer-shared-context" id="ref-for-writer-shared-context③">shared context</a>, <var>context</var>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑤">this</a>’s <a data-link-type="dfn" href="#writer-tone" id="ref-for-writer-tone③">tone</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑥">this</a>’s <a data-link-type="dfn" href="#writer-format" id="ref-for-writer-format③">format</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑦">this</a>’s <a data-link-type="dfn" href="#writer-length" id="ref-for-writer-length③">length</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑧">this</a>’s <a data-link-type="dfn" href="#writer-output-language" id="ref-for-writer-output-language③">output language</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑨">this</a>’s <a data-link-type="dfn" href="#writer-input-quota" id="ref-for-writer-input-quota③">input quota</a>, <var>chunkProduced</var>, <var>done</var>, <var>error</var>, and <var>stopProducing</var>.</p>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#get-a-streaming-ai-model-result" id="ref-for-get-a-streaming-ai-model-result①">getting a streaming AI model result</a> given <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤⓪">this</a>, <var>options</var>, and <var>operation</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="measureInputUsage(input, options)" data-algorithm-for="Writer">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Writer" data-dfn-type="method" data-export data-lt="measureInputUsage(input, options)|measureInputUsage(input)" id="dom-writer-measureinputusage"><code>measureInputUsage(<var>input</var>, <var>options</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Let <var>context</var> be <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-writerwriteoptions-context" id="ref-for-dom-writerwriteoptions-context②">context</a></code>"] if it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨">exists</a>; otherwise null.</p>
     <li data-md>
      <p>Let <var>measureUsage</var> be an algorithm step which takes argument <var>stopMeasuring</var>, and returns the result of <a data-link-type="dfn" href="#measure-writer-input-usage" id="ref-for-measure-writer-input-usage">measuring writer input usage</a> given <var>input</var>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤①">this</a>’s <a data-link-type="dfn" href="#writer-shared-context" id="ref-for-writer-shared-context④">shared context</a>, <var>context</var>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤②">this</a>’s <a data-link-type="dfn" href="#writer-tone" id="ref-for-writer-tone④">tone</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤③">this</a>’s <a data-link-type="dfn" href="#writer-format" id="ref-for-writer-format④">format</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤④">this</a>’s <a data-link-type="dfn" href="#writer-length" id="ref-for-writer-length④">length</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤⑤">this</a>’s <a data-link-type="dfn" href="#writer-output-language" id="ref-for-writer-output-language④">output language</a>, and <var>stopMeasuring</var>.</p>
     <li data-md>
      <p>Return the result of <a data-link-type="dfn" href="#measure-ai-model-input-usage" id="ref-for-measure-ai-model-input-usage①">measuring AI model input usage</a> given <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤⑥">this</a>, <var>options</var>, and <var>measureUsage</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="4.4" id="writer-writing"><span class="secno">4.4. </span><span class="content">Writing</span><a class="self-link" href="#writer-writing"></a></h3>
   <h4 class="heading settled" data-level="4.4.1" id="writer-algorithm"><span class="secno">4.4.1. </span><span class="content">The algorithm</span><a class="self-link" href="#writer-algorithm"></a></h4>
   <div class="algorithm" data-algorithm="write">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="write">write</dfn> given: 
    <ul>
     <li data-md>
      <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①④">string</a> <var>input</var>,</p>
     <li data-md>
      <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑤">string</a>-or-null <var>sharedContext</var>,</p>
     <li data-md>
      <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑥">string</a>-or-null <var>context</var>,</p>
     <li data-md>
      <p>a <code class="idl"><a data-link-type="idl" href="#enumdef-writertone" id="ref-for-enumdef-writertone④">WriterTone</a></code> <var>tone</var>,</p>
     <li data-md>
      <p>a <code class="idl"><a data-link-type="idl" href="#enumdef-writerformat" id="ref-for-enumdef-writerformat④">WriterFormat</a></code> <var>format</var>,</p>
     <li data-md>
      <p>a <code class="idl"><a data-link-type="idl" href="#enumdef-writerlength" id="ref-for-enumdef-writerlength④">WriterLength</a></code> <var>length</var>,</p>
     <li data-md>
      <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑦">string</a>-or-null <var>outputLanguage</var>,</p>
     <li data-md>
      <p>a number <var>inputQuota</var>,</p>
     <li data-md>
      <p>an algorithm <var>chunkProduced</var> that takes a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑧">string</a> and returns nothing,</p>
     <li data-md>
      <p>an algorithm <var>done</var> that takes no arguments and returns nothing,</p>
     <li data-md>
      <p>an algorithm <var>error</var> that takes <a data-link-type="dfn" href="#error-information" id="ref-for-error-information③">error information</a> and returns nothing, and</p>
     <li data-md>
      <p>an algorithm <var>stopProducing</var> that takes no arguments and returns a boolean,</p>
    </ul>
    <p>perform the following steps:</p>
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑦">Assert</a>: this algorithm is running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①②">in parallel</a>.</p>
     <li data-md>
      <p>Let <var>requested</var> be the result of <a data-link-type="dfn" href="#measure-writer-input-usage" id="ref-for-measure-writer-input-usage①">measuring writer input usage</a> given <var>input</var>, <var>sharedContext</var>, <var>context</var>, <var>tone</var>, <var>format</var>, <var>length</var>, <var>outputLanguage</var>, and <var>stopProducing</var>.</p>
     <li data-md>
      <p>If <var>requested</var> is null, then return.</p>
     <li data-md>
      <p>If <var>requested</var> is an <a data-link-type="dfn" href="#error-information" id="ref-for-error-information④">error information</a>, then:</p>
      <ol>
       <li data-md>
        <p>Perform <var>error</var> given <var>requested</var>.</p>
       <li data-md>
        <p>Return.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑧">Assert</a>: <var>requested</var> is a number.</p>
     <li data-md>
      <p>If <var>requested</var> is greater than <var>inputQuota</var>, then:</p>
      <ol>
       <li data-md>
        <p>Let <var>errorInfo</var> be a <a data-link-type="dfn" href="#quota-exceeded-error-information" id="ref-for-quota-exceeded-error-information③">quota exceeded error information</a> with a <a data-link-type="dfn" href="#quota-exceeded-error-information-requested" id="ref-for-quota-exceeded-error-information-requested①">requested</a> of <var>requested</var> and a <a data-link-type="dfn" href="#quota-exceeded-error-information-quota" id="ref-for-quota-exceeded-error-information-quota①">quota</a> of <var>inputQuota</var>.</p>
       <li data-md>
        <p>Perform <var>error</var> given <var>errorInfo</var>.</p>
       <li data-md>
        <p>Return.</p>
      </ol>
     <li data-md>
      <p>In an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①⓪">implementation-defined</a> manner, subject to the following guidelines, begin the processs of writing to a string, based on the writing task specified in <var>input</var>.</p>
      <p>If they are non-null, <var>sharedContext</var> and <var>context</var> should be used to aid in the writing by providing context on how the web developer wishes the writing task to be performed.</p>
      <p>If <var>input</var> is the empty string, then the resulting text should be the empty string.</p>
      <p>The written output should conform to the guidance given by <var>tone</var>, <var>format</var>, and <var>length</var>, in the definitions of each of their enumeration values.</p>
      <p>If <var>outputLanguage</var> is non-null, the writing should be in that language. Otherwise, it should be in the language of <var>input</var> (which might not match that of <var>context</var> or <var>sharedContext</var>). If <var>input</var> contains multiple languages, or the language of <var>input</var> cannot be detected, then either the output language is <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①①">implementation-defined</a>, or the implementation may treat this as an error, per the guidance in <a href="#writer-errors">§ 4.4.4 Errors</a>.</p>
     <li data-md>
      <p>While true:</p>
      <ol>
       <li data-md>
        <p>Wait for the next chunk of written text to be produced, for the writing process to finish, or for the result of calling <var>stopProducing</var> to become true.</p>
       <li data-md>
        <p>If such a chunk is successfully produced:</p>
        <ol>
         <li data-md>
          <p>Let it be represented as a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑨">string</a> <var>chunk</var>.</p>
         <li data-md>
          <p>Perform <var>chunkProduced</var> given <var>chunk</var>.</p>
        </ol>
       <li data-md>
        <p>Otherwise, if the writing process has finished:</p>
        <ol>
         <li data-md>
          <p>Perform <var>done</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break③">Break</a>.</p>
        </ol>
       <li data-md>
        <p>Otherwise, if <var>stopProducing</var> returns true, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break④">break</a>.</p>
       <li data-md>
        <p>Otherwise, if an error occurred during writing:</p>
        <ol>
         <li data-md>
          <p>Let the error be represented as <a data-link-type="dfn" href="#error-information" id="ref-for-error-information⑤">error information</a> <var>errorInfo</var> according to the guidance in <a href="#writer-errors">§ 4.4.4 Errors</a>.</p>
         <li data-md>
          <p>Perform <var>error</var> given <var>errorInfo</var>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break⑤">Break</a>.</p>
        </ol>
      </ol>
    </ol>
   </div>
   <h4 class="heading settled" data-level="4.4.2" id="writer-usage"><span class="secno">4.4.2. </span><span class="content">Usage</span><a class="self-link" href="#writer-usage"></a></h4>
   <div class="algorithm" data-algorithm="measure writer input usage">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="measure-writer-input-usage">measure writer input usage</dfn>, given: 
    <ul>
     <li data-md>
      <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⓪">string</a> <var>input</var>,</p>
     <li data-md>
      <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②①">string</a>-or-null <var>sharedContext</var>,</p>
     <li data-md>
      <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②②">string</a>-or-null <var>context</var>,</p>
     <li data-md>
      <p>a <code class="idl"><a data-link-type="idl" href="#enumdef-writertone" id="ref-for-enumdef-writertone⑤">WriterTone</a></code> <var>tone</var>,</p>
     <li data-md>
      <p>a <code class="idl"><a data-link-type="idl" href="#enumdef-writerformat" id="ref-for-enumdef-writerformat⑤">WriterFormat</a></code> <var>format</var>,</p>
     <li data-md>
      <p>a <code class="idl"><a data-link-type="idl" href="#enumdef-writerlength" id="ref-for-enumdef-writerlength⑤">WriterLength</a></code> <var>length</var>,</p>
     <li data-md>
      <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②③">string</a>-or-null <var>outputLanguage</var>, and</p>
     <li data-md>
      <p>an algorithm <var>stopMeasuring</var> that takes no arguments and returns a boolean,</p>
    </ul>
    <p>perform the following steps:</p>
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⑨">Assert</a>: this algorithm is running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①③">in parallel</a>.</p>
     <li data-md>
      <p>Let <var>inputToModel</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①②">implementation-defined</a> string that would be sent to the underlying model in order to <a data-link-type="dfn" href="#write" id="ref-for-write④">write</a> given <var>input</var>, <var>sharedContext</var>, <var>context</var>, <var>tone</var>, <var>format</var>, <var>length</var>, and <var>outputLanguage</var>.</p>
      <p>If during this process <var>stopMeasuring</var> starts returning true, then return null.</p>
      <p>If an error occurs during this process, then return an appropriate <a data-link-type="dfn" href="#domexception-error-information" id="ref-for-domexception-error-information④">DOMException error information</a> according to the guidance in <a href="#writer-errors">§ 4.4.4 Errors</a>.</p>
     <li data-md>
      <p>Return the amount of input usage needed to represent <var>inputToModel</var> when given to the underlying model. The exact calculation procedure is <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①③">implementation-defined</a>, subject to the following constraints.</p>
      <p>The returned input usage must be nonnegative and finite. It must be 0, if there are no usage quotas for the writing process (i.e., if the <a data-link-type="dfn" href="#writer-input-quota" id="ref-for-writer-input-quota④">input quota</a> is +∞). Otherwise, it must be positive and should be roughly proportional to the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-length" id="ref-for-string-length②">length</a> of <var>inputToModel</var>.</p>
      <p>If during this process <var>stopMeasuring</var> starts returning true, then instead return null.</p>
      <p>If an error occurs during this process, then instead return an appropriate <a data-link-type="dfn" href="#domexception-error-information" id="ref-for-domexception-error-information⑤">DOMException error information</a> according to the guidance in <a href="#writer-errors">§ 4.4.4 Errors</a>.</p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="4.4.3" id="writer-options"><span class="secno">4.4.3. </span><span class="content">Options</span><a class="self-link" href="#writer-options"></a></h4>
   <p>The <a data-link-type="dfn" href="#write" id="ref-for-write⑤">write</a> algorithm’s details are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①④">implementation-defined</a>, as they are expected to be powered by an AI model. However, it is intended to be controllable by the web developer through the <code class="idl"><a data-link-type="idl" href="#enumdef-writertone" id="ref-for-enumdef-writertone⑥">WriterTone</a></code>, <code class="idl"><a data-link-type="idl" href="#enumdef-writerformat" id="ref-for-enumdef-writerformat⑥">WriterFormat</a></code>, and <code class="idl"><a data-link-type="idl" href="#enumdef-writerlength" id="ref-for-enumdef-writerlength⑥">WriterLength</a></code> enumerations.</p>
   <p>This section gives normative guidance on how the implementation of <a data-link-type="dfn" href="#write" id="ref-for-write⑥">write</a> should use each enumeration value to guide the writing process.</p>
   <table class="data enum-table">
    <caption><code class="idl"><a data-link-type="idl" href="#enumdef-writertone" id="ref-for-enumdef-writertone⑦">WriterTone</a></code> values</caption>
    <thead>
     <tr>
      <th>Value 
      <th>Meaning 
    <tbody>
     <tr>
      <th>"<dfn class="dfn-paneled idl-code" data-dfn-for="WriterTone" data-dfn-type="enum-value" data-export data-lt="&quot;formal&quot;|formal" id="dom-writertone-formal"><code>formal</code></dfn>" 
      <td>
       <p>The writing should use formal language, employing precise terminology, avoiding contractions and slang, and maintaining a professional tone suitable for academic, business, or official contexts. </p>
     <tr>
      <th>"<dfn class="dfn-paneled idl-code" data-dfn-for="WriterTone" data-dfn-type="enum-value" data-export data-lt="&quot;neutral&quot;|neutral" id="dom-writertone-neutral"><code>neutral</code></dfn>" 
      <td>
       <p>The writing should use a balanced, moderate tone that is neither overly formal nor casual, suitable for general audiences and informational contexts. </p>
     <tr>
      <th>"<dfn class="dfn-paneled idl-code" data-dfn-for="WriterTone" data-dfn-type="enum-value" data-export data-lt="&quot;casual&quot;|casual" id="dom-writertone-casual"><code>casual</code></dfn>" 
      <td>
       <p>The writing should use conversational language, potentially including contractions, colloquialisms, and a more relaxed, friendly tone suitable for informal communication. </p>
   </table>
   <table class="data enum-table">
    <caption><code class="idl"><a data-link-type="idl" href="#enumdef-writerlength" id="ref-for-enumdef-writerlength⑦">WriterLength</a></code> values</caption>
    <thead>
     <tr>
      <th>Value 
      <th>Meaning 
    <tbody>
     <tr>
      <th>"<dfn class="dfn-paneled idl-code" data-dfn-for="WriterLength" data-dfn-type="enum-value" data-export data-lt="&quot;short&quot;|short" id="dom-writerlength-short"><code>short</code></dfn>" 
      <td>
       <p>The writing should be concise and to the point, using no more than 100 words. </p>
     <tr>
      <th>"<dfn class="dfn-paneled idl-code" data-dfn-for="WriterLength" data-dfn-type="enum-value" data-export data-lt="&quot;medium&quot;|medium" id="dom-writerlength-medium"><code>medium</code></dfn>" 
      <td>
       <p>The writing should be moderately detailed, using no more than 300 words. </p>
     <tr>
      <th>"<dfn class="dfn-paneled idl-code" data-dfn-for="WriterLength" data-dfn-type="enum-value" data-export data-lt="&quot;long&quot;|long" id="dom-writerlength-long"><code>long</code></dfn>" 
      <td>
       <p>The writing should be in-depth and thorough, using no more than 500 words. </p>
   </table>
   <table class="data enum-table">
    <caption><code class="idl"><a data-link-type="idl" href="#enumdef-writerformat" id="ref-for-enumdef-writerformat⑦">WriterFormat</a></code> values</caption>
    <thead>
     <tr>
      <th>Value 
      <th>Meaning 
    <tbody>
     <tr>
      <th>"<dfn class="dfn-paneled idl-code" data-dfn-for="WriterFormat" data-dfn-type="enum-value" data-export data-lt="&quot;plain-text&quot;|plain-text" id="dom-writerformat-plain-text"><code>plain-text</code></dfn>" 
      <td>
       <p>The writing should not contain any formatting or markup language. </p>
     <tr>
      <th>"<dfn class="dfn-paneled idl-code" data-dfn-for="WriterFormat" data-dfn-type="enum-value" data-export data-lt="&quot;markdown&quot;|markdown" id="dom-writerformat-markdown"><code>markdown</code></dfn>" 
      <td>
       <p>The writing should be formatted using the Markdown markup language, ideally as valid CommonMark. <a data-link-type="biblio" href="#biblio-commonmark" title="CommonMark Spec">[COMMONMARK]</a> </p>
   </table>
   <p class="note" role="note">As with all "<span class="allow-2119">should</span>"-level guidance, user agents might not conform perfectly to these. Especially in the case of counting words, it’s expected that language models might not conform perfectly. </p>
   <h4 class="heading settled" data-level="4.4.4" id="writer-errors"><span class="secno">4.4.4. </span><span class="content">Errors</span><a class="self-link" href="#writer-errors"></a></h4>
   <p>When writing fails, the following possible reasons may be surfaced to the web developer. This table lists the possible <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③">DOMException</a></code> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#domexception-name" id="ref-for-domexception-name②">names</a> and the cases in which an implementation should use them:</p>
   <table class="data">
    <thead>
     <tr>
      <th><code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#domexception-name" id="ref-for-domexception-name③">name</a> 
      <th>Scenarios 
    <tbody>
     <tr>
      <td>"<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror①">NotAllowedError</a></code>" 
      <td>
       <p>Writing is disabled by user choice or user agent policy. </p>
     <tr>
      <td>"<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notreadableerror" id="ref-for-notreadableerror①">NotReadableError</a></code>" 
      <td>
       <p>The writing output was filtered by the user agent, e.g., because it was detected to be harmful, offensive, or nonsensical. </p>
     <tr>
      <td>"<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notsupportederror" id="ref-for-notsupportederror①">NotSupportedError</a></code>" 
      <td>
       <p>The input provided for writing, or the context to be provided, was in a language that the user agent does not support, or was not provided properly in the call to <code class="idl"><a data-link-type="idl" href="#dom-writer-create" id="ref-for-dom-writer-create①">create()</a></code>. </p>
       <p>The writing output ended up being in a language that the user agent does not support (e.g., because the user agent has not performed sufficient quality control tests on that output language), or was not provided properly in the call to <code class="idl"><a data-link-type="idl" href="#dom-writer-create" id="ref-for-dom-writer-create②">create()</a></code>. </p>
       <p>The <code class="idl"><a data-link-type="idl" href="#dom-writercreatecoreoptions-outputlanguage" id="ref-for-dom-writercreatecoreoptions-outputlanguage④">outputLanguage</a></code> option was not set, and the language of the input text could not be determined, so the user agent did not have a good output language default available. </p>
     <tr>
      <td>"<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#unknownerror" id="ref-for-unknownerror①">UnknownError</a></code>" 
      <td>
       <p>All other scenarios, or if the user agent would prefer not to disclose the failure reason. </p>
   </table>
   <p class="note" role="note">This table does not give the complete list of exceptions that can be surfaced by the writer API. It only contains those which can come from certain <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①⑤">implementation-defined</a> steps. </p>
   <h3 class="heading settled" data-level="4.5" id="writer-permissions-policy"><span class="secno">4.5. </span><span class="content">Permissions policy integration</span><a class="self-link" href="#writer-permissions-policy"></a></h3>
   <p>Access to the writer API is gated behind the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature①">policy-controlled feature</a> "<dfn class="dfn-paneled idl-code" data-dfn-type="permission" data-export id="permissiondef-writer"><code>writer</code></dfn>", which has a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" id="ref-for-policy-controlled-feature-default-allowlist①">default allowlist</a> of <code><a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#default-allowlist-self" id="ref-for-default-allowlist-self①">'self'</a></code>.</p>
   <h2 class="heading settled" data-level="5" id="rewriter-api"><span class="secno">5. </span><span class="content">The rewriter API</span><a class="self-link" href="#rewriter-api"></a></h2>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed③"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext③"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="rewriter"><code><c- g>Rewriter</c-></code></dfn> {
  <c- b>static</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑧"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#rewriter" id="ref-for-rewriter"><c- n>Rewriter</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter" data-dfn-type="method" data-export data-lt="create(options)|create()" id="dom-rewriter-create"><code><c- g>create</c-></code></dfn>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-rewritercreateoptions" id="ref-for-dictdef-rewritercreateoptions"><c- n>RewriterCreateOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter/create(options), Rewriter/create()" data-dfn-type="argument" data-export id="dom-rewriter-create-options-options"><code><c- g>options</c-></code></dfn> = {});
  <c- b>static</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑨"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#enumdef-availability" id="ref-for-enumdef-availability⑥"><c- n>Availability</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter" data-dfn-type="method" data-export data-lt="availability(options)|availability()" id="dom-rewriter-availability"><code><c- g>availability</c-></code></dfn>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-rewritercreatecoreoptions" id="ref-for-dictdef-rewritercreatecoreoptions"><c- n>RewriterCreateCoreOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter/availability(options), Rewriter/availability()" data-dfn-type="argument" data-export id="dom-rewriter-availability-options-options"><code><c- g>options</c-></code></dfn> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⓪"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③⓪"><c- b>DOMString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter" data-dfn-type="method" data-export data-lt="rewrite(input, options)|rewrite(input)" id="dom-rewriter-rewrite"><code><c- g>rewrite</c-></code></dfn>(
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③①"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter/rewrite(input, options), Rewriter/rewrite(input)" data-dfn-type="argument" data-export id="dom-rewriter-rewrite-input-options-input"><code><c- g>input</c-></code></dfn>,
    <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-rewriterrewriteoptions" id="ref-for-dictdef-rewriterrewriteoptions"><c- n>RewriterRewriteOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter/rewrite(input, options), Rewriter/rewrite(input)" data-dfn-type="argument" data-export id="dom-rewriter-rewrite-input-options-options"><code><c- g>options</c-></code></dfn> = {}
  );
  <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream②"><c- n>ReadableStream</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter" data-dfn-type="method" data-export data-lt="rewriteStreaming(input, options)|rewriteStreaming(input)" id="dom-rewriter-rewritestreaming"><code><c- g>rewriteStreaming</c-></code></dfn>(
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③②"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter/rewriteStreaming(input, options), Rewriter/rewriteStreaming(input)" data-dfn-type="argument" data-export id="dom-rewriter-rewritestreaming-input-options-input"><code><c- g>input</c-></code></dfn>,
    <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-rewriterrewriteoptions" id="ref-for-dictdef-rewriterrewriteoptions①"><c- n>RewriterRewriteOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter/rewriteStreaming(input, options), Rewriter/rewriteStreaming(input)" data-dfn-type="argument" data-export id="dom-rewriter-rewritestreaming-input-options-options"><code><c- g>options</c-></code></dfn> = {}
  );

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③③"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter" data-dfn-type="attribute" data-export data-readonly data-type="DOMString" id="dom-rewriter-sharedcontext"><code><c- g>sharedContext</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-rewritertone" id="ref-for-enumdef-rewritertone"><c- n>RewriterTone</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter" data-dfn-type="attribute" data-export data-readonly data-type="RewriterTone" id="dom-rewriter-tone"><code><c- g>tone</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-rewriterformat" id="ref-for-enumdef-rewriterformat"><c- n>RewriterFormat</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter" data-dfn-type="attribute" data-export data-readonly data-type="RewriterFormat" id="dom-rewriter-format"><code><c- g>format</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-rewriterlength" id="ref-for-enumdef-rewriterlength"><c- n>RewriterLength</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter" data-dfn-type="attribute" data-export data-readonly data-type="RewriterLength" id="dom-rewriter-length"><code><c- g>length</c-></code></dfn>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array⑧"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③④"><c- b>DOMString</c-></a>>? <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter" data-dfn-type="attribute" data-export data-readonly data-type="FrozenArray<DOMString>?" id="dom-rewriter-expectedinputlanguages"><code><c- g>expectedInputLanguages</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array⑨"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③⑤"><c- b>DOMString</c-></a>>? <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter" data-dfn-type="attribute" data-export data-readonly data-type="FrozenArray<DOMString>?" id="dom-rewriter-expectedcontextlanguages"><code><c- g>expectedContextLanguages</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③⑥"><c- b>DOMString</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter" data-dfn-type="attribute" data-export data-readonly data-type="DOMString?" id="dom-rewriter-outputlanguage"><code><c- g>outputLanguage</c-></code></dfn>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①①"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double" id="ref-for-idl-double②"><c- b>double</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter" data-dfn-type="method" data-export data-lt="measureInputUsage(input, options)|measureInputUsage(input)" id="dom-rewriter-measureinputusage"><code><c- g>measureInputUsage</c-></code></dfn>(
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③⑦"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter/measureInputUsage(input, options), Rewriter/measureInputUsage(input)" data-dfn-type="argument" data-export id="dom-rewriter-measureinputusage-input-options-input"><code><c- g>input</c-></code></dfn>,
    <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-rewriterrewriteoptions" id="ref-for-dictdef-rewriterrewriteoptions②"><c- n>RewriterRewriteOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter/measureInputUsage(input, options), Rewriter/measureInputUsage(input)" data-dfn-type="argument" data-export id="dom-rewriter-measureinputusage-input-options-options"><code><c- g>options</c-></code></dfn> = {}
  );
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double" id="ref-for-idl-unrestricted-double②"><c- b>unrestricted</c-> <c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Rewriter" data-dfn-type="attribute" data-export data-readonly data-type="unrestricted double" id="dom-rewriter-inputquota"><code><c- g>inputQuota</c-></code></dfn>;
};
<a data-link-type="idl-name" href="#rewriter" id="ref-for-rewriter①"><c- n>Rewriter</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#destroyablemodel" id="ref-for-destroyablemodel⑤"><c- n>DestroyableModel</c-></a>;

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-rewritercreatecoreoptions"><code><c- g>RewriterCreateCoreOptions</c-></code></dfn> {
  <a data-link-type="idl-name" href="#enumdef-rewritertone" id="ref-for-enumdef-rewritertone①"><c- n>RewriterTone</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;as-is&quot;" data-dfn-for="RewriterCreateCoreOptions" data-dfn-type="dict-member" data-export data-type="RewriterTone" id="dom-rewritercreatecoreoptions-tone"><code><c- g>tone</c-></code></dfn> = "as-is";
  <a data-link-type="idl-name" href="#enumdef-rewriterformat" id="ref-for-enumdef-rewriterformat①"><c- n>RewriterFormat</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;as-is&quot;" data-dfn-for="RewriterCreateCoreOptions" data-dfn-type="dict-member" data-export data-type="RewriterFormat" id="dom-rewritercreatecoreoptions-format"><code><c- g>format</c-></code></dfn> = "as-is";
  <a data-link-type="idl-name" href="#enumdef-rewriterlength" id="ref-for-enumdef-rewriterlength①"><c- n>RewriterLength</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;as-is&quot;" data-dfn-for="RewriterCreateCoreOptions" data-dfn-type="dict-member" data-export data-type="RewriterLength" id="dom-rewritercreatecoreoptions-length"><code><c- g>length</c-></code></dfn> = "as-is";

  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence④"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③⑧"><c- b>DOMString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="RewriterCreateCoreOptions" data-dfn-type="dict-member" data-export data-type="sequence<DOMString>" id="dom-rewritercreatecoreoptions-expectedinputlanguages"><code><c- g>expectedInputLanguages</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑤"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③⑨"><c- b>DOMString</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="RewriterCreateCoreOptions" data-dfn-type="dict-member" data-export data-type="sequence<DOMString>" id="dom-rewritercreatecoreoptions-expectedcontextlanguages"><code><c- g>expectedContextLanguages</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④⓪"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RewriterCreateCoreOptions" data-dfn-type="dict-member" data-export data-type="DOMString" id="dom-rewritercreatecoreoptions-outputlanguage"><code><c- g>outputLanguage</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-rewritercreateoptions"><code><c- g>RewriterCreateOptions</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-rewritercreatecoreoptions" id="ref-for-dictdef-rewritercreatecoreoptions①"><c- n>RewriterCreateCoreOptions</c-></a> {
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal⑦"><c- n>AbortSignal</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RewriterCreateOptions" data-dfn-type="dict-member" data-export data-type="AbortSignal" id="dom-rewritercreateoptions-signal"><code><c- g>signal</c-></code></dfn>;
  <a data-link-type="idl-name" href="#callbackdef-createmonitorcallback" id="ref-for-callbackdef-createmonitorcallback②"><c- n>CreateMonitorCallback</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RewriterCreateOptions" data-dfn-type="dict-member" data-export data-type="CreateMonitorCallback" id="dom-rewritercreateoptions-monitor"><code><c- g>monitor</c-></code></dfn>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④①"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RewriterCreateOptions" data-dfn-type="dict-member" data-export data-type="DOMString" id="dom-rewritercreateoptions-sharedcontext"><code><c- g>sharedContext</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-rewriterrewriteoptions"><code><c- g>RewriterRewriteOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④②"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RewriterRewriteOptions" data-dfn-type="dict-member" data-export data-type="DOMString" id="dom-rewriterrewriteoptions-context"><code><c- g>context</c-></code></dfn>;
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal⑧"><c- n>AbortSignal</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RewriterRewriteOptions" data-dfn-type="dict-member" data-export data-type="AbortSignal" id="dom-rewriterrewriteoptions-signal"><code><c- g>signal</c-></code></dfn>;
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-rewritertone"><code><c- g>RewriterTone</c-></code></dfn> { <dfn class="dfn-paneled idl-code" data-dfn-for="RewriterTone" data-dfn-type="enum-value" data-export id="dom-rewritertone-as-is"><code><c- s>"as-is"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="RewriterTone" data-dfn-type="enum-value" data-export id="dom-rewritertone-more-formal"><code><c- s>"more-formal"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="RewriterTone" data-dfn-type="enum-value" data-export id="dom-rewritertone-more-casual"><code><c- s>"more-casual"</c-></code></dfn> };
<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-rewriterformat"><code><c- g>RewriterFormat</c-></code></dfn> { <dfn class="dfn-paneled idl-code" data-dfn-for="RewriterFormat" data-dfn-type="enum-value" data-export id="dom-rewriterformat-as-is"><code><c- s>"as-is"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="RewriterFormat" data-dfn-type="enum-value" data-export id="dom-rewriterformat-plain-text"><code><c- s>"plain-text"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="RewriterFormat" data-dfn-type="enum-value" data-export id="dom-rewriterformat-markdown"><code><c- s>"markdown"</c-></code></dfn> };
<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-rewriterlength"><code><c- g>RewriterLength</c-></code></dfn> { <dfn class="dfn-paneled idl-code" data-dfn-for="RewriterLength" data-dfn-type="enum-value" data-export id="dom-rewriterlength-as-is"><code><c- s>"as-is"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="RewriterLength" data-dfn-type="enum-value" data-export id="dom-rewriterlength-shorter"><code><c- s>"shorter"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="RewriterLength" data-dfn-type="enum-value" data-export id="dom-rewriterlength-longer"><code><c- s>"longer"</c-></code></dfn> };
</pre>
   <h2 class="heading settled" data-level="6" id="supporting"><span class="secno">6. </span><span class="content">Shared infrastructure</span><a class="self-link" href="#supporting"></a></h2>
   <h3 class="heading settled" data-level="6.1" id="supporting-creation"><span class="secno">6.1. </span><span class="content">Creation</span><a class="self-link" href="#supporting-creation"></a></h3>
   <div class="algorithm" data-algorithm="create an AI model object">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="create-an-ai-model-object">create an AI model object</dfn> given: 
    <ul>
     <li data-md>
      <p>an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map">ordered map</a> <var>options</var>,</p>
     <li data-md>
      <p>a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature②">policy-controlled feature</a> <var>permissionsPolicyFeature</var>,</p>
     <li data-md>
      <p>an algorithm <var>validateAndCanonicalizeOptions</var> taking an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①">ordered map</a> and returning nothing,</p>
     <li data-md>
      <p>an algorithm <var>getAvailability</var> taking an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②">ordered map</a> and returning an <code class="idl"><a data-link-type="idl" href="#enumdef-availability" id="ref-for-enumdef-availability⑦">Availability</a></code> or null,</p>
     <li data-md>
      <p>an algorithm <var>startDownload</var> taking an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③">ordered map</a> and returning a boolean,</p>
     <li data-md>
      <p>an algorithm <var>initialize</var> taking an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④">ordered map</a> and returning an error information or null, and</p>
     <li data-md>
      <p>an algorithm <var>create</var> taking a <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#realm" id="ref-for-realm②">realm</a> and an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤">ordered map</a> and returning a Web IDL object representing the model,</p>
    </ul>
    <p>perform the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>realm</var> be the <a data-link-type="dfn" href="https://tc39.es/ecma262/#current-realm" id="ref-for-current-realm">current realm</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②⓪">Assert</a>: <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global">global object</a> is a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window">Window</a></code> object.</p>
     <li data-md>
      <p>Let <var>document</var> be <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global①">global object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window">associated Document</a>.</p>
     <li data-md>
      <p>If <var>document</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active">fully active</a>, then return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with">a promise rejected with</a> an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code>.</p>
     <li data-md>
      <p>Perform <var>validateAndCanonicalizeOptions</var> given <var>options</var>. If this throws an exception <var>e</var>, catch it, and return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with①">a promise rejected with</a> <var>e</var>.</p>
      <p class="note" role="note">This can mutate <var>options</var>. </p>
     <li data-md>
      <p>If <var>options</var>["<code>signal</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⓪">exists</a> and is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted" id="ref-for-abortsignal-aborted">aborted</a>, then return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with②">a promise rejected with</a> <var>options</var>["<code>signal</code>"]'s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason">abort reason</a>.</p>
     <li data-md>
      <p>If <var>document</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use">allowed to use</a> <var>permissionsPolicyFeature</var>, then return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with③">a promise rejected with</a> a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notallowederror" id="ref-for-notallowederror②">NotAllowedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code>.</p>
     <li data-md>
      <p>Let <var>fireProgressEvent</var> be an algorithm taking two arguments that does nothing.</p>
     <li data-md>
      <p>If <var>options</var>["<code>monitor</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①①">exists</a>, then:</p>
      <ol>
       <li data-md>
        <p>Let <var>monitor</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new②">new</a> <code class="idl"><a data-link-type="idl" href="#createmonitor" id="ref-for-createmonitor②">CreateMonitor</a></code> created in <var>realm</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#invoke-a-callback-function" id="ref-for-invoke-a-callback-function">Invoke</a> <var>options</var>["<code>monitor</code>"] with « <var>monitor</var> » and "<code>rethrow</code>".</p>
        <p>If this throws an exception <var>e</var>, catch it, and return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with④">a promise rejected with</a> <var>e</var>.</p>
       <li data-md>
        <p>Set <var>fireProgressEvent</var> to an algorithm taking argument <var>loaded</var>, which performs the following steps:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②①">Assert</a>: this algorithm is running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①④">in parallel</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task">Queue a global task</a> on the <a data-link-type="dfn" href="#ai-task-source" id="ref-for-ai-task-source">AI task source</a> given <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global②">global object</a> to perform the following steps:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire">Fire an event</a> named <code class="idl"><a data-link-type="idl" href="#eventdef-createmonitor-downloadprogress" id="ref-for-eventdef-createmonitor-downloadprogress">downloadprogress</a></code> at <var>monitor</var>, using <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#progressevent" id="ref-for-progressevent">ProgressEvent</a></code>, with the <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#dom-progressevent-loaded" id="ref-for-dom-progressevent-loaded">loaded</a></code> attribute initialized to <var>loaded</var>, the <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#dom-progressevent-total" id="ref-for-dom-progressevent-total">total</a></code> attribute initialized to 1, and the <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#dom-progressevent-lengthcomputable" id="ref-for-dom-progressevent-lengthcomputable">lengthComputable</a></code> attribute initialized to true.</p>
          </ol>
        </ol>
      </ol>
     <li data-md>
      <p>Let <var>abortedDuringDownload</var> be false.</p>
      <p class="note" role="note">This variable will be written to from the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop">event loop</a>, but read from <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①⑤">in parallel</a>. </p>
     <li data-md>
      <p>If <var>options</var>["<code>signal</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①②">exists</a>, then <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add" id="ref-for-abortsignal-add">add the following abort steps</a> to <var>options</var>["<code>signal</code>"]:</p>
      <ol>
       <li data-md>
        <p>Set <var>abortedDuringDownload</var> to true.</p>
      </ol>
     <li data-md>
      <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">a new promise</a> created in <var>realm</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①⑥">In parallel</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>availability</var> be the result of performing <var>getAvailability</var> given <var>options</var>.</p>
        <p class="note" role="note">This can mutate <var>options</var>. </p>
       <li data-md>
        <p>Switch on <var>availability</var>:</p>
      </ol>
      <dl class="switch">
       <dt data-md>null
       <dd data-md>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject">Reject</a> <var>promise</var> with an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#unknownerror" id="ref-for-unknownerror②">UnknownError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑦">DOMException</a></code>.</p>
         <li data-md>
          <p>Abort these steps.</p>
        </ol>
       <dt data-md>"<code class="idl"><a data-link-type="idl" href="#dom-availability-unavailable" id="ref-for-dom-availability-unavailable②">unavailable</a></code>"
       <dd data-md>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①">Reject</a> <var>promise</var> with a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#notsupportederror" id="ref-for-notsupportederror②">NotSupportedError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑧">DOMException</a></code>.</p>
         <li data-md>
          <p>Abort these steps.</p>
        </ol>
       <dt data-md>"<code class="idl"><a data-link-type="idl" href="#dom-availability-available" id="ref-for-dom-availability-available③">available</a></code>"
       <dd data-md>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="#initialize-and-return-an-ai-model-object" id="ref-for-initialize-and-return-an-ai-model-object">Initialize and return an AI model object</a> given <var>promise</var>, <var>options</var>, <var>fireProgressEvent</var>, <var>initialize</var>, and <var>create</var>.</p>
        </ol>
       <dt data-md>"<code class="idl"><a data-link-type="idl" href="#dom-availability-downloading" id="ref-for-dom-availability-downloading">downloading</a></code>"
       <dt data-md>"<code class="idl"><a data-link-type="idl" href="#dom-availability-downloadable" id="ref-for-dom-availability-downloadable⑤">downloadable</a></code>"
       <dd data-md>
        <ol>
         <li data-md>
          <p>If <var>availability</var> is "<code class="idl"><a data-link-type="idl" href="#dom-availability-downloadable" id="ref-for-dom-availability-downloadable⑥">downloadable</a></code>", then let <var>startDownloadResult</var> be the result of performing <var>startDownload</var> given <var>options</var>.</p>
         <li data-md>
          <p>If <var>startDownloadResult</var> is false, then:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task①">Queue a global task</a> on the <a data-link-type="dfn" href="#ai-task-source" id="ref-for-ai-task-source①">AI task source</a> given <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global③">global object</a> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject②">reject</a> <var>promise</var> with a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#networkerror" id="ref-for-networkerror">NetworkError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑨">DOMException</a></code>.</p>
           <li data-md>
            <p>Abort these steps.</p>
          </ol>
         <li data-md>
          <p>Run the following steps, but <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#abort-when" id="ref-for-abort-when">abort when</a> <var>abortedDuringDownload</var> becomes true:</p>
          <ol>
           <li data-md>
            <p>Wait for the total number of bytes to be downloaded to become determined, and let that number be <var>totalBytes</var>.</p>
            <p>This number must be equal to the number of bytes that the user agent needs to download at the present time, not including any that have already been downloaded.</p>
            <div class="note" role="note">
             <p>For example, if another tab has started the download and it is 90% finished, and the user agent is planning to share the model across all tabs, then <var>totalBytes</var> will be 10% of the size of the model, not 100% of the size of the model. </p>
             <p>This prevents the web developer-perceived progress from suddenly jumping from 0% to 90%, and then taking a long time to go from 90% to 100%. It also provides some protection against the (admittedly not very powerful) fingerprinting vector of measuring the current download progress across multiple sites. </p>
            </div>
           <li data-md>
            <p>Let <var>lastProgressFraction</var> be 0.</p>
           <li data-md>
            <p>Let <var>lastProgressTime</var> be the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-monotonic-clock" id="ref-for-dfn-monotonic-clock">monotonic clock</a>’s <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time" id="ref-for-monotonic-clock-unsafe-current-time">unsafe current time</a>.</p>
           <li data-md>
            <p>Perform <var>fireProgressEvent</var> given 0.</p>
           <li data-md>
            <p>While true:</p>
            <ol>
             <li data-md>
              <p>If downloading has failed, then:</p>
              <ol>
               <li data-md>
                <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task②">Queue a global task</a> on the <a data-link-type="dfn" href="#ai-task-source" id="ref-for-ai-task-source②">AI task source</a> given <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global④">global object</a> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject③">reject</a> <var>promise</var> with a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#networkerror" id="ref-for-networkerror①">NetworkError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⓪">DOMException</a></code>.</p>
               <li data-md>
                <p>Abort these steps.</p>
              </ol>
             <li data-md>
              <p>Let <var>bytesSoFar</var> be the number of bytes downloaded so far.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②②">Assert</a>: <var>bytesSoFar</var> is greater than or equal to 0, and less than or equal to <var>totalBytes</var>.</p>
             <li data-md>
              <p>If the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-monotonic-clock" id="ref-for-dfn-monotonic-clock①">monotonic clock</a>’s <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time" id="ref-for-monotonic-clock-unsafe-current-time①">unsafe current time</a> minus <var>lastProgressTime</var> is greater than 50 ms, or <var>bytesSoFar</var> equals <var>totalBytes</var>, then:</p>
              <ol>
               <li data-md>
                <p>Let <var>rawProgressFraction</var> be <var>bytesSoFar</var> divided by <var>totalBytes</var>.</p>
               <li data-md>
                <p>Let <var>progressFraction</var> be <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#eqn-floor" id="ref-for-eqn-floor">floor</a>(<var>rawProgressFraction</var> × 65,536) ÷ 65,536.</p>
                <div class="note" role="note">
                 <p>We use a fraction, instead of firing a progress event with the number of bytes downloaded, to avoid giving precise information about the size of the model or other material being downloaded.</p>
                 <p><var>progressFraction</var> is calculated from <var>rawProgressFraction</var> to give a precision of one part in 2<sup>16</sup>. This ensures that over most internet speeds and with most model sizes, the <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#dom-progressevent-loaded" id="ref-for-dom-progressevent-loaded①">loaded</a></code> value will be different from the previous one that was fired ~50 milliseconds ago.</p>
                 <details>
                  <summary>Full calculation</summary>
                  <p>Assume a 5 GiB download size, and a 20 Mbps download speed (chosen as a number on the lower range from <a href="https://worldpopulationreview.com/country-rankings/internet-speeds-by-country">this source</a>). Then, downloading 5 GiB will take:</p>
                  <math style="display:block math">
                   <mtable>
                    <mtr>
                     <mtd></mtd>
                     <mtd style="text-align: left">
                      <mn>5</mn>
                      <mtext> GiB</mtext>
                      <mo>×</mo>
                      <mfrac>
                       <mrow>
                        <msup>
                         <mn>2</mn>
                         <mn>30</mn>
                        </msup>
                        <mtext> bytes</mtext>
                       </mrow>
                       <mtext>GiB</mtext>
                      </mfrac>
                      <mo>×</mo>
                      <mfrac>
                       <mrow>
                        <mn>8</mn>
                        <mtext> bits</mtext>
                       </mrow>
                       <mtext>bytes</mtext>
                      </mfrac>
                      <mo>÷</mo>
                      <mfrac>
                       <mrow>
                        <mn>20</mn>
                        <mo>×</mo>
                        <msup>
                         <mn>10</mn>
                         <mn>6</mn>
                        </msup>
                        <mtext> bits</mtext>
                       </mrow>
                       <mtext>s</mtext>
                      </mfrac>
                      <mo>×</mo>
                      <mfrac>
                       <mrow>
                        <mn>1000</mn>
                        <mtext> ms</mtext>
                       </mrow>
                       <mtext>s</mtext>
                      </mfrac>
                      <mo>÷</mo>
                      <mfrac>
                       <mrow>
                        <mn>50</mn>
                        <mtext> ms</mtext>
                       </mrow>
                       <mtext>interval</mtext>
                      </mfrac>
                     </mtd>
                    </mtr>
                    <mtr>
                     <mtd>
                      <mo>=</mo>
                     </mtd>
                     <mtd style="text-align: left">
                      <mn>49,950</mn>
                      <mtext> intervals</mtext>
                     </mtd>
                    </mtr>
                   </mtable>
                  </math>
                  <p>Rounding up to the nearest power of two gives a conservative estimate of 65,536 fifty millisecond intervals, so we want to give progress to 1 part in 2<sup>16</sup>.</p>
                 </details>
                </div>
               <li data-md>
                <p>If <var>progressFraction</var> is not equal to <var>lastProgressFraction</var>, then perform <var>fireProgressEvent</var> given <var>progressFraction</var>.</p>
               <li data-md>
                <p>If <var>bytesSoFar</var> equals <var>totalBytes</var>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break⑥">break</a>.</p>
                <p class="note" role="note">Since this is the only non-failure exit condition for the loop, we will never miss firing a <code class="idl"><a data-link-type="idl" href="#eventdef-createmonitor-downloadprogress" id="ref-for-eventdef-createmonitor-downloadprogress①">downloadprogress</a></code> event for the 100% mark.</p>
               <li data-md>
                <p>Set <var>lastProgressFraction</var> to <var>progressFraction</var>.</p>
               <li data-md>
                <p>Set <var>lastProgressTime</var> to the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-monotonic-clock" id="ref-for-dfn-monotonic-clock②">monotonic clock</a>’s <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time" id="ref-for-monotonic-clock-unsafe-current-time②">unsafe current time</a>.</p>
              </ol>
            </ol>
          </ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#if-aborted" id="ref-for-if-aborted">If aborted</a>, then:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task③">Queue a global task</a> on the <a data-link-type="dfn" href="#ai-task-source" id="ref-for-ai-task-source③">AI task source</a> given <var>realm</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global" id="ref-for-concept-realm-global⑤">global object</a> to perform the following steps:</p>
            <ol>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②③">Assert</a>: <var>options</var>["<code>signal</code>"] is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted" id="ref-for-abortsignal-aborted①">aborted</a>.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject④">Reject</a> <var>promise</var> with <var>options</var>["<code>signal</code>"]'s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason①">abort reason</a>.</p>
            </ol>
           <li data-md>
            <p>Abort these steps.</p>
          </ol>
         <li data-md>
          <p><a data-link-type="dfn" href="#initialize-and-return-an-ai-model-object" id="ref-for-initialize-and-return-an-ai-model-object①">Initialize and return an AI model object</a> given <var>promise</var>, <var>options</var>, a no-op algorithm, <var>initialize</var>, and <var>create</var>.</p>
        </ol>
      </dl>
     <li data-md>
      <p>Return <var>promise</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="initialize and return an AI model object">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="initialize-and-return-an-ai-model-object">initialize and return an AI model object</dfn> given a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①②">Promise</a></code> <var>promise</var>, an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑥">ordered map</a> <var>options</var>, and algorithms <var>fireProgressEvent</var>, <var>initialize</var>, and <var>create</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②④">Assert</a>: these steps are running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①⑦">in parallel</a>.</p>
     <li data-md>
      <p>Perform <var>fireProgressEvent</var> given 0.</p>
     <li data-md>
      <p>Perform <var>fireProgressEvent</var> given 1.</p>
     <li data-md>
      <p>Let <var>result</var> be the result of performing <var>initialize</var> given <var>options</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task④">Queue a global task</a> on the <a data-link-type="dfn" href="#ai-task-source" id="ref-for-ai-task-source④">AI task source</a> given <var>promise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global">relevant global object</a> to perform the following steps:</p>
      <ol>
       <li data-md>
        <p>If <var>options</var>["<code>signal</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①③">exists</a> and is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted" id="ref-for-abortsignal-aborted②">aborted</a>, then:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑤">Reject</a> <var>promise</var> with <var>options</var>["<code>signal</code>"]'s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason②">abort reason</a>.</p>
         <li data-md>
          <p>Abort these steps.</p>
        </ol>
        <p class="note" role="note">This check is necessary in case any code running on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop" id="ref-for-concept-agent-event-loop②">event loop</a> caused the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal⑨">AbortSignal</a></code> to become <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted" id="ref-for-abortsignal-aborted③">aborted</a> before this <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task">task</a> ran. </p>
       <li data-md>
        <p>If <var>result</var> is an <a data-link-type="dfn" href="#error-information" id="ref-for-error-information⑥">error information</a>, then:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑥">Reject</a> <var>promise</var> with the result of <a data-link-type="dfn" href="#convert-error-information-into-an-exception-object" id="ref-for-convert-error-information-into-an-exception-object">converting error information into an exception object</a> given <var>result</var>.</p>
         <li data-md>
          <p>Abort these steps.</p>
        </ol>
       <li data-md>
        <p>Let <var>model</var> be the result of performing <var>create</var> given <var>promise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①">relevant global object</a> and <var>options</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②⑤">Assert</a>: <var>model</var> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#implements" id="ref-for-implements">implements</a> an <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-interface" id="ref-for-dfn-interface①">interface</a> that <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#include" id="ref-for-include①">includes</a> <code class="idl"><a data-link-type="idl" href="#destroyablemodel" id="ref-for-destroyablemodel⑥">DestroyableModel</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#initialize-as-a-destroyable" id="ref-for-initialize-as-a-destroyable①">Initialize as a destroyable</a> <var>model</var>.</p>
       <li data-md>
        <p>If <var>options</var>["<code>signal</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①④">exists</a>, then <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add" id="ref-for-abortsignal-add①">add the following abort steps</a> to <var>options</var>["<code>signal</code>"]:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="#destroyablemodel-destroy" id="ref-for-destroyablemodel-destroy①">Destroy</a> <var>model</var> given <var>options</var>["<code>signal</code>"]'s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason③">abort reason</a>.</p>
        </ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve">Resolve</a> <var>promise</var> with <var>model</var>.</p>
      </ol>
    </ol>
   </div>
   <h3 class="heading settled" data-level="6.2" id="supporting-results"><span class="secno">6.2. </span><span class="content">Obtaining results and usage</span><a class="self-link" href="#supporting-results"></a></h3>
   <div class="algorithm" data-algorithm="get an aggregated AI model result">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="get-an-aggregated-ai-model-result">get an aggregated AI model result</dfn> given an <code class="idl"><a data-link-type="idl" href="#destroyablemodel" id="ref-for-destroyablemodel⑦">DestroyableModel</a></code> <var>modelObject</var>, an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑦">ordered map</a> <var>options</var>, and an algorithm <var>operation</var>: 
    <ol>
     <li data-md>
      <p>Let <var>global</var> be <var>modelObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global②">relevant global object</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②⑥">Assert</a>: <var>global</var> is a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①">Window</a></code> object.</p>
     <li data-md>
      <p>If <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window①">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active①">fully active</a>, then return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with⑤">a promise rejected with</a> an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①①">DOMException</a></code>.</p>
     <li data-md>
      <p>Let <var>signals</var> be « <var>modelObject</var>’s <a data-link-type="dfn" href="#destroyablemodel-destruction-abort-controller" id="ref-for-destroyablemodel-destruction-abort-controller③">destruction abort controller</a>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal" id="ref-for-abortcontroller-signal①">signal</a> ».</p>
     <li data-md>
      <p>If <var>options</var>["<code>signal</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑤">exists</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append">append</a> it to <var>signals</var>.</p>
     <li data-md>
      <p>Let <var>compositeSignal</var> be the result of <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#create-a-dependent-abort-signal" id="ref-for-create-a-dependent-abort-signal①">creating a dependent abort signal</a> given <var>signals</var> using <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal①⓪">AbortSignal</a></code> and <var>modelObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm②">relevant realm</a>.</p>
     <li data-md>
      <p>If <var>compositeSignal</var> is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted" id="ref-for-abortsignal-aborted④">aborted</a>, then return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with⑥">a promise rejected with</a> <var>compositeSignal</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason④">abort reason</a>.</p>
     <li data-md>
      <p>Let <var>abortedDuringOperation</var> be false.</p>
      <p class="note" role="note">This variable will be written to from the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop①">event loop</a>, but read from <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①⑧">in parallel</a>. </p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add" id="ref-for-abortsignal-add②">Add the following abort steps</a> to <var>compositeSignal</var>:</p>
      <ol>
       <li data-md>
        <p>Set <var>abortedDuringOperation</var> to true.</p>
      </ol>
     <li data-md>
      <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①">a new promise</a> created in <var>modelObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm③">relevant realm</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①⑨">In parallel</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>result</var> be the empty string.</p>
       <li data-md>
        <p>Let <var>chunkProduced</var> be the following steps given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②④">string</a> <var>chunk</var>:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task⑤">Queue a global task</a> on the <a data-link-type="dfn" href="#ai-task-source" id="ref-for-ai-task-source⑤">AI task source</a> given <var>global</var> to perform the following steps:</p>
          <ol>
           <li data-md>
            <p>If <var>abortedDuringOperation</var> is true, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑦">reject</a> <var>promise</var> with <var>compositeSignal</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason⑤">abort reason</a>.</p>
           <li data-md>
            <p>Otherwise, append <var>chunk</var> to <var>result</var>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Let <var>done</var> be the following steps:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task⑥">Queue a global task</a> on the <a data-link-type="dfn" href="#ai-task-source" id="ref-for-ai-task-source⑥">AI task source</a> given |<var>global</var> to perform the following steps:</p>
          <ol>
           <li data-md>
            <p>If <var>abortedDuringOperation</var> is true, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑧">reject</a> <var>promise</var> with <var>compositeSignal</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason⑥">abort reason</a>.</p>
           <li data-md>
            <p>Otherwise, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve①">resolve</a> <var>promise</var> with <var>result</var>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Let <var>error</var> be the following steps given <a data-link-type="dfn" href="#error-information" id="ref-for-error-information⑦">error information</a> <var>errorInfo</var>:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task⑦">Queue a global task</a> on the <a data-link-type="dfn" href="#ai-task-source" id="ref-for-ai-task-source⑦">AI task source</a> given <var>global</var> to perform the following steps:</p>
          <ol>
           <li data-md>
            <p>If <var>abortedDuringOperation</var> is true, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject⑨">reject</a> <var>promise</var> with <var>compositeSignal</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason⑦">abort reason</a>.</p>
           <li data-md>
            <p>Otherwise, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①⓪">reject</a> <var>promise</var> with the result <a data-link-type="dfn" href="#convert-error-information-into-an-exception-object" id="ref-for-convert-error-information-into-an-exception-object①">converting error information into an exception object</a> given <var>errorInfo</var>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Let <var>stopProducing</var> be the following steps:</p>
        <ol>
         <li data-md>
          <p>Return <var>abortedDuringOperation</var>.</p>
        </ol>
       <li data-md>
        <p>Perform <var>operation</var> given <var>chunkProduced</var>, <var>done</var>, <var>error</var>, and <var>stopProducing</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>promise</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="get a streaming AI model result">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="get-a-streaming-ai-model-result">get a streaming AI model result</dfn> given an <code class="idl"><a data-link-type="idl" href="#destroyablemodel" id="ref-for-destroyablemodel⑧">DestroyableModel</a></code> <var>modelObject</var>, an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑧">ordered map</a> <var>options</var>, and an algorithm <var>operation</var>: 
    <ol>
     <li data-md>
      <p>Let <var>global</var> be <var>modelObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global③">relevant global object</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②⑦">Assert</a>: <var>global</var> is a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window②">Window</a></code> object.</p>
     <li data-md>
      <p>If <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window②">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active②">fully active</a>, then throw an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror②">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①②">DOMException</a></code>.</p>
     <li data-md>
      <p>Let <var>signals</var> be « <var>modelObject</var>’s <a data-link-type="dfn" href="#destroyablemodel-destruction-abort-controller" id="ref-for-destroyablemodel-destruction-abort-controller④">destruction abort controller</a>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal" id="ref-for-abortcontroller-signal②">signal</a> ».</p>
     <li data-md>
      <p>If <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-summarizersummarizeoptions-signal" id="ref-for-dom-summarizersummarizeoptions-signal">signal</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑥">exists</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①">append</a> it to <var>signals</var>.</p>
     <li data-md>
      <p>Let <var>compositeSignal</var> be the result of <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#create-a-dependent-abort-signal" id="ref-for-create-a-dependent-abort-signal②">creating a dependent abort signal</a> given <var>signals</var> using <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal①①">AbortSignal</a></code> and <var>modelObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm④">relevant realm</a>.</p>
     <li data-md>
      <p>If <var>compositeSignal</var> is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted" id="ref-for-abortsignal-aborted⑤">aborted</a>, then return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with⑦">a promise rejected with</a> <var>compositeSignal</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason⑧">abort reason</a>.</p>
     <li data-md>
      <p>Let <var>abortedDuringOperation</var> be false.</p>
      <p class="note" role="note">This variable will be written to from the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop②">event loop</a>, but read from <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②⓪">in parallel</a>. </p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add" id="ref-for-abortsignal-add③">Add the following abort steps</a> to <var>compositeSignal</var>:</p>
      <ol>
       <li data-md>
        <p>Set <var>abortedDuringOperation</var> to true.</p>
      </ol>
     <li data-md>
      <p>Let <var>stream</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new③">new</a> <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream③">ReadableStream</a></code> created in <var>modelObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm⑤">relevant realm</a>.</p>
     <li data-md>
      <p>Let <var>canceledDuringOperation</var> be false.</p>
      <p class="note" role="note">This variable tracks web developer <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-cancel" id="ref-for-readablestream-cancel">stream cancelations</a> via <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#rs-cancel" id="ref-for-rs-cancel">stream.cancel()</a></code>, which are not surfaced as errors.  It will be written to from the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop③">event loop</a>, but sometimes read from <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②①">in parallel</a>. </p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-set-up" id="ref-for-readablestream-set-up">Set up</a> <var>stream</var> with <i><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-set-up-cancelalgorithm" id="ref-for-readablestream-set-up-cancelalgorithm">cancelAlgorithm</a></i> set to the following steps (ignoring the <var>reason</var> argument):</p>
      <ol>
       <li data-md>
        <p>Set <var>canceledDuringOperation</var> to true.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②②">In parallel</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>chunkProduced</var> be the following steps given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑤">string</a> <var>chunk</var>:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task⑧">Queue a global task</a> on the <a data-link-type="dfn" href="#ai-task-source" id="ref-for-ai-task-source⑧">AI task source</a> given <var>global</var> to perform the following steps:</p>
          <ol>
           <li data-md>
            <p>If <var>abortedDuringOperation</var> is true, then <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-error" id="ref-for-readablestream-error">error</a> <var>stream</var> with <var>compositeSignal</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason⑨">abort reason</a>.</p>
           <li data-md>
            <p>Otherwise, <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-enqueue" id="ref-for-readablestream-enqueue">enqueue</a> <var>chunk</var> into <var>stream</var>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Let <var>done</var> be the following steps:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task⑨">Queue a global task</a> on the <a data-link-type="dfn" href="#ai-task-source" id="ref-for-ai-task-source⑨">AI task source</a> given <var>global</var> to perform the following steps:</p>
          <ol>
           <li data-md>
            <p>If <var>abortedDuringOperation</var> is true, then <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-error" id="ref-for-readablestream-error①">error</a> <var>stream</var> with <var>compositeSignal</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason①⓪">abort reason</a>.</p>
           <li data-md>
            <p>Otherwise, <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-close" id="ref-for-readablestream-close">close</a> <var>stream</var>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Let <var>error</var> be the following steps given <a data-link-type="dfn" href="#error-information" id="ref-for-error-information⑧">error information</a> <var>errorInfo</var>:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task①⓪">Queue a global task</a> on the <a data-link-type="dfn" href="#ai-task-source" id="ref-for-ai-task-source①⓪">AI task source</a> given <var>global</var> to perform the following steps:</p>
          <ol>
           <li data-md>
            <p>If <var>abortedDuringOperation</var> is true, then <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-error" id="ref-for-readablestream-error②">error</a> <var>stream</var> with <var>compositeSignal</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason①①">abort reason</a>.</p>
           <li data-md>
            <p>Otherwise, <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-error" id="ref-for-readablestream-error③">error</a> <var>stream</var> with the result of <a data-link-type="dfn" href="#convert-error-information-into-an-exception-object" id="ref-for-convert-error-information-into-an-exception-object②">converting error information into an exception object</a> given <var>errorInfo</var>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Let <var>stopProducing</var> be the following steps:</p>
        <ol>
         <li data-md>
          <p>If either <var>abortedDuringOperation</var> or <var>canceledDuringOperation</var> are true, then return true.</p>
         <li data-md>
          <p>Return false.</p>
        </ol>
       <li data-md>
        <p>Perform <var>operation</var> given <var>chunkProduced</var>, <var>done</var>, <var>error</var>, and <var>stopProducing</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>stream</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="measure AI model input usage">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="measure-ai-model-input-usage">measure AI model input usage</dfn> given an <code class="idl"><a data-link-type="idl" href="#destroyablemodel" id="ref-for-destroyablemodel⑨">DestroyableModel</a></code> <var>modelObject</var>, an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑨">ordered map</a> <var>options</var>, and an algorithm <var>measure</var>: 
    <ol>
     <li data-md>
      <p>If <var>modelObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global④">relevant global object</a> is a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window③">Window</a></code> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window③">associated Document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active③">fully active</a>, then return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with⑧">a promise rejected with</a> an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror③">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①③">DOMException</a></code>.</p>
     <li data-md>
      <p>Let <var>signals</var> be « <var>modelObject</var>’s <a data-link-type="dfn" href="#destroyablemodel-destruction-abort-controller" id="ref-for-destroyablemodel-destruction-abort-controller⑤">destruction abort controller</a>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal" id="ref-for-abortcontroller-signal③">signal</a> ».</p>
     <li data-md>
      <p>If <var>options</var>["<code>signal</code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑦">exists</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append②">append</a> it to <var>signals</var>.</p>
     <li data-md>
      <p>Let <var>compositeSignal</var> be the result of <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#create-a-dependent-abort-signal" id="ref-for-create-a-dependent-abort-signal③">creating a dependent abort signal</a> given <var>signals</var> using <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortsignal" id="ref-for-abortsignal①②">AbortSignal</a></code> and <var>modelObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm⑥">relevant realm</a>.</p>
     <li data-md>
      <p>If <var>compositeSignal</var> is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-aborted" id="ref-for-abortsignal-aborted⑥">aborted</a>, then return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with⑨">a promise rejected with</a> <var>compositeSignal</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason①②">abort reason</a>.</p>
     <li data-md>
      <p>Let <var>abortedDuringMeasurement</var> be false.</p>
      <p class="note" role="note">This variable will be written to from the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop④">event loop</a>, but read from <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②③">in parallel</a>. </p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-add" id="ref-for-abortsignal-add④">Add the following abort steps</a> to <var>compositeSignal</var>:</p>
      <ol>
       <li data-md>
        <p>Set <var>abortedDuringMeasurement</var> to true.</p>
      </ol>
     <li data-md>
      <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise②">a new promise</a> created in <var>modelObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm⑦">relevant realm</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②④">In parallel</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>stopMeasuring</var> be the following steps:</p>
        <ol>
         <li data-md>
          <p>Return <var>abortedDuringMeasurement</var>.</p>
        </ol>
       <li data-md>
        <p>Let <var>result</var> be the result of performing <var>measure</var> given <var>stopMeasuring</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task①①">Queue a global task</a> on the <a data-link-type="dfn" href="#ai-task-source" id="ref-for-ai-task-source①①">AI task source</a> given <var>modelObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑤">relevant global object</a> to perform the following steps:</p>
        <ol>
         <li data-md>
          <p>If <var>abortedDuringMeasurement</var> is true, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①①">reject</a> <var>promise</var> with <var>compositeSignal</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortsignal-abort-reason" id="ref-for-abortsignal-abort-reason①③">abort reason</a>.</p>
         <li data-md>
          <p>Otherwise, if <var>result</var> is an <a data-link-type="dfn" href="#error-information" id="ref-for-error-information⑨">error information</a>, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①②">reject</a> <var>promise</var> with the result <a data-link-type="dfn" href="#convert-error-information-into-an-exception-object" id="ref-for-convert-error-information-into-an-exception-object③">converting error information into an exception object</a> given <var>result</var>.</p>
         <li data-md>
          <p>Otherwise,</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②⑧">Assert</a>: <var>result</var> is a number. (It is not null, since in that case <var>abortedDuringMeasurement</var> would have been true.)</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve②">Resolve</a> <var>promise</var> with <var>result</var>.</p>
          </ol>
        </ol>
      </ol>
     <li data-md>
      <p>Return <var>promise</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="6.3" id="supporting-language-tags"><span class="secno">6.3. </span><span class="content">Language tags</span><a class="self-link" href="#supporting-language-tags"></a></h3>
   <div class="algorithm" data-algorithm="validate and canonicalize language tags">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="validate-and-canonicalize-language-tags">validate and canonicalize language tags</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⓪">ordered map</a> <var>options</var> and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑥">string</a> <var>key</var>, perform the following steps. They mutate <var>options</var> in place to canonicalize and deduplicate language tags found in <var>options</var>[<var>key</var>], and throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code> if any are invalid. 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②⑨">Assert</a>: <var>options</var>[<var>key</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑧">exists</a>.</p>
     <li data-md>
      <p>If <var>options</var>[<var>key</var>] is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑦">string</a>, then set <var>options</var>[<var>key</var>] to the result of <a data-link-type="dfn" href="#validate-and-canonicalize-a-single-language-tag" id="ref-for-validate-and-canonicalize-a-single-language-tag">validating and canonicalizing a single language tag</a> given <var>options</var>[<var>key</var>].</p>
     <li data-md>
      <p>Otherwise:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert③⓪">Assert</a>: <var>options</var>[<var>key</var>] either does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑨">exist</a>, or it is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑧">strings</a>.</p>
       <li data-md>
        <p>Let <var>languageTags</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set">ordered set</a>.</p>
       <li data-md>
        <p>If <var>options</var>[<var>key</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⓪">exists</a>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate">for each</a> <var>languageTag</var> of <var>options</var>[<var>key</var>]:</p>
        <ol>
         <li data-md>
          <p>If <a data-link-type="abstract-op" href="https://tc39.es/ecma402/#sec-isstructurallyvalidlanguagetag" id="ref-for-sec-isstructurallyvalidlanguagetag">IsStructurallyValidLanguageTag</a>(<var>languageTag</var>) is false, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append③">Append</a> the result of <a data-link-type="dfn" href="#validate-and-canonicalize-a-single-language-tag" id="ref-for-validate-and-canonicalize-a-single-language-tag①">validating and canonicalizing a single language tag</a> to <var>languageTags</var>.</p>
        </ol>
       <li data-md>
        <p>Set <var>options</var>[<var>key</var>] to <var>languageTags</var>.</p>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="validate and canonicalize a single language tag">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="validate and canonicalize a single language tag|validating and canonicalizing a single language tag" data-noexport id="validate-and-canonicalize-a-single-language-tag">validate and canonicalize a single language tag</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⑨">string</a> <var>potentialLanguageTag</var>: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="abstract-op" href="https://tc39.es/ecma402/#sec-isstructurallyvalidlanguagetag" id="ref-for-sec-isstructurallyvalidlanguagetag①">IsStructurallyValidLanguageTag</a>(<var>potentialLanguageTag</var>) is false, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror④">TypeError</a></code>.</p>
     <li data-md>
      <p>Return <a data-link-type="abstract-op" href="https://tc39.es/ecma402/#sec-canonicalizeunicodelocaleid" id="ref-for-sec-canonicalizeunicodelocaleid">CanonicalizeUnicodeLocaleId</a>(<var>potentialLanguageTag</var>).</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="language tag set completeness rules">
     A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①">set</a> of <a data-link-type="dfn" href="https://tc39.es/ecma402/#sec-language-tags" id="ref-for-sec-language-tags">Unicode canonicalized locale identifiers</a> <var>languageTags</var> meets the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="language-tag-set-completeness-rules">language tag set completeness rules</dfn> if for every <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item">item</a> <var>languageTag</var> of <var>languageTags</var>, if <var>languageTag</var> has more than one subtag, then <var>languageTags</var> must also contain a less narrow language tag with the same language subtag and a strict subset of the same following subtags (i.e., omitting one or more). 
    <p class="note" role="note">This definition is intended to align with that of <a data-link-type="dfn" href="https://tc39.es/ecma402/#sec-internal-slots" id="ref-for-sec-internal-slots">[[AvailableLocales]]</a> in <cite>ECMAScript Internationalization API Specification</cite>. <a data-link-type="biblio" href="#biblio-ecma-402" title="ECMAScript Internationalization API Specification">[ECMA-402]</a> </p>
    <div class="example" id="example-subtags-intro">
     <a class="self-link" href="#example-subtags-intro"></a> This means that if an implementation supports summarization of "<code>de-DE</code>" input text, it will also count as supporting "<code>de</code>" input text. 
     <p>The converse direction is supported not by the <a data-link-type="dfn" href="#language-tag-set-completeness-rules" id="ref-for-language-tag-set-completeness-rules①">language tag set completeness rules</a>, but instead by the use of <a data-link-type="abstract-op" href="https://tc39.es/ecma402/#sec-lookupmatchinglocalebybestfit" id="ref-for-sec-lookupmatchinglocalebybestfit①">LookupMatchingLocaleByBestFit</a>, which ensures that if an implementation supports summarizing "<code>de</code>" input text, it also counts as supporting summarization of "<code>de-CH</code>", "<code>de-Latn-CH</code>", etc.</p>
    </div>
   </div>
   <h3 class="heading settled" data-level="6.4" id="supporting-availability"><span class="secno">6.4. </span><span class="content">Availability</span><a class="self-link" href="#supporting-availability"></a></h3>
   <div class="algorithm" data-algorithm="compute AI model availability">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="compute-ai-model-availability">compute AI model availability</dfn> given <var>options</var>, a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature③">policy-controlled feature</a> <var>permissionsPolicyFeature</var>, an algorithm <var>validate</var>, and an algorithm <var>compute</var>: 
    <ol>
     <li data-md>
      <p>Let <var>global</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object" id="ref-for-current-global-object">current global object</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert③①">Assert</a>: <var>global</var> is a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window④">Window</a></code> object.</p>
     <li data-md>
      <p>Let <var>document</var> be <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window④">associated Document</a>.</p>
     <li data-md>
      <p>If <var>document</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active④">fully active</a>, then return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with①⓪">a promise rejected with</a> an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror④">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①④">DOMException</a></code>.</p>
     <li data-md>
      <p>Perform <var>validate</var> given <var>options</var>.</p>
     <li data-md>
      <p>If <var>document</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use①">allowed to use</a> <var>permissionsPolicyFeature</var>, then return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with" id="ref-for-a-promise-resolved-with">a promise resolved with</a> "<code class="idl"><a data-link-type="idl" href="#dom-availability-unavailable" id="ref-for-dom-availability-unavailable③">unavailable</a></code>".</p>
     <li data-md>
      <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise③">a new promise</a> created in <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm" id="ref-for-concept-global-object-realm">realm</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②⑤">In parallel</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>availability</var> be the result of <var>compute</var> given <var>options</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task①②">Queue a global task</a> on the <a data-link-type="dfn" href="#ai-task-source" id="ref-for-ai-task-source①②">AI task source</a> given <var>global</var> to perform the following steps:</p>
        <ol>
         <li data-md>
          <p>If <var>availability</var> is null, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①③">reject</a> <var>promise</var> with an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#unknownerror" id="ref-for-unknownerror③">UnknownError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑤">DOMException</a></code>.</p>
         <li data-md>
          <p>Otherwise, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve③">resolve</a> <var>promise</var> with <var>availability</var>.</p>
        </ol>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="minimum availability" data-algorithm-for="Availability">
     The <dfn class="dfn-paneled" data-dfn-for="Availability" data-dfn-type="dfn" data-export id="availability-minimum-availability">minimum availability</dfn> given a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">list</a> of <code class="idl"><a data-link-type="idl" href="#enumdef-availability" id="ref-for-enumdef-availability⑧">Availability</a></code>-or-null values <var>availabilities</var> is: 
    <ol>
     <li data-md>
      <p>If <var>availabilities</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain">contains</a> null, then return null.</p>
     <li data-md>
      <p>If <var>availabilities</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain①">contains</a> "<code class="idl"><a data-link-type="idl" href="#dom-availability-unavailable" id="ref-for-dom-availability-unavailable④">unavailable</a></code>", then return "<code class="idl"><a data-link-type="idl" href="#dom-availability-unavailable" id="ref-for-dom-availability-unavailable⑤">unavailable</a></code>".</p>
     <li data-md>
      <p>If <var>availabilities</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain②">contains</a> "<code class="idl"><a data-link-type="idl" href="#dom-availability-downloading" id="ref-for-dom-availability-downloading①">downloading</a></code>", then return "<code class="idl"><a data-link-type="idl" href="#dom-availability-downloading" id="ref-for-dom-availability-downloading②">downloading</a></code>".</p>
     <li data-md>
      <p>If <var>availabilities</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain③">contains</a> "<code class="idl"><a data-link-type="idl" href="#dom-availability-downloadable" id="ref-for-dom-availability-downloadable⑦">downloadable</a></code>", then return "<code class="idl"><a data-link-type="idl" href="#dom-availability-downloadable" id="ref-for-dom-availability-downloadable⑧">downloadable</a></code>".</p>
     <li data-md>
      <p>Return "<code class="idl"><a data-link-type="idl" href="#dom-availability-available" id="ref-for-dom-availability-available④">available</a></code>".</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="6.5" id="supporting-language-availability"><span class="secno">6.5. </span><span class="content">Language availability</span><a class="self-link" href="#supporting-language-availability"></a></h3>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="language-availabilities-partition">language availabilities partition</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①①">map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys">keys</a> are "<code class="idl"><a data-link-type="idl" href="#dom-availability-downloading" id="ref-for-dom-availability-downloading③">downloading</a></code>", "<code class="idl"><a data-link-type="idl" href="#dom-availability-downloadable" id="ref-for-dom-availability-downloadable⑨">downloadable</a></code>", or "<code class="idl"><a data-link-type="idl" href="#dom-availability-available" id="ref-for-dom-availability-available⑤">available</a></code>", and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values">values</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②">sets</a> of strings representing <a data-link-type="dfn" href="https://tc39.es/ecma402/#sec-language-tags" id="ref-for-sec-language-tags①">Unicode canonicalized locale identifiers</a>. <a data-link-type="biblio" href="#biblio-ecma-402" title="ECMAScript Internationalization API Specification">[ECMA-402]</a></p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="language-availabilities-triple">language availabilities triple</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item">items</a>:</p>
   <ul>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="language availabilities triple" data-dfn-type="dfn" data-noexport id="language-availabilities-triple-input-languages">input languages</dfn>, a <a data-link-type="dfn" href="#language-availabilities-partition" id="ref-for-language-availabilities-partition">language availabilities partition</a></p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="language availabilities triple" data-dfn-type="dfn" data-noexport id="language-availabilities-triple-context-languages">context languages</dfn>, a <a data-link-type="dfn" href="#language-availabilities-partition" id="ref-for-language-availabilities-partition①">language availabilities partition</a></p>
    <li data-md>
     <p><dfn class="dfn-paneled" data-dfn-for="language availabilities triple" data-dfn-type="dfn" data-noexport id="language-availabilities-triple-output-languages">output languages</dfn>, a <a data-link-type="dfn" href="#language-availabilities-partition" id="ref-for-language-availabilities-partition②">language availabilities partition</a></p>
   </ul>
   <div class="algorithm" data-algorithm="get the language availabilities partition">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="get-the-language-availabilities-partition">get the language availabilities partition</dfn> given a description <var>purpose</var> of the purpose for which we’re checking language availability: 
    <ol>
     <li data-md>
      <p>Let <var>partition</var> be «[ "<code class="idl"><a data-link-type="idl" href="#dom-availability-available" id="ref-for-dom-availability-available⑥">available</a></code>" → an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set③">set</a>, "<code class="idl"><a data-link-type="idl" href="#dom-availability-downloading" id="ref-for-dom-availability-downloading④">downloading</a></code>" → an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set④">set</a>, "<code class="idl"><a data-link-type="idl" href="#dom-availability-downloadable" id="ref-for-dom-availability-downloadable①⓪">downloadable</a></code>" → an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑤">set</a> ]».</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①">For each</a> human language <var>languageTag</var>, represented as a <a data-link-type="dfn" href="https://tc39.es/ecma402/#sec-language-tags" id="ref-for-sec-language-tags②">Unicode canonicalized locale identifier</a>, for which the user agent supports <var>purpose</var>, without performing any downloading operations:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append④">Append</a> <var>languageTag</var> to <var>partition</var>["<code class="idl"><a data-link-type="idl" href="#dom-availability-available" id="ref-for-dom-availability-available⑦">available</a></code>"].</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②">For each</a> human language <var>languageTag</var>, represented as a <a data-link-type="dfn" href="https://tc39.es/ecma402/#sec-language-tags" id="ref-for-sec-language-tags③">Unicode canonicalized locale identifier</a>, for which the user agent is currently downloading material (e.g., an AI model or fine-tuning) to support <var>purpose</var>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append⑤">Append</a> <var>languageTag</var> to <var>partition</var>["<code class="idl"><a data-link-type="idl" href="#dom-availability-downloading" id="ref-for-dom-availability-downloading⑤">downloading</a></code>"].</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③">For each</a> human language <var>languageTag</var>, represented as a <a data-link-type="dfn" href="https://tc39.es/ecma402/#sec-language-tags" id="ref-for-sec-language-tags④">Unicode canonicalized locale identifier</a>, for which the user agent believes it can support <var>purpose</var>, but only after performing a not-currently-ongoing download (e.g., of an AI model or fine-tuning):</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append⑥">Append</a> <var>languageTag</var> to <var>partition</var>["<code class="idl"><a data-link-type="idl" href="#dom-availability-downloadable" id="ref-for-dom-availability-downloadable①①">downloadable</a></code>"].</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert③②">Assert</a>: <var>partition</var>["<code class="idl"><a data-link-type="idl" href="#dom-availability-available" id="ref-for-dom-availability-available⑧">available</a></code>"], <var>partition</var>["<code class="idl"><a data-link-type="idl" href="#dom-availability-downloading" id="ref-for-dom-availability-downloading⑥">downloading</a></code>"], and <var>partition</var>["<code class="idl"><a data-link-type="idl" href="#dom-availability-downloadable" id="ref-for-dom-availability-downloadable①②">downloadable</a></code>"] are disjoint.</p>
     <li data-md>
      <p>If the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-union" id="ref-for-set-union">union</a> of <var>partition</var>["<code class="idl"><a data-link-type="idl" href="#dom-availability-available" id="ref-for-dom-availability-available⑨">available</a></code>"], <var>partition</var>["<code class="idl"><a data-link-type="idl" href="#dom-availability-downloading" id="ref-for-dom-availability-downloading⑦">downloading</a></code>"], and <var>partition</var>["<code class="idl"><a data-link-type="idl" href="#dom-availability-downloadable" id="ref-for-dom-availability-downloadable①③">downloadable</a></code>"] does not meet the <a data-link-type="dfn" href="#language-tag-set-completeness-rules" id="ref-for-language-tag-set-completeness-rules②">language tag set completeness rules</a>, then:</p>
      <ol>
       <li data-md>
        <p>Let <var>missingLanguageTags</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑥">set</a> of missing language tags necessary for that union to meet the <a data-link-type="dfn" href="#language-tag-set-completeness-rules" id="ref-for-language-tag-set-completeness-rules③">language tag set completeness rules</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④">For each</a> <var>languageTag</var> of <var>missingLanguageTags</var>:</p>
        <ol>
         <li data-md>
          <p><span id="language-tag-completeness-implementation-defined"></span> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append⑦">Append</a> <var>languageTag</var> to one of the three sets. Which of the sets to append to is <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①⑥">implementation-defined</a>, and should be guided by considerations similar to that of <a data-link-type="abstract-op" href="https://tc39.es/ecma402/#sec-lookupmatchinglocalebybestfit" id="ref-for-sec-lookupmatchinglocalebybestfit②">LookupMatchingLocaleByBestFit</a> in terms of keeping "best fallback languages" together.</p>
        </ol>
       <li data-md>
        <p>Return <var>partition</var>.</p>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="compute language availability">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="compute-language-availability">compute language availability</dfn> given an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑦">ordered set</a> of strings <var>requestedLanguages</var> and a <a data-link-type="dfn" href="#language-availabilities-partition" id="ref-for-language-availabilities-partition③">language availabilities partition</a> <var>partition</var>, perform the following steps. They return an <code class="idl"><a data-link-type="idl" href="#enumdef-availability" id="ref-for-enumdef-availability⑨">Availability</a></code> value, and they mutate <var>requestedLanguages</var> in place to update language tags to their best-fit matches. 
    <ol>
     <li data-md>
      <p>Let <var>availability</var> be "<code class="idl"><a data-link-type="idl" href="#dom-availability-available" id="ref-for-dom-availability-available①⓪">available</a></code>".</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑤">For each</a> <var>language</var> of <var>requestedLanguages</var>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑥">For each</a> <var>availabilityToCheck</var> of « "<code class="idl"><a data-link-type="idl" href="#dom-availability-available" id="ref-for-dom-availability-available①①">available</a></code>", "<code class="idl"><a data-link-type="idl" href="#dom-availability-downloading" id="ref-for-dom-availability-downloading⑧">downloading</a></code>", "<code class="idl"><a data-link-type="idl" href="#dom-availability-downloadable" id="ref-for-dom-availability-downloadable①④">downloadable</a></code>" »:</p>
        <ol>
         <li data-md>
          <p>Let <var>languagesWithThisAvailability</var> be <var>partition</var>[<var>availabilityToCheck</var>].</p>
         <li data-md>
          <p>Let <var>bestMatch</var> be <a data-link-type="abstract-op" href="https://tc39.es/ecma402/#sec-lookupmatchinglocalebybestfit" id="ref-for-sec-lookupmatchinglocalebybestfit③">LookupMatchingLocaleByBestFit</a>(<var>languagesWithThisAvailability</var>, « <var>language</var> »).</p>
         <li data-md>
          <p>If <var>bestMatch</var> is not undefined, then:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-replace" id="ref-for-list-replace">Replace</a> <var>language</var> with <var>bestMatch</var>.[[locale]] in <var>requestedLanguages</var>.</p>
           <li data-md>
            <p>Set <var>availability</var> to the <a data-link-type="dfn" href="#availability-minimum-availability" id="ref-for-availability-minimum-availability②">minimum availability</a> given <var>availability</var> and <var>availabilityToCheck</var>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break⑦">Break</a>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Return "<code class="idl"><a data-link-type="idl" href="#dom-availability-unavailable" id="ref-for-dom-availability-unavailable⑥">unavailable</a></code>".</p>
      </ol>
     <li data-md>
      <p>Return <var>availability</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="6.6" id="supporting-errors"><span class="secno">6.6. </span><span class="content">Errors</span><a class="self-link" href="#supporting-errors"></a></h3>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="error-information">error information</dfn> is used to communicate error information from <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②⑥">in parallel</a> to the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop⑤">event loop</a>. It is either a <a data-link-type="dfn" href="#quota-exceeded-error-information" id="ref-for-quota-exceeded-error-information④">quota exceeded error information</a> or a <a data-link-type="dfn" href="#domexception-error-information" id="ref-for-domexception-error-information⑥">DOMException error information</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="domexception-error-information">DOMException error information</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="DOMException error information" data-dfn-type="dfn" data-export id="domexception-error-information-name">name</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③⓪">string</a> that will be used for the <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑥">DOMException</a></code>’s <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#domexception-name" id="ref-for-domexception-name④">name</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="DOMException error information" data-dfn-type="dfn" data-export id="domexception-error-information-details">details</dfn>
    <dd data-md>
     <p>other information necessary to create a useful <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑦">DOMException</a></code> for the web developer. (Typically, just an exception message.)</p>
   </dl>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="quota-exceeded-error-information">quota exceeded error information</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="quota exceeded error information" data-dfn-type="dfn" data-export id="quota-exceeded-error-information-requested">requested</dfn>
    <dd data-md>
     <p>a number that will be used for the <code class="idl"><a data-link-type="idl" href="https://whatpr.org/webidl/1465.html#quotaexceedederror" id="ref-for-quotaexceedederror">QuotaExceededError</a></code>’s <a data-link-type="dfn" href="https://whatpr.org/webidl/1465.html#quotaexceedederror-requested" id="ref-for-quotaexceedederror-requested②">requested</a>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="quota exceeded error information" data-dfn-type="dfn" data-export id="quota-exceeded-error-information-quota">quota</dfn>
    <dd data-md>
     <p>a number that will be used for the <code class="idl"><a data-link-type="idl" href="https://whatpr.org/webidl/1465.html#quotaexceedederror" id="ref-for-quotaexceedederror①">QuotaExceededError</a></code>’s <a data-link-type="dfn" href="https://whatpr.org/webidl/1465.html#quotaexceedederror-quota" id="ref-for-quotaexceedederror-quota②">quota</a>.</p>
   </dl>
   <p class="advisement">The parts of this specification related to quota exceeded errors assume that <a href="https://github.com/whatwg/webidl/pull/1465">whatwg/webidl#1465</a> will be merged. </p>
   <div class="algorithm" data-algorithm="convert error information into an exception object">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="convert-error-information-into-an-exception-object">convert error information into an exception object</dfn>, given an <a data-link-type="dfn" href="#error-information" id="ref-for-error-information①⓪">error information</a> <var>errorInfo</var>: 
    <ol>
     <li data-md>
      <p>If <var>errorInfo</var> is a <a data-link-type="dfn" href="#domexception-error-information" id="ref-for-domexception-error-information⑦">DOMException error information</a>, then return a new <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑧">DOMException</a></code> with name given by <var>errorInfo</var>’s <a data-link-type="dfn" href="#domexception-error-information-name" id="ref-for-domexception-error-information-name②">name</a>, using <var>errorInfo</var>’s <a data-link-type="dfn" href="#domexception-error-information-details" id="ref-for-domexception-error-information-details②">details</a> to populate the message appropriately.</p>
     <li data-md>
      <p>Otherwise:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert③③">Assert</a>: <var>error</var> is a <a data-link-type="dfn" href="#quota-exceeded-error-information" id="ref-for-quota-exceeded-error-information⑤">quota exceeded error information</a>.</p>
       <li data-md>
        <p>Return a new <code class="idl"><a data-link-type="idl" href="https://whatpr.org/webidl/1465.html#quotaexceedederror" id="ref-for-quotaexceedederror②">QuotaExceededError</a></code> whose <a data-link-type="dfn" href="https://whatpr.org/webidl/1465.html#quotaexceedederror-requested" id="ref-for-quotaexceedederror-requested③">requested</a> is <var>error</var>’s <a data-link-type="dfn" href="#quota-exceeded-error-information-requested" id="ref-for-quota-exceeded-error-information-requested②">requested</a> and <a data-link-type="dfn" href="https://whatpr.org/webidl/1465.html#quotaexceedederror-quota" id="ref-for-quotaexceedederror-quota③">quota</a> is <var>error</var>’s <a data-link-type="dfn" href="#quota-exceeded-error-information-quota" id="ref-for-quota-exceeded-error-information-quota②">quota</a>.</p>
      </ol>
    </ol>
   </div>
   <h3 class="heading settled" data-level="6.7" id="supporting-task-source"><span class="secno">6.7. </span><span class="content">Task source</span><a class="self-link" href="#supporting-task-source"></a></h3>
   <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task①">Tasks</a> queued by this specification use the <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="ai-task-source">AI task source</dfn>.</p>
  </main>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#ai-task-source">AI task source</a><span>, in § 6.7</span>
   <li>
    "as-is"
    <ul>
     <li><a href="#dom-rewriterformat-as-is">enum-value for RewriterFormat</a><span>, in § 5</span>
     <li><a href="#dom-rewriterlength-as-is">enum-value for RewriterLength</a><span>, in § 5</span>
     <li><a href="#dom-rewritertone-as-is">enum-value for RewriterTone</a><span>, in § 5</span>
    </ul>
   <li><a href="#enumdef-availability">Availability</a><span>, in § 2</span>
   <li>
    availability()
    <ul>
     <li><a href="#dom-rewriter-availability">method for Rewriter</a><span>, in § 5</span>
     <li><a href="#dom-summarizer-availability">method for Summarizer</a><span>, in § 3.2</span>
     <li><a href="#dom-writer-availability">method for Writer</a><span>, in § 4.2</span>
    </ul>
   <li>
    availability(options)
    <ul>
     <li><a href="#dom-rewriter-availability">method for Rewriter</a><span>, in § 5</span>
     <li><a href="#dom-summarizer-availability">method for Summarizer</a><span>, in § 3.2</span>
     <li><a href="#dom-writer-availability">method for Writer</a><span>, in § 4.2</span>
    </ul>
   <li><a href="#dom-availability-available">"available"</a><span>, in § 2</span>
   <li><a href="#dom-writertone-casual">"casual"</a><span>, in § 4.4.3</span>
   <li><a href="#dom-writertone-casual">casual</a><span>, in § 4.4.3</span>
   <li><a href="#compute-ai-model-availability">compute AI model availability</a><span>, in § 6.4</span>
   <li><a href="#compute-language-availability">compute language availability</a><span>, in § 6.5</span>
   <li><a href="#compute-summarizer-options-availability">compute summarizer options availability</a><span>, in § 3.2</span>
   <li><a href="#compute-writer-options-availability">compute writer options availability</a><span>, in § 4.2</span>
   <li>
    context
    <ul>
     <li><a href="#dom-rewriterrewriteoptions-context">dict-member for RewriterRewriteOptions</a><span>, in § 5</span>
     <li><a href="#dom-summarizersummarizeoptions-context">dict-member for SummarizerSummarizeOptions</a><span>, in § 3</span>
     <li><a href="#dom-writerwriteoptions-context">dict-member for WriterWriteOptions</a><span>, in § 4</span>
    </ul>
   <li><a href="#language-availabilities-triple-context-languages">context languages</a><span>, in § 6.5</span>
   <li><a href="#convert-error-information-into-an-exception-object">convert error information into an exception object</a><span>, in § 6.6</span>
   <li>
    create()
    <ul>
     <li><a href="#dom-rewriter-create">method for Rewriter</a><span>, in § 5</span>
     <li><a href="#dom-summarizer-create">method for Summarizer</a><span>, in § 3.1</span>
     <li><a href="#dom-writer-create">method for Writer</a><span>, in § 4.1</span>
    </ul>
   <li><a href="#create-an-ai-model-object">create an AI model object</a><span>, in § 6.1</span>
   <li><a href="#create-a-summarizer-object">create a summarizer object</a><span>, in § 3.1</span>
   <li><a href="#create-a-writer-object">create a writer object</a><span>, in § 4.1</span>
   <li><a href="#createmonitor">CreateMonitor</a><span>, in § 2</span>
   <li><a href="#callbackdef-createmonitorcallback">CreateMonitorCallback</a><span>, in § 2</span>
   <li>
    create(options)
    <ul>
     <li><a href="#dom-rewriter-create">method for Rewriter</a><span>, in § 5</span>
     <li><a href="#dom-summarizer-create">method for Summarizer</a><span>, in § 3.1</span>
     <li><a href="#dom-writer-create">method for Writer</a><span>, in § 4.1</span>
    </ul>
   <li><a href="#destroyablemodel-destroy">destroy</a><span>, in § 2</span>
   <li><a href="#dom-destroyablemodel-destroy">destroy()</a><span>, in § 2</span>
   <li><a href="#destroyablemodel">DestroyableModel</a><span>, in § 2</span>
   <li><a href="#destroyablemodel-destruction-abort-controller">destruction abort controller</a><span>, in § 2</span>
   <li><a href="#domexception-error-information-details">details</a><span>, in § 6.6</span>
   <li><a href="#domexception-error-information">DOMException error information</a><span>, in § 6.6</span>
   <li><a href="#dom-availability-downloadable">"downloadable"</a><span>, in § 2</span>
   <li><a href="#dom-availability-downloading">"downloading"</a><span>, in § 2</span>
   <li><a href="#eventdef-createmonitor-downloadprogress">downloadprogress</a><span>, in § 2</span>
   <li><a href="#download-the-summarizer-model">download the summarizer model</a><span>, in § 3.1</span>
   <li><a href="#download-the-writer-model">download the writer model</a><span>, in § 4.1</span>
   <li><a href="#error-information">error information</a><span>, in § 6.6</span>
   <li>
    expected context languages
    <ul>
     <li><a href="#summarizer-expected-context-languages">dfn for Summarizer</a><span>, in § 3.3</span>
     <li><a href="#writer-expected-context-languages">dfn for Writer</a><span>, in § 4.3</span>
    </ul>
   <li>
    expectedContextLanguages
    <ul>
     <li><a href="#dom-rewriter-expectedcontextlanguages">attribute for Rewriter</a><span>, in § 5</span>
     <li><a href="#dom-summarizer-expectedcontextlanguages">attribute for Summarizer</a><span>, in § 3.3</span>
     <li><a href="#dom-writer-expectedcontextlanguages">attribute for Writer</a><span>, in § 4.3</span>
     <li><a href="#dom-rewritercreatecoreoptions-expectedcontextlanguages">dict-member for RewriterCreateCoreOptions</a><span>, in § 5</span>
     <li><a href="#dom-summarizercreatecoreoptions-expectedcontextlanguages">dict-member for SummarizerCreateCoreOptions</a><span>, in § 3</span>
     <li><a href="#dom-writercreatecoreoptions-expectedcontextlanguages">dict-member for WriterCreateCoreOptions</a><span>, in § 4</span>
    </ul>
   <li>
    expected input languages
    <ul>
     <li><a href="#summarizer-expected-input-languages">dfn for Summarizer</a><span>, in § 3.3</span>
     <li><a href="#writer-expected-input-languages">dfn for Writer</a><span>, in § 4.3</span>
    </ul>
   <li>
    expectedInputLanguages
    <ul>
     <li><a href="#dom-rewriter-expectedinputlanguages">attribute for Rewriter</a><span>, in § 5</span>
     <li><a href="#dom-summarizer-expectedinputlanguages">attribute for Summarizer</a><span>, in § 3.3</span>
     <li><a href="#dom-writer-expectedinputlanguages">attribute for Writer</a><span>, in § 4.3</span>
     <li><a href="#dom-rewritercreatecoreoptions-expectedinputlanguages">dict-member for RewriterCreateCoreOptions</a><span>, in § 5</span>
     <li><a href="#dom-summarizercreatecoreoptions-expectedinputlanguages">dict-member for SummarizerCreateCoreOptions</a><span>, in § 3</span>
     <li><a href="#dom-writercreatecoreoptions-expectedinputlanguages">dict-member for WriterCreateCoreOptions</a><span>, in § 4</span>
    </ul>
   <li><a href="#dom-writertone-formal">"formal"</a><span>, in § 4.4.3</span>
   <li><a href="#dom-writertone-formal">formal</a><span>, in § 4.4.3</span>
   <li>
    format
    <ul>
     <li><a href="#dom-rewriter-format">attribute for Rewriter</a><span>, in § 5</span>
     <li><a href="#dom-summarizer-format">attribute for Summarizer</a><span>, in § 3.3</span>
     <li><a href="#dom-writer-format">attribute for Writer</a><span>, in § 4.3</span>
     <li><a href="#writer-format">dfn for Writer</a><span>, in § 4.3</span>
     <li><a href="#dom-rewritercreatecoreoptions-format">dict-member for RewriterCreateCoreOptions</a><span>, in § 5</span>
     <li><a href="#dom-summarizercreatecoreoptions-format">dict-member for SummarizerCreateCoreOptions</a><span>, in § 3</span>
     <li><a href="#dom-writercreatecoreoptions-format">dict-member for WriterCreateCoreOptions</a><span>, in § 4</span>
    </ul>
   <li><a href="#get-an-aggregated-ai-model-result">get an aggregated AI model result</a><span>, in § 6.2</span>
   <li><a href="#get-a-streaming-ai-model-result">get a streaming AI model result</a><span>, in § 6.2</span>
   <li><a href="#get-the-language-availabilities-partition">get the language availabilities partition</a><span>, in § 6.5</span>
   <li><a href="#dom-summarizertype-headline">"headline"</a><span>, in § 3.4.3</span>
   <li><a href="#dom-summarizertype-headline">headline</a><span>, in § 3.4.3</span>
   <li><a href="#initialize-and-return-an-ai-model-object">initialize and return an AI model object</a><span>, in § 6.1</span>
   <li><a href="#initialize-as-a-destroyable">initialize as a destroyable</a><span>, in § 2</span>
   <li><a href="#initialize-the-summarizer-model">initialize the summarizer model</a><span>, in § 3.1</span>
   <li><a href="#initialize-the-writer-model">initialize the writer model</a><span>, in § 4.1</span>
   <li><a href="#language-availabilities-triple-input-languages">input languages</a><span>, in § 6.5</span>
   <li>
    input quota
    <ul>
     <li><a href="#summarizer-input-quota">dfn for Summarizer</a><span>, in § 3.3</span>
     <li><a href="#writer-input-quota">dfn for Writer</a><span>, in § 4.3</span>
    </ul>
   <li>
    inputQuota
    <ul>
     <li><a href="#dom-rewriter-inputquota">attribute for Rewriter</a><span>, in § 5</span>
     <li><a href="#dom-summarizer-inputquota">attribute for Summarizer</a><span>, in § 3.3</span>
     <li><a href="#dom-writer-inputquota">attribute for Writer</a><span>, in § 4.3</span>
    </ul>
   <li><a href="#dom-summarizertype-key-points">"key-points"</a><span>, in § 3.4.3</span>
   <li><a href="#dom-summarizertype-key-points">key-points</a><span>, in § 3.4.3</span>
   <li><a href="#language-availabilities-partition">language availabilities partition</a><span>, in § 6.5</span>
   <li><a href="#language-availabilities-triple">language availabilities triple</a><span>, in § 6.5</span>
   <li><a href="#language-tag-set-completeness-rules">language tag set completeness rules</a><span>, in § 6.3</span>
   <li>
    length
    <ul>
     <li><a href="#dom-rewriter-length">attribute for Rewriter</a><span>, in § 5</span>
     <li><a href="#dom-summarizer-length">attribute for Summarizer</a><span>, in § 3.3</span>
     <li><a href="#dom-writer-length">attribute for Writer</a><span>, in § 4.3</span>
     <li><a href="#writer-length">dfn for Writer</a><span>, in § 4.3</span>
     <li><a href="#dom-rewritercreatecoreoptions-length">dict-member for RewriterCreateCoreOptions</a><span>, in § 5</span>
     <li><a href="#dom-summarizercreatecoreoptions-length">dict-member for SummarizerCreateCoreOptions</a><span>, in § 3</span>
     <li><a href="#dom-writercreatecoreoptions-length">dict-member for WriterCreateCoreOptions</a><span>, in § 4</span>
    </ul>
   <li>
    "long"
    <ul>
     <li><a href="#dom-summarizerlength-long">enum-value for SummarizerLength</a><span>, in § 3.4.3</span>
     <li><a href="#dom-writerlength-long">enum-value for WriterLength</a><span>, in § 4.4.3</span>
    </ul>
   <li>
    long
    <ul>
     <li><a href="#dom-summarizerlength-long">enum-value for SummarizerLength</a><span>, in § 3.4.3</span>
     <li><a href="#dom-writerlength-long">enum-value for WriterLength</a><span>, in § 4.4.3</span>
    </ul>
   <li><a href="#dom-rewriterlength-longer">"longer"</a><span>, in § 5</span>
   <li>
    "markdown"
    <ul>
     <li><a href="#dom-rewriterformat-markdown">enum-value for RewriterFormat</a><span>, in § 5</span>
     <li><a href="#dom-summarizerformat-markdown">enum-value for SummarizerFormat</a><span>, in § 3.4.3</span>
     <li><a href="#dom-writerformat-markdown">enum-value for WriterFormat</a><span>, in § 4.4.3</span>
    </ul>
   <li>
    markdown
    <ul>
     <li><a href="#dom-summarizerformat-markdown">enum-value for SummarizerFormat</a><span>, in § 3.4.3</span>
     <li><a href="#dom-writerformat-markdown">enum-value for WriterFormat</a><span>, in § 4.4.3</span>
    </ul>
   <li><a href="#measure-ai-model-input-usage">measure AI model input usage</a><span>, in § 6.2</span>
   <li>
    measureInputUsage(input)
    <ul>
     <li><a href="#dom-rewriter-measureinputusage">method for Rewriter</a><span>, in § 5</span>
     <li><a href="#dom-summarizer-measureinputusage">method for Summarizer</a><span>, in § 3.3</span>
     <li><a href="#dom-writer-measureinputusage">method for Writer</a><span>, in § 4.3</span>
    </ul>
   <li>
    measureInputUsage(input, options)
    <ul>
     <li><a href="#dom-rewriter-measureinputusage">method for Rewriter</a><span>, in § 5</span>
     <li><a href="#dom-summarizer-measureinputusage">method for Summarizer</a><span>, in § 3.3</span>
     <li><a href="#dom-writer-measureinputusage">method for Writer</a><span>, in § 4.3</span>
    </ul>
   <li><a href="#measure-summarizer-input-usage">measure summarizer input usage</a><span>, in § 3.4.2</span>
   <li><a href="#measure-writer-input-usage">measure writer input usage</a><span>, in § 4.4.2</span>
   <li>
    "medium"
    <ul>
     <li><a href="#dom-summarizerlength-medium">enum-value for SummarizerLength</a><span>, in § 3.4.3</span>
     <li><a href="#dom-writerlength-medium">enum-value for WriterLength</a><span>, in § 4.4.3</span>
    </ul>
   <li>
    medium
    <ul>
     <li><a href="#dom-summarizerlength-medium">enum-value for SummarizerLength</a><span>, in § 3.4.3</span>
     <li><a href="#dom-writerlength-medium">enum-value for WriterLength</a><span>, in § 4.4.3</span>
    </ul>
   <li><a href="#availability-minimum-availability">minimum availability</a><span>, in § 6.4</span>
   <li>
    monitor
    <ul>
     <li><a href="#dom-rewritercreateoptions-monitor">dict-member for RewriterCreateOptions</a><span>, in § 5</span>
     <li><a href="#dom-summarizercreateoptions-monitor">dict-member for SummarizerCreateOptions</a><span>, in § 3</span>
     <li><a href="#dom-writercreateoptions-monitor">dict-member for WriterCreateOptions</a><span>, in § 4</span>
    </ul>
   <li><a href="#dom-rewritertone-more-casual">"more-casual"</a><span>, in § 5</span>
   <li><a href="#dom-rewritertone-more-formal">"more-formal"</a><span>, in § 5</span>
   <li><a href="#domexception-error-information-name">name</a><span>, in § 6.6</span>
   <li><a href="#dom-writertone-neutral">"neutral"</a><span>, in § 4.4.3</span>
   <li><a href="#dom-writertone-neutral">neutral</a><span>, in § 4.4.3</span>
   <li><a href="#dom-createmonitor-ondownloadprogress">ondownloadprogress</a><span>, in § 2</span>
   <li>
    output language
    <ul>
     <li><a href="#summarizer-output-language">dfn for Summarizer</a><span>, in § 3.3</span>
     <li><a href="#writer-output-language">dfn for Writer</a><span>, in § 4.3</span>
    </ul>
   <li>
    outputLanguage
    <ul>
     <li><a href="#dom-rewriter-outputlanguage">attribute for Rewriter</a><span>, in § 5</span>
     <li><a href="#dom-summarizer-outputlanguage">attribute for Summarizer</a><span>, in § 3.3</span>
     <li><a href="#dom-writer-outputlanguage">attribute for Writer</a><span>, in § 4.3</span>
     <li><a href="#dom-rewritercreatecoreoptions-outputlanguage">dict-member for RewriterCreateCoreOptions</a><span>, in § 5</span>
     <li><a href="#dom-summarizercreatecoreoptions-outputlanguage">dict-member for SummarizerCreateCoreOptions</a><span>, in § 3</span>
     <li><a href="#dom-writercreatecoreoptions-outputlanguage">dict-member for WriterCreateCoreOptions</a><span>, in § 4</span>
    </ul>
   <li><a href="#language-availabilities-triple-output-languages">output languages</a><span>, in § 6.5</span>
   <li>
    "plain-text"
    <ul>
     <li><a href="#dom-rewriterformat-plain-text">enum-value for RewriterFormat</a><span>, in § 5</span>
     <li><a href="#dom-summarizerformat-plain-text">enum-value for SummarizerFormat</a><span>, in § 3.4.3</span>
     <li><a href="#dom-writerformat-plain-text">enum-value for WriterFormat</a><span>, in § 4.4.3</span>
    </ul>
   <li>
    plain-text
    <ul>
     <li><a href="#dom-summarizerformat-plain-text">enum-value for SummarizerFormat</a><span>, in § 3.4.3</span>
     <li><a href="#dom-writerformat-plain-text">enum-value for WriterFormat</a><span>, in § 4.4.3</span>
    </ul>
   <li><a href="#quota-exceeded-error-information-quota">quota</a><span>, in § 6.6</span>
   <li><a href="#quota-exceeded-error-information">quota exceeded error information</a><span>, in § 6.6</span>
   <li><a href="#quota-exceeded-error-information-requested">requested</a><span>, in § 6.6</span>
   <li><a href="#dom-rewriter-rewrite">rewrite(input)</a><span>, in § 5</span>
   <li><a href="#dom-rewriter-rewrite">rewrite(input, options)</a><span>, in § 5</span>
   <li><a href="#rewriter">Rewriter</a><span>, in § 5</span>
   <li><a href="#dictdef-rewritercreatecoreoptions">RewriterCreateCoreOptions</a><span>, in § 5</span>
   <li><a href="#dictdef-rewritercreateoptions">RewriterCreateOptions</a><span>, in § 5</span>
   <li><a href="#enumdef-rewriterformat">RewriterFormat</a><span>, in § 5</span>
   <li><a href="#enumdef-rewriterlength">RewriterLength</a><span>, in § 5</span>
   <li><a href="#dictdef-rewriterrewriteoptions">RewriterRewriteOptions</a><span>, in § 5</span>
   <li><a href="#enumdef-rewritertone">RewriterTone</a><span>, in § 5</span>
   <li><a href="#dom-rewriter-rewritestreaming">rewriteStreaming(input)</a><span>, in § 5</span>
   <li><a href="#dom-rewriter-rewritestreaming">rewriteStreaming(input, options)</a><span>, in § 5</span>
   <li>
    shared context
    <ul>
     <li><a href="#summarizer-shared-context">dfn for Summarizer</a><span>, in § 3.3</span>
     <li><a href="#writer-shared-context">dfn for Writer</a><span>, in § 4.3</span>
    </ul>
   <li>
    sharedContext
    <ul>
     <li><a href="#dom-rewriter-sharedcontext">attribute for Rewriter</a><span>, in § 5</span>
     <li><a href="#dom-summarizer-sharedcontext">attribute for Summarizer</a><span>, in § 3.3</span>
     <li><a href="#dom-writer-sharedcontext">attribute for Writer</a><span>, in § 4.3</span>
     <li><a href="#dom-rewritercreateoptions-sharedcontext">dict-member for RewriterCreateOptions</a><span>, in § 5</span>
     <li><a href="#dom-summarizercreateoptions-sharedcontext">dict-member for SummarizerCreateOptions</a><span>, in § 3</span>
     <li><a href="#dom-writercreateoptions-sharedcontext">dict-member for WriterCreateOptions</a><span>, in § 4</span>
    </ul>
   <li>
    "short"
    <ul>
     <li><a href="#dom-summarizerlength-short">enum-value for SummarizerLength</a><span>, in § 3.4.3</span>
     <li><a href="#dom-writerlength-short">enum-value for WriterLength</a><span>, in § 4.4.3</span>
    </ul>
   <li>
    short
    <ul>
     <li><a href="#dom-summarizerlength-short">enum-value for SummarizerLength</a><span>, in § 3.4.3</span>
     <li><a href="#dom-writerlength-short">enum-value for WriterLength</a><span>, in § 4.4.3</span>
    </ul>
   <li><a href="#dom-rewriterlength-shorter">"shorter"</a><span>, in § 5</span>
   <li>
    signal
    <ul>
     <li><a href="#dom-rewritercreateoptions-signal">dict-member for RewriterCreateOptions</a><span>, in § 5</span>
     <li><a href="#dom-rewriterrewriteoptions-signal">dict-member for RewriterRewriteOptions</a><span>, in § 5</span>
     <li><a href="#dom-summarizercreateoptions-signal">dict-member for SummarizerCreateOptions</a><span>, in § 3</span>
     <li><a href="#dom-summarizersummarizeoptions-signal">dict-member for SummarizerSummarizeOptions</a><span>, in § 3</span>
     <li><a href="#dom-writercreateoptions-signal">dict-member for WriterCreateOptions</a><span>, in § 4</span>
     <li><a href="#dom-writerwriteoptions-signal">dict-member for WriterWriteOptions</a><span>, in § 4</span>
    </ul>
   <li><a href="#summarize">summarize</a><span>, in § 3.4.1</span>
   <li><a href="#dom-summarizer-summarize">summarize(input)</a><span>, in § 3.3</span>
   <li><a href="#dom-summarizer-summarize">summarize(input, options)</a><span>, in § 3.3</span>
   <li><a href="#summarizer">Summarizer</a><span>, in § 3</span>
   <li><a href="#permissiondef-summarizer">summarizer</a><span>, in § 3.5</span>
   <li><a href="#dictdef-summarizercreatecoreoptions">SummarizerCreateCoreOptions</a><span>, in § 3</span>
   <li><a href="#dictdef-summarizercreateoptions">SummarizerCreateOptions</a><span>, in § 3</span>
   <li><a href="#enumdef-summarizerformat">SummarizerFormat</a><span>, in § 3</span>
   <li><a href="#summarizer-language-availabilities-triple">summarizer language availabilities triple</a><span>, in § 3.2</span>
   <li><a href="#enumdef-summarizerlength">SummarizerLength</a><span>, in § 3</span>
   <li><a href="#summarizer-non-language-options-availability">summarizer non-language options availability</a><span>, in § 3.2</span>
   <li><a href="#dictdef-summarizersummarizeoptions">SummarizerSummarizeOptions</a><span>, in § 3</span>
   <li><a href="#enumdef-summarizertype">SummarizerType</a><span>, in § 3</span>
   <li><a href="#dom-summarizer-summarizestreaming">summarizeStreaming(input)</a><span>, in § 3.3</span>
   <li><a href="#dom-summarizer-summarizestreaming">summarizeStreaming(input, options)</a><span>, in § 3.3</span>
   <li><a href="#summarizer-summary-format">summary format</a><span>, in § 3.3</span>
   <li><a href="#summarizer-summary-length">summary length</a><span>, in § 3.3</span>
   <li><a href="#summarizer-summary-type">summary type</a><span>, in § 3.3</span>
   <li><a href="#dom-summarizertype-teaser">"teaser"</a><span>, in § 3.4.3</span>
   <li><a href="#dom-summarizertype-teaser">teaser</a><span>, in § 3.4.3</span>
   <li><a href="#dom-summarizertype-tldr">"tl;dr"</a><span>, in § 3.4.3</span>
   <li><a href="#dom-summarizertype-tldr">tl;dr</a><span>, in § 3.4.3</span>
   <li>
    tone
    <ul>
     <li><a href="#dom-rewriter-tone">attribute for Rewriter</a><span>, in § 5</span>
     <li><a href="#dom-writer-tone">attribute for Writer</a><span>, in § 4.3</span>
     <li><a href="#writer-tone">dfn for Writer</a><span>, in § 4.3</span>
     <li><a href="#dom-rewritercreatecoreoptions-tone">dict-member for RewriterCreateCoreOptions</a><span>, in § 5</span>
     <li><a href="#dom-writercreatecoreoptions-tone">dict-member for WriterCreateCoreOptions</a><span>, in § 4</span>
    </ul>
   <li>
    type
    <ul>
     <li><a href="#dom-summarizer-type">attribute for Summarizer</a><span>, in § 3.3</span>
     <li><a href="#dom-summarizercreatecoreoptions-type">dict-member for SummarizerCreateCoreOptions</a><span>, in § 3</span>
    </ul>
   <li><a href="#dom-availability-unavailable">"unavailable"</a><span>, in § 2</span>
   <li><a href="#validate-and-canonicalize-a-single-language-tag">validate and canonicalize a single language tag</a><span>, in § 6.3</span>
   <li><a href="#validate-and-canonicalize-language-tags">validate and canonicalize language tags</a><span>, in § 6.3</span>
   <li><a href="#validate-and-canonicalize-summarizer-options">validate and canonicalize summarizer options</a><span>, in § 3.1</span>
   <li><a href="#validate-and-canonicalize-writer-options">validate and canonicalize writer options</a><span>, in § 4.1</span>
   <li><a href="#validate-and-canonicalize-a-single-language-tag">validating and canonicalizing a single language tag</a><span>, in § 6.3</span>
   <li><a href="#write">write</a><span>, in § 4.4.1</span>
   <li><a href="#dom-writer-write">write(input)</a><span>, in § 4.3</span>
   <li><a href="#dom-writer-write">write(input, options)</a><span>, in § 4.3</span>
   <li><a href="#writer">Writer</a><span>, in § 4</span>
   <li><a href="#permissiondef-writer">writer</a><span>, in § 4.5</span>
   <li><a href="#dictdef-writercreatecoreoptions">WriterCreateCoreOptions</a><span>, in § 4</span>
   <li><a href="#dictdef-writercreateoptions">WriterCreateOptions</a><span>, in § 4</span>
   <li><a href="#enumdef-writerformat">WriterFormat</a><span>, in § 4</span>
   <li><a href="#writer-language-availabilities-triple">writer language availabilities triple</a><span>, in § 4.2</span>
   <li><a href="#enumdef-writerlength">WriterLength</a><span>, in § 4</span>
   <li><a href="#writer-non-language-options-availability">writer non-language options availability</a><span>, in § 4.2</span>
   <li><a href="#enumdef-writertone">WriterTone</a><span>, in § 4</span>
   <li><a href="#dictdef-writerwriteoptions">WriterWriteOptions</a><span>, in § 4</span>
   <li><a href="#dom-writer-writestreaming">writeStreaming(input)</a><span>, in § 4.3</span>
   <li><a href="#dom-writer-writestreaming">writeStreaming(input, options)</a><span>, in § 4.3</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2e66eaf1">AbortController</span>
     <li><span class="dfn-paneled" id="cca3cdb2">AbortSignal</span>
     <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
     <li><span class="dfn-paneled" id="28e64574">abort reason</span>
     <li><span class="dfn-paneled" id="535dd335">aborted</span>
     <li><span class="dfn-paneled" id="87bc23a5">add</span>
     <li><span class="dfn-paneled" id="c9db6cec">create a dependent abort signal</span>
     <li><span class="dfn-paneled" id="5fd23811">fire an event</span>
     <li><span class="dfn-paneled" id="0fe84b59">signal</span>
     <li><span class="dfn-paneled" id="2296404c">signal abort</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ECMA-402]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="27072ded">CanonicalizeUnicodeLocaleId</span>
     <li><span class="dfn-paneled" id="554817f6">IsStructurallyValidLanguageTag</span>
     <li><span class="dfn-paneled" id="0e5dca01">LookupMatchingLocaleByBestFit</span>
     <li><span class="dfn-paneled" id="70d2311e">[[AvailableLocales]]</span>
     <li><span class="dfn-paneled" id="93e4c9ae">Unicode canonicalized locale identifier</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ECMASCRIPT]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="3aec4bbc">current realm</span>
     <li><span class="dfn-paneled" id="0f3172b2">floor</span>
     <li><span class="dfn-paneled" id="a5f015e3">realm</span>
     <li><span class="dfn-paneled" id="4ad913ae">surrounding agent</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HR-TIME-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="28716de1">monotonic clock</span>
     <li><span class="dfn-paneled" id="479aeb1d">unsafe current time</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f0951476">EventHandler</span>
     <li><span class="dfn-paneled" id="5d7209e9">Window</span>
     <li><span class="dfn-paneled" id="3610bd67">allowed to use</span>
     <li><span class="dfn-paneled" id="3349d69f">associated Document</span>
     <li><span class="dfn-paneled" id="ce3d2bbb">current global object</span>
     <li><span class="dfn-paneled" id="6a5a59a0">event handler</span>
     <li><span class="dfn-paneled" id="9d386f55">event handler event type</span>
     <li><span class="dfn-paneled" id="03675365">event handler IDL attribute</span>
     <li><span class="dfn-paneled" id="c6d19e56">event loop</span>
     <li><span class="dfn-paneled" id="b78d6a64">event loop <small>(for agent)</small></span>
     <li><span class="dfn-paneled" id="0e3ba9f8">fully active</span>
     <li><span class="dfn-paneled" id="168f1b6e">global object</span>
     <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
     <li><span class="dfn-paneled" id="48438eb3">queue a global task</span>
     <li><span class="dfn-paneled" id="b75a7d23">realm</span>
     <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
     <li><span class="dfn-paneled" id="5991ccfb">relevant realm</span>
     <li><span class="dfn-paneled" id="e270bd2a">task</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="1adcc035">abort when</span>
     <li><span class="dfn-paneled" id="a3b18719">append</span>
     <li><span class="dfn-paneled" id="77b4c09a">assert</span>
     <li><span class="dfn-paneled" id="7b0d918d">break</span>
     <li><span class="dfn-paneled" id="ae8def21">contain</span>
     <li><span class="dfn-paneled" id="1243a891">exist</span>
     <li><span class="dfn-paneled" id="16d07e10">for each</span>
     <li><span class="dfn-paneled" id="715f22e4">if aborted</span>
     <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
     <li><span class="dfn-paneled" id="6b815fdd">is empty</span>
     <li><span class="dfn-paneled" id="5afbefcd">item <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="c88f3887">item <small>(for struct)</small></span>
     <li><span class="dfn-paneled" id="31db57e6">keys</span>
     <li><span class="dfn-paneled" id="0fa357c3">length</span>
     <li><span class="dfn-paneled" id="649608b9">list</span>
     <li><span class="dfn-paneled" id="3fca5a9e">map</span>
     <li><span class="dfn-paneled" id="84b454ff">ordered map</span>
     <li><span class="dfn-paneled" id="692595fe">ordered set</span>
     <li><span class="dfn-paneled" id="167d1cb0">replace</span>
     <li><span class="dfn-paneled" id="15e48c39">set</span>
     <li><span class="dfn-paneled" id="0698d556">string</span>
     <li><span class="dfn-paneled" id="984221ca">struct</span>
     <li><span class="dfn-paneled" id="5eb733b4">union</span>
     <li><span class="dfn-paneled" id="12d6b9a8">values</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PERMISSIONS-POLICY-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="333b39ba">'self'</span>
     <li><span class="dfn-paneled" id="1570624a">default allowlist</span>
     <li><span class="dfn-paneled" id="cc890cc1">policy-controlled feature</span>
    </ul>
   <li>
    <a data-link-type="biblio">[STREAMS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="59ed4e57">ReadableStream</span>
     <li><span class="dfn-paneled" id="e3e2d506">cancel</span>
     <li><span class="dfn-paneled" id="d635410d">cancel()</span>
     <li><span class="dfn-paneled" id="b5b30abb">cancelAlgorithm</span>
     <li><span class="dfn-paneled" id="b3cf1c94">close</span>
     <li><span class="dfn-paneled" id="6b6bb798">enqueue</span>
     <li><span class="dfn-paneled" id="3bd18bd6">error</span>
     <li><span class="dfn-paneled" id="d438bc09">set up</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="d25dfb2c">AbortError</span>
     <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
     <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="dcf5fafa">FrozenArray</span>
     <li><span class="dfn-paneled" id="797018a7">InvalidStateError</span>
     <li><span class="dfn-paneled" id="c74f29b9">NetworkError</span>
     <li><span class="dfn-paneled" id="ba556545">NotAllowedError</span>
     <li><span class="dfn-paneled" id="0be3911e">NotReadableError</span>
     <li><span class="dfn-paneled" id="3182eb71">NotSupportedError</span>
     <li><span class="dfn-paneled" id="34443090">OperationError</span>
     <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
     <li><span class="dfn-paneled" id="c8ffe1dd">QuotaExceededError</span>
     <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
     <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
     <li><span class="dfn-paneled" id="81dd847b">UnknownError</span>
     <li><span class="dfn-paneled" id="dacde8b5">a new promise</span>
     <li><span class="dfn-paneled" id="d0b4a948">a promise rejected with</span>
     <li><span class="dfn-paneled" id="8f5c2179">a promise resolved with</span>
     <li><span class="dfn-paneled" id="c537c824">creating a frozen array</span>
     <li><span class="dfn-paneled" id="8c800cdf">double</span>
     <li><span class="dfn-paneled" id="a32c65d4">implements</span>
     <li><span class="dfn-paneled" id="a7900362">include</span>
     <li><span class="dfn-paneled" id="1422ec4e">interface</span>
     <li><span class="dfn-paneled" id="10ce5f6f">invoke</span>
     <li><span class="dfn-paneled" id="44959ae4">name</span>
     <li><span class="dfn-paneled" id="56f81a8e">new</span>
     <li><span class="dfn-paneled" id="fd30477f">quota</span>
     <li><span class="dfn-paneled" id="b262501e">reject</span>
     <li><span class="dfn-paneled" id="c28e5cf7">requested</span>
     <li><span class="dfn-paneled" id="3b90bdcd">resolve</span>
     <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
     <li><span class="dfn-paneled" id="4013a022">this</span>
     <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
     <li><span class="dfn-paneled" id="11e0b87f">unrestricted double</span>
    </ul>
   <li>
    <a data-link-type="biblio">[XHR]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="7b0dc914">ProgressEvent</span>
     <li><span class="dfn-paneled" id="775945f7">lengthComputable</span>
     <li><span class="dfn-paneled" id="5528aefc">loaded</span>
     <li><span class="dfn-paneled" id="67fa4a40">total</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-commonmark">[COMMONMARK]
   <dd><a href="https://spec.commonmark.org/"><cite>CommonMark Spec</cite></a>. URL: <a href="https://spec.commonmark.org/">https://spec.commonmark.org/</a>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-ecma-402">[ECMA-402]
   <dd><a href="https://tc39.es/ecma402/"><cite>ECMAScript Internationalization API Specification</cite></a>. URL: <a href="https://tc39.es/ecma402/">https://tc39.es/ecma402/</a>
   <dt id="biblio-ecmascript">[ECMASCRIPT]
   <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
   <dt id="biblio-hr-time-3">[HR-TIME-3]
   <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-permissions-policy-1">[PERMISSIONS-POLICY-1]
   <dd>Ian Clelland. <a href="https://w3c.github.io/webappsec-permissions-policy/"><cite>Permissions Policy</cite></a>. URL: <a href="https://w3c.github.io/webappsec-permissions-policy/">https://w3c.github.io/webappsec-permissions-policy/</a>
   <dt id="biblio-streams">[STREAMS]
   <dd>Adam Rice; et al. <a href="https://streams.spec.whatwg.org/"><cite>Streams Standard</cite></a>. Living Standard. URL: <a href="https://streams.spec.whatwg.org/">https://streams.spec.whatwg.org/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
   <dt id="biblio-xhr">[XHR]
   <dd>Anne van Kesteren. <a href="https://xhr.spec.whatwg.org/"><cite>XMLHttpRequest Standard</cite></a>. Living Standard. URL: <a href="https://xhr.spec.whatwg.org/">https://xhr.spec.whatwg.org/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#createmonitor"><code><c- g>CreateMonitor</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-createmonitor-ondownloadprogress"><c- g>ondownloadprogress</c-></a>;
};

<c- b>callback</c-> <a href="#callbackdef-createmonitorcallback"><code><c- g>CreateMonitorCallback</c-></code></a> = <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> (<a data-link-type="idl-name" href="#createmonitor"><c- n>CreateMonitor</c-></a> <a href="#dom-createmonitorcallback-monitor"><code><c- g>monitor</c-></code></a>);

<c- b>enum</c-> <a href="#enumdef-availability"><code><c- g>Availability</c-></code></a> {
  <a href="#dom-availability-unavailable"><code><c- s>"unavailable"</c-></code></a>,
  <a href="#dom-availability-downloadable"><code><c- s>"downloadable"</c-></code></a>,
  <a href="#dom-availability-downloading"><code><c- s>"downloading"</c-></code></a>,
  <a href="#dom-availability-available"><code><c- s>"available"</c-></code></a>
};

<c- b>interface</c-> <c- b>mixin</c-> <a href="#destroyablemodel"><code><c- g>DestroyableModel</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-destroyablemodel-destroy"><c- g>destroy</c-></a>();
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#summarizer"><code><c- g>Summarizer</c-></code></a> {
  <c- b>static</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#summarizer"><c- n>Summarizer</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-summarizer-create"><c- g>create</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-summarizercreateoptions"><c- n>SummarizerCreateOptions</c-></a> <a href="#dom-summarizer-create-options-options"><code><c- g>options</c-></code></a> = {});
  <c- b>static</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#enumdef-availability"><c- n>Availability</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-summarizer-availability"><c- g>availability</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-summarizercreatecoreoptions"><c- n>SummarizerCreateCoreOptions</c-></a> <a href="#dom-summarizer-availability-options-options"><code><c- g>options</c-></code></a> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-summarizer-summarize"><c- g>summarize</c-></a>(
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-summarizer-summarize-input-options-input"><code><c- g>input</c-></code></a>,
    <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-summarizersummarizeoptions"><c- n>SummarizerSummarizeOptions</c-></a> <a href="#dom-summarizer-summarize-input-options-options"><code><c- g>options</c-></code></a> = {}
  );
  <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="method" href="#dom-summarizer-summarizestreaming"><c- g>summarizeStreaming</c-></a>(
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-summarizer-summarizestreaming-input-options-input"><code><c- g>input</c-></code></a>,
    <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-summarizersummarizeoptions"><c- n>SummarizerSummarizeOptions</c-></a> <a href="#dom-summarizer-summarizestreaming-input-options-options"><code><c- g>options</c-></code></a> = {}
  );

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-summarizer-sharedcontext"><c- g>sharedContext</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-summarizertype"><c- n>SummarizerType</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="SummarizerType" href="#dom-summarizer-type"><c- g>type</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-summarizerformat"><c- n>SummarizerFormat</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="SummarizerFormat" href="#dom-summarizer-format"><c- g>format</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-summarizerlength"><c- n>SummarizerLength</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="SummarizerLength" href="#dom-summarizer-length"><c- g>length</c-></a>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<DOMString>?" href="#dom-summarizer-expectedinputlanguages"><c- g>expectedInputLanguages</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<DOMString>?" href="#dom-summarizer-expectedcontextlanguages"><c- g>expectedContextLanguages</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString?" href="#dom-summarizer-outputlanguage"><c- g>outputLanguage</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-summarizer-measureinputusage"><c- g>measureInputUsage</c-></a>(
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-summarizer-measureinputusage-input-options-input"><code><c- g>input</c-></code></a>,
    <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-summarizersummarizeoptions"><c- n>SummarizerSummarizeOptions</c-></a> <a href="#dom-summarizer-measureinputusage-input-options-options"><code><c- g>options</c-></code></a> = {}
  );
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unrestricted double" href="#dom-summarizer-inputquota"><c- g>inputQuota</c-></a>;
};
<a data-link-type="idl-name" href="#summarizer"><c- n>Summarizer</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#destroyablemodel"><c- n>DestroyableModel</c-></a>;

<c- b>dictionary</c-> <a href="#dictdef-summarizercreatecoreoptions"><code><c- g>SummarizerCreateCoreOptions</c-></code></a> {
  <a data-link-type="idl-name" href="#enumdef-summarizertype"><c- n>SummarizerType</c-></a> <a data-default="&quot;key-points&quot;" data-type="SummarizerType" href="#dom-summarizercreatecoreoptions-type"><code><c- g>type</c-></code></a> = "key-points";
  <a data-link-type="idl-name" href="#enumdef-summarizerformat"><c- n>SummarizerFormat</c-></a> <a data-default="&quot;markdown&quot;" data-type="SummarizerFormat" href="#dom-summarizercreatecoreoptions-format"><code><c- g>format</c-></code></a> = "markdown";
  <a data-link-type="idl-name" href="#enumdef-summarizerlength"><c- n>SummarizerLength</c-></a> <a data-default="&quot;short&quot;" data-type="SummarizerLength" href="#dom-summarizercreatecoreoptions-length"><code><c- g>length</c-></code></a> = "short";

  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a data-type="sequence<DOMString>" href="#dom-summarizercreatecoreoptions-expectedinputlanguages"><code><c- g>expectedInputLanguages</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a data-type="sequence<DOMString>" href="#dom-summarizercreatecoreoptions-expectedcontextlanguages"><code><c- g>expectedContextLanguages</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString" href="#dom-summarizercreatecoreoptions-outputlanguage"><code><c- g>outputLanguage</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-summarizercreateoptions"><code><c- g>SummarizerCreateOptions</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-summarizercreatecoreoptions"><c- n>SummarizerCreateCoreOptions</c-></a> {
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal"><c- n>AbortSignal</c-></a> <a data-type="AbortSignal" href="#dom-summarizercreateoptions-signal"><code><c- g>signal</c-></code></a>;
  <a data-link-type="idl-name" href="#callbackdef-createmonitorcallback"><c- n>CreateMonitorCallback</c-></a> <a data-type="CreateMonitorCallback" href="#dom-summarizercreateoptions-monitor"><code><c- g>monitor</c-></code></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString" href="#dom-summarizercreateoptions-sharedcontext"><code><c- g>sharedContext</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-summarizersummarizeoptions"><code><c- g>SummarizerSummarizeOptions</c-></code></a> {
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal"><c- n>AbortSignal</c-></a> <a data-type="AbortSignal" href="#dom-summarizersummarizeoptions-signal"><code><c- g>signal</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString" href="#dom-summarizersummarizeoptions-context"><code><c- g>context</c-></code></a>;
};

<c- b>enum</c-> <a href="#enumdef-summarizertype"><code><c- g>SummarizerType</c-></code></a> { <a class="idl-code" data-link-type="enum-value" href="#dom-summarizertype-tldr"><c- s>"tl;dr"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-summarizertype-teaser"><c- s>"teaser"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-summarizertype-key-points"><c- s>"key-points"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-summarizertype-headline"><c- s>"headline"</c-></a> };
<c- b>enum</c-> <a href="#enumdef-summarizerformat"><code><c- g>SummarizerFormat</c-></code></a> { <a class="idl-code" data-link-type="enum-value" href="#dom-summarizerformat-plain-text"><c- s>"plain-text"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-summarizerformat-markdown"><c- s>"markdown"</c-></a> };
<c- b>enum</c-> <a href="#enumdef-summarizerlength"><code><c- g>SummarizerLength</c-></code></a> { <a class="idl-code" data-link-type="enum-value" href="#dom-summarizerlength-short"><c- s>"short"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-summarizerlength-medium"><c- s>"medium"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-summarizerlength-long"><c- s>"long"</c-></a> };

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#writer"><code><c- g>Writer</c-></code></a> {
  <c- b>static</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#writer"><c- n>Writer</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-writer-create"><c- g>create</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-writercreateoptions"><c- n>WriterCreateOptions</c-></a> <a href="#dom-writer-create-options-options"><code><c- g>options</c-></code></a> = {});
  <c- b>static</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#enumdef-availability"><c- n>Availability</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-writer-availability"><c- g>availability</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-writercreatecoreoptions"><c- n>WriterCreateCoreOptions</c-></a> <a href="#dom-writer-availability-options-options"><code><c- g>options</c-></code></a> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-writer-write"><c- g>write</c-></a>(
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-writer-write-input-options-input"><code><c- g>input</c-></code></a>,
    <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-writerwriteoptions"><c- n>WriterWriteOptions</c-></a> <a href="#dom-writer-write-input-options-options"><code><c- g>options</c-></code></a> = {}
  );
  <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream"><c- n>ReadableStream</c-></a> <a class="idl-code" data-link-type="method" href="#dom-writer-writestreaming"><c- g>writeStreaming</c-></a>(
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-writer-writestreaming-input-options-input"><code><c- g>input</c-></code></a>,
    <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-writerwriteoptions"><c- n>WriterWriteOptions</c-></a> <a href="#dom-writer-writestreaming-input-options-options"><code><c- g>options</c-></code></a> = {}
  );

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-writer-sharedcontext"><c- g>sharedContext</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-writertone"><c- n>WriterTone</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="WriterTone" href="#dom-writer-tone"><c- g>tone</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-writerformat"><c- n>WriterFormat</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="WriterFormat" href="#dom-writer-format"><c- g>format</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-writerlength"><c- n>WriterLength</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="WriterLength" href="#dom-writer-length"><c- g>length</c-></a>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<DOMString>?" href="#dom-writer-expectedinputlanguages"><c- g>expectedInputLanguages</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<DOMString>?" href="#dom-writer-expectedcontextlanguages"><c- g>expectedContextLanguages</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString?" href="#dom-writer-outputlanguage"><c- g>outputLanguage</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-writer-measureinputusage"><c- g>measureInputUsage</c-></a>(
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-writer-measureinputusage-input-options-input"><code><c- g>input</c-></code></a>,
    <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-writerwriteoptions"><c- n>WriterWriteOptions</c-></a> <a href="#dom-writer-measureinputusage-input-options-options"><code><c- g>options</c-></code></a> = {}
  );
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unrestricted double" href="#dom-writer-inputquota"><c- g>inputQuota</c-></a>;
};
<a data-link-type="idl-name" href="#writer"><c- n>Writer</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#destroyablemodel"><c- n>DestroyableModel</c-></a>;

<c- b>dictionary</c-> <a href="#dictdef-writercreatecoreoptions"><code><c- g>WriterCreateCoreOptions</c-></code></a> {
  <a data-link-type="idl-name" href="#enumdef-writertone"><c- n>WriterTone</c-></a> <a data-default="&quot;neutral&quot;" data-type="WriterTone" href="#dom-writercreatecoreoptions-tone"><code><c- g>tone</c-></code></a> = "neutral";
  <a data-link-type="idl-name" href="#enumdef-writerformat"><c- n>WriterFormat</c-></a> <a data-default="&quot;markdown&quot;" data-type="WriterFormat" href="#dom-writercreatecoreoptions-format"><code><c- g>format</c-></code></a> = "markdown";
  <a data-link-type="idl-name" href="#enumdef-writerlength"><c- n>WriterLength</c-></a> <a data-default="&quot;short&quot;" data-type="WriterLength" href="#dom-writercreatecoreoptions-length"><code><c- g>length</c-></code></a> = "short";

  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a data-type="sequence<DOMString>" href="#dom-writercreatecoreoptions-expectedinputlanguages"><code><c- g>expectedInputLanguages</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a data-type="sequence<DOMString>" href="#dom-writercreatecoreoptions-expectedcontextlanguages"><code><c- g>expectedContextLanguages</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString" href="#dom-writercreatecoreoptions-outputlanguage"><code><c- g>outputLanguage</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-writercreateoptions"><code><c- g>WriterCreateOptions</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-writercreatecoreoptions"><c- n>WriterCreateCoreOptions</c-></a> {
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal"><c- n>AbortSignal</c-></a> <a data-type="AbortSignal" href="#dom-writercreateoptions-signal"><code><c- g>signal</c-></code></a>;
  <a data-link-type="idl-name" href="#callbackdef-createmonitorcallback"><c- n>CreateMonitorCallback</c-></a> <a data-type="CreateMonitorCallback" href="#dom-writercreateoptions-monitor"><code><c- g>monitor</c-></code></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString" href="#dom-writercreateoptions-sharedcontext"><code><c- g>sharedContext</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-writerwriteoptions"><code><c- g>WriterWriteOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString" href="#dom-writerwriteoptions-context"><code><c- g>context</c-></code></a>;
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal"><c- n>AbortSignal</c-></a> <a data-type="AbortSignal" href="#dom-writerwriteoptions-signal"><code><c- g>signal</c-></code></a>;
};

<c- b>enum</c-> <a href="#enumdef-writertone"><code><c- g>WriterTone</c-></code></a> { <a class="idl-code" data-link-type="enum-value" href="#dom-writertone-formal"><c- s>"formal"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-writertone-neutral"><c- s>"neutral"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-writertone-casual"><c- s>"casual"</c-></a> };
<c- b>enum</c-> <a href="#enumdef-writerformat"><code><c- g>WriterFormat</c-></code></a> { <a class="idl-code" data-link-type="enum-value" href="#dom-writerformat-plain-text"><c- s>"plain-text"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-writerformat-markdown"><c- s>"markdown"</c-></a> };
<c- b>enum</c-> <a href="#enumdef-writerlength"><code><c- g>WriterLength</c-></code></a> { <a class="idl-code" data-link-type="enum-value" href="#dom-writerlength-short"><c- s>"short"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-writerlength-medium"><c- s>"medium"</c-></a>, <a class="idl-code" data-link-type="enum-value" href="#dom-writerlength-long"><c- s>"long"</c-></a> };

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#rewriter"><code><c- g>Rewriter</c-></code></a> {
  <c- b>static</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#rewriter"><c- n>Rewriter</c-></a>> <a href="#dom-rewriter-create"><code><c- g>create</c-></code></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-rewritercreateoptions"><c- n>RewriterCreateOptions</c-></a> <a href="#dom-rewriter-create-options-options"><code><c- g>options</c-></code></a> = {});
  <c- b>static</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#enumdef-availability"><c- n>Availability</c-></a>> <a href="#dom-rewriter-availability"><code><c- g>availability</c-></code></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-rewritercreatecoreoptions"><c- n>RewriterCreateCoreOptions</c-></a> <a href="#dom-rewriter-availability-options-options"><code><c- g>options</c-></code></a> = {});

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a href="#dom-rewriter-rewrite"><code><c- g>rewrite</c-></code></a>(
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-rewriter-rewrite-input-options-input"><code><c- g>input</c-></code></a>,
    <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-rewriterrewriteoptions"><c- n>RewriterRewriteOptions</c-></a> <a href="#dom-rewriter-rewrite-input-options-options"><code><c- g>options</c-></code></a> = {}
  );
  <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream"><c- n>ReadableStream</c-></a> <a href="#dom-rewriter-rewritestreaming"><code><c- g>rewriteStreaming</c-></code></a>(
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-rewriter-rewritestreaming-input-options-input"><code><c- g>input</c-></code></a>,
    <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-rewriterrewriteoptions"><c- n>RewriterRewriteOptions</c-></a> <a href="#dom-rewriter-rewritestreaming-input-options-options"><code><c- g>options</c-></code></a> = {}
  );

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-readonly data-type="DOMString" href="#dom-rewriter-sharedcontext"><code><c- g>sharedContext</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-rewritertone"><c- n>RewriterTone</c-></a> <a data-readonly data-type="RewriterTone" href="#dom-rewriter-tone"><code><c- g>tone</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-rewriterformat"><c- n>RewriterFormat</c-></a> <a data-readonly data-type="RewriterFormat" href="#dom-rewriter-format"><code><c- g>format</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-rewriterlength"><c- n>RewriterLength</c-></a> <a data-readonly data-type="RewriterLength" href="#dom-rewriter-length"><code><c- g>length</c-></code></a>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>>? <a data-readonly data-type="FrozenArray<DOMString>?" href="#dom-rewriter-expectedinputlanguages"><code><c- g>expectedInputLanguages</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>>? <a data-readonly data-type="FrozenArray<DOMString>?" href="#dom-rewriter-expectedcontextlanguages"><code><c- g>expectedContextLanguages</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>? <a data-readonly data-type="DOMString?" href="#dom-rewriter-outputlanguage"><code><c- g>outputLanguage</c-></code></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-double"><c- b>double</c-></a>> <a href="#dom-rewriter-measureinputusage"><code><c- g>measureInputUsage</c-></code></a>(
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-rewriter-measureinputusage-input-options-input"><code><c- g>input</c-></code></a>,
    <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-rewriterrewriteoptions"><c- n>RewriterRewriteOptions</c-></a> <a href="#dom-rewriter-measureinputusage-input-options-options"><code><c- g>options</c-></code></a> = {}
  );
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unrestricted-double"><c- b>unrestricted</c-> <c- b>double</c-></a> <a data-readonly data-type="unrestricted double" href="#dom-rewriter-inputquota"><code><c- g>inputQuota</c-></code></a>;
};
<a data-link-type="idl-name" href="#rewriter"><c- n>Rewriter</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#destroyablemodel"><c- n>DestroyableModel</c-></a>;

<c- b>dictionary</c-> <a href="#dictdef-rewritercreatecoreoptions"><code><c- g>RewriterCreateCoreOptions</c-></code></a> {
  <a data-link-type="idl-name" href="#enumdef-rewritertone"><c- n>RewriterTone</c-></a> <a data-default="&quot;as-is&quot;" data-type="RewriterTone" href="#dom-rewritercreatecoreoptions-tone"><code><c- g>tone</c-></code></a> = "as-is";
  <a data-link-type="idl-name" href="#enumdef-rewriterformat"><c- n>RewriterFormat</c-></a> <a data-default="&quot;as-is&quot;" data-type="RewriterFormat" href="#dom-rewritercreatecoreoptions-format"><code><c- g>format</c-></code></a> = "as-is";
  <a data-link-type="idl-name" href="#enumdef-rewriterlength"><c- n>RewriterLength</c-></a> <a data-default="&quot;as-is&quot;" data-type="RewriterLength" href="#dom-rewritercreatecoreoptions-length"><code><c- g>length</c-></code></a> = "as-is";

  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a data-type="sequence<DOMString>" href="#dom-rewritercreatecoreoptions-expectedinputlanguages"><code><c- g>expectedInputLanguages</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>> <a data-type="sequence<DOMString>" href="#dom-rewritercreatecoreoptions-expectedcontextlanguages"><code><c- g>expectedContextLanguages</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString" href="#dom-rewritercreatecoreoptions-outputlanguage"><code><c- g>outputLanguage</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-rewritercreateoptions"><code><c- g>RewriterCreateOptions</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-rewritercreatecoreoptions"><c- n>RewriterCreateCoreOptions</c-></a> {
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal"><c- n>AbortSignal</c-></a> <a data-type="AbortSignal" href="#dom-rewritercreateoptions-signal"><code><c- g>signal</c-></code></a>;
  <a data-link-type="idl-name" href="#callbackdef-createmonitorcallback"><c- n>CreateMonitorCallback</c-></a> <a data-type="CreateMonitorCallback" href="#dom-rewritercreateoptions-monitor"><code><c- g>monitor</c-></code></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString" href="#dom-rewritercreateoptions-sharedcontext"><code><c- g>sharedContext</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-rewriterrewriteoptions"><code><c- g>RewriterRewriteOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString" href="#dom-rewriterrewriteoptions-context"><code><c- g>context</c-></code></a>;
  <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#abortsignal"><c- n>AbortSignal</c-></a> <a data-type="AbortSignal" href="#dom-rewriterrewriteoptions-signal"><code><c- g>signal</c-></code></a>;
};

<c- b>enum</c-> <a href="#enumdef-rewritertone"><code><c- g>RewriterTone</c-></code></a> { <a href="#dom-rewritertone-as-is"><code><c- s>"as-is"</c-></code></a>, <a href="#dom-rewritertone-more-formal"><code><c- s>"more-formal"</c-></code></a>, <a href="#dom-rewritertone-more-casual"><code><c- s>"more-casual"</c-></code></a> };
<c- b>enum</c-> <a href="#enumdef-rewriterformat"><code><c- g>RewriterFormat</c-></code></a> { <a href="#dom-rewriterformat-as-is"><code><c- s>"as-is"</c-></code></a>, <a href="#dom-rewriterformat-plain-text"><code><c- s>"plain-text"</c-></code></a>, <a href="#dom-rewriterformat-markdown"><code><c- s>"markdown"</c-></code></a> };
<c- b>enum</c-> <a href="#enumdef-rewriterlength"><code><c- g>RewriterLength</c-></code></a> { <a href="#dom-rewriterlength-as-is"><code><c- s>"as-is"</c-></code></a>, <a href="#dom-rewriterlength-shorter"><code><c- s>"shorter"</c-></code></a>, <a href="#dom-rewriterlength-longer"><code><c- s>"longer"</c-></code></a> };

</pre>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"03675365": {"dfnID":"03675365","dfnText":"event handler IDL attribute","external":true,"refSections":[{"refs":[{"id":"ref-for-event-handler-idl-attributes"}],"title":"2. Shared APIs"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes"},
"0698d556": {"dfnID":"0698d556","dfnText":"string","external":true,"refSections":[{"refs":[{"id":"ref-for-string"},{"id":"ref-for-string\u2460"}],"title":"3.3. The Summarizer class"},{"refs":[{"id":"ref-for-string\u2461"},{"id":"ref-for-string\u2462"},{"id":"ref-for-string\u2463"},{"id":"ref-for-string\u2464"},{"id":"ref-for-string\u2465"},{"id":"ref-for-string\u2466"}],"title":"3.4.1. The algorithm"},{"refs":[{"id":"ref-for-string\u2467"},{"id":"ref-for-string\u2468"},{"id":"ref-for-string\u2460\u24ea"},{"id":"ref-for-string\u2460\u2460"}],"title":"3.4.2. Usage"},{"refs":[{"id":"ref-for-string\u2460\u2461"},{"id":"ref-for-string\u2460\u2462"}],"title":"4.3. The Writer class"},{"refs":[{"id":"ref-for-string\u2460\u2463"},{"id":"ref-for-string\u2460\u2464"},{"id":"ref-for-string\u2460\u2465"},{"id":"ref-for-string\u2460\u2466"},{"id":"ref-for-string\u2460\u2467"},{"id":"ref-for-string\u2460\u2468"}],"title":"4.4.1. The algorithm"},{"refs":[{"id":"ref-for-string\u2461\u24ea"},{"id":"ref-for-string\u2461\u2460"},{"id":"ref-for-string\u2461\u2461"},{"id":"ref-for-string\u2461\u2462"}],"title":"4.4.2. Usage"},{"refs":[{"id":"ref-for-string\u2461\u2463"},{"id":"ref-for-string\u2461\u2464"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-string\u2461\u2465"},{"id":"ref-for-string\u2461\u2466"},{"id":"ref-for-string\u2461\u2467"},{"id":"ref-for-string\u2461\u2468"}],"title":"6.3. Language tags"},{"refs":[{"id":"ref-for-string\u2462\u24ea"}],"title":"6.6. Errors"}],"url":"https://infra.spec.whatwg.org/#string"},
"0be3911e": {"dfnID":"0be3911e","dfnText":"NotReadableError","external":true,"refSections":[{"refs":[{"id":"ref-for-notreadableerror"}],"title":"3.4.4. Errors"},{"refs":[{"id":"ref-for-notreadableerror\u2460"}],"title":"4.4.4. Errors"}],"url":"https://webidl.spec.whatwg.org/#notreadableerror"},
"0e3ba9f8": {"dfnID":"0e3ba9f8","dfnText":"fully active","external":true,"refSections":[{"refs":[{"id":"ref-for-fully-active"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-fully-active\u2460"},{"id":"ref-for-fully-active\u2461"},{"id":"ref-for-fully-active\u2462"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-fully-active\u2463"}],"title":"6.4. Availability"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"},
"0e5dca01": {"dfnID":"0e5dca01","dfnText":"LookupMatchingLocaleByBestFit","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-lookupmatchinglocalebybestfit"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-sec-lookupmatchinglocalebybestfit\u2460"}],"title":"6.3. Language tags"},{"refs":[{"id":"ref-for-sec-lookupmatchinglocalebybestfit\u2461"},{"id":"ref-for-sec-lookupmatchinglocalebybestfit\u2462"}],"title":"6.5. Language availability"}],"url":"https://tc39.es/ecma402/#sec-lookupmatchinglocalebybestfit"},
"0f3172b2": {"dfnID":"0f3172b2","dfnText":"floor","external":true,"refSections":[{"refs":[{"id":"ref-for-eqn-floor"}],"title":"6.1. Creation"}],"url":"https://tc39.es/ecma262/#eqn-floor"},
"0fa357c3": {"dfnID":"0fa357c3","dfnText":"length","external":true,"refSections":[{"refs":[{"id":"ref-for-string-length"},{"id":"ref-for-string-length\u2460"}],"title":"3.4.2. Usage"},{"refs":[{"id":"ref-for-string-length\u2461"}],"title":"4.4.2. Usage"}],"url":"https://infra.spec.whatwg.org/#string-length"},
"0fe84b59": {"dfnID":"0fe84b59","dfnText":"signal","external":true,"refSections":[{"refs":[{"id":"ref-for-abortcontroller-signal"}],"title":"2. Shared APIs"},{"refs":[{"id":"ref-for-abortcontroller-signal\u2460"},{"id":"ref-for-abortcontroller-signal\u2461"},{"id":"ref-for-abortcontroller-signal\u2462"}],"title":"6.2. Obtaining results and usage"}],"url":"https://dom.spec.whatwg.org/#abortcontroller-signal"},
"10ce5f6f": {"dfnID":"10ce5f6f","dfnText":"invoke","external":true,"refSections":[{"refs":[{"id":"ref-for-invoke-a-callback-function"}],"title":"6.1. Creation"}],"url":"https://webidl.spec.whatwg.org/#invoke-a-callback-function"},
"11e0b87f": {"dfnID":"11e0b87f","dfnText":"unrestricted double","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-unrestricted-double"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-idl-unrestricted-double\u2460"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-idl-unrestricted-double\u2461"}],"title":"5. The rewriter API"}],"url":"https://webidl.spec.whatwg.org/#idl-unrestricted-double"},
"1243a891": {"dfnID":"1243a891","dfnText":"exist","external":true,"refSections":[{"refs":[{"id":"ref-for-map-exists"},{"id":"ref-for-map-exists\u2460"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-map-exists\u2461"},{"id":"ref-for-map-exists\u2462"},{"id":"ref-for-map-exists\u2463"}],"title":"3.3. The Summarizer class"},{"refs":[{"id":"ref-for-map-exists\u2464"},{"id":"ref-for-map-exists\u2465"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-map-exists\u2466"},{"id":"ref-for-map-exists\u2467"},{"id":"ref-for-map-exists\u2468"}],"title":"4.3. The Writer class"},{"refs":[{"id":"ref-for-map-exists\u2460\u24ea"},{"id":"ref-for-map-exists\u2460\u2460"},{"id":"ref-for-map-exists\u2460\u2461"},{"id":"ref-for-map-exists\u2460\u2462"},{"id":"ref-for-map-exists\u2460\u2463"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-map-exists\u2460\u2464"},{"id":"ref-for-map-exists\u2460\u2465"},{"id":"ref-for-map-exists\u2460\u2466"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-map-exists\u2460\u2467"},{"id":"ref-for-map-exists\u2460\u2468"},{"id":"ref-for-map-exists\u2461\u24ea"}],"title":"6.3. Language tags"}],"url":"https://infra.spec.whatwg.org/#map-exists"},
"12d6b9a8": {"dfnID":"12d6b9a8","dfnText":"values","external":true,"refSections":[{"refs":[{"id":"ref-for-map-getting-the-values"}],"title":"6.5. Language availability"}],"url":"https://infra.spec.whatwg.org/#map-getting-the-values"},
"1422ec4e": {"dfnID":"1422ec4e","dfnText":"interface","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-interface"}],"title":"2. Shared APIs"},{"refs":[{"id":"ref-for-dfn-interface\u2460"}],"title":"6.1. Creation"}],"url":"https://webidl.spec.whatwg.org/#dfn-interface"},
"1570624a": {"dfnID":"1570624a","dfnText":"default allowlist","external":true,"refSections":[{"refs":[{"id":"ref-for-policy-controlled-feature-default-allowlist"}],"title":"3.5. Permissions policy integration"},{"refs":[{"id":"ref-for-policy-controlled-feature-default-allowlist\u2460"}],"title":"4.5. Permissions policy integration"}],"url":"https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist"},
"15e48c39": {"dfnID":"15e48c39","dfnText":"set","external":true,"refSections":[{"refs":[{"id":"ref-for-ordered-set"},{"id":"ref-for-ordered-set\u2460"}],"title":"6.3. Language tags"},{"refs":[{"id":"ref-for-ordered-set\u2461"},{"id":"ref-for-ordered-set\u2462"},{"id":"ref-for-ordered-set\u2463"},{"id":"ref-for-ordered-set\u2464"},{"id":"ref-for-ordered-set\u2465"},{"id":"ref-for-ordered-set\u2466"}],"title":"6.5. Language availability"}],"url":"https://infra.spec.whatwg.org/#ordered-set"},
"167d1cb0": {"dfnID":"167d1cb0","dfnText":"replace","external":true,"refSections":[{"refs":[{"id":"ref-for-list-replace"}],"title":"6.5. Language availability"}],"url":"https://infra.spec.whatwg.org/#list-replace"},
"168f1b6e": {"dfnID":"168f1b6e","dfnText":"global object","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-realm-global"},{"id":"ref-for-concept-realm-global\u2460"},{"id":"ref-for-concept-realm-global\u2461"},{"id":"ref-for-concept-realm-global\u2462"},{"id":"ref-for-concept-realm-global\u2463"},{"id":"ref-for-concept-realm-global\u2464"}],"title":"6.1. Creation"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"},
"16d07e10": {"dfnID":"16d07e10","dfnText":"for each","external":true,"refSections":[{"refs":[{"id":"ref-for-list-iterate"}],"title":"6.3. Language tags"},{"refs":[{"id":"ref-for-list-iterate\u2460"},{"id":"ref-for-list-iterate\u2461"},{"id":"ref-for-list-iterate\u2462"},{"id":"ref-for-list-iterate\u2463"},{"id":"ref-for-list-iterate\u2464"},{"id":"ref-for-list-iterate\u2465"}],"title":"6.5. Language availability"}],"url":"https://infra.spec.whatwg.org/#list-iterate"},
"1adcc035": {"dfnID":"1adcc035","dfnText":"abort when","external":true,"refSections":[{"refs":[{"id":"ref-for-abort-when"}],"title":"6.1. Creation"}],"url":"https://infra.spec.whatwg.org/#abort-when"},
"2296404c": {"dfnID":"2296404c","dfnText":"signal abort","external":true,"refSections":[{"refs":[{"id":"ref-for-abortcontroller-signal-abort"}],"title":"2. Shared APIs"}],"url":"https://dom.spec.whatwg.org/#abortcontroller-signal-abort"},
"27072ded": {"dfnID":"27072ded","dfnText":"CanonicalizeUnicodeLocaleId","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-canonicalizeunicodelocaleid"}],"title":"6.3. Language tags"}],"url":"https://tc39.es/ecma402/#sec-canonicalizeunicodelocaleid"},
"28716de1": {"dfnID":"28716de1","dfnText":"monotonic clock","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-monotonic-clock"},{"id":"ref-for-dfn-monotonic-clock\u2460"},{"id":"ref-for-dfn-monotonic-clock\u2461"}],"title":"6.1. Creation"}],"url":"https://w3c.github.io/hr-time/#dfn-monotonic-clock"},
"28e64574": {"dfnID":"28e64574","dfnText":"abort reason","external":true,"refSections":[{"refs":[{"id":"ref-for-abortsignal-abort-reason"},{"id":"ref-for-abortsignal-abort-reason\u2460"},{"id":"ref-for-abortsignal-abort-reason\u2461"},{"id":"ref-for-abortsignal-abort-reason\u2462"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-abortsignal-abort-reason\u2463"},{"id":"ref-for-abortsignal-abort-reason\u2464"},{"id":"ref-for-abortsignal-abort-reason\u2465"},{"id":"ref-for-abortsignal-abort-reason\u2466"},{"id":"ref-for-abortsignal-abort-reason\u2467"},{"id":"ref-for-abortsignal-abort-reason\u2468"},{"id":"ref-for-abortsignal-abort-reason\u2460\u24ea"},{"id":"ref-for-abortsignal-abort-reason\u2460\u2460"},{"id":"ref-for-abortsignal-abort-reason\u2460\u2461"},{"id":"ref-for-abortsignal-abort-reason\u2460\u2462"}],"title":"6.2. Obtaining results and usage"}],"url":"https://dom.spec.whatwg.org/#abortsignal-abort-reason"},
"2bc0cdf4": {"dfnID":"2bc0cdf4","dfnText":"EventTarget","external":true,"refSections":[{"refs":[{"id":"ref-for-eventtarget"}],"title":"2. Shared APIs"}],"url":"https://dom.spec.whatwg.org/#eventtarget"},
"2e66eaf1": {"dfnID":"2e66eaf1","dfnText":"AbortController","external":true,"refSections":[{"refs":[{"id":"ref-for-abortcontroller"},{"id":"ref-for-abortcontroller\u2460"}],"title":"2. Shared APIs"}],"url":"https://dom.spec.whatwg.org/#abortcontroller"},
"3182eb71": {"dfnID":"3182eb71","dfnText":"NotSupportedError","external":true,"refSections":[{"refs":[{"id":"ref-for-notsupportederror"}],"title":"3.4.4. Errors"},{"refs":[{"id":"ref-for-notsupportederror\u2460"}],"title":"4.4.4. Errors"},{"refs":[{"id":"ref-for-notsupportederror\u2461"}],"title":"6.1. Creation"}],"url":"https://webidl.spec.whatwg.org/#notsupportederror"},
"31db57e6": {"dfnID":"31db57e6","dfnText":"keys","external":true,"refSections":[{"refs":[{"id":"ref-for-map-getting-the-keys"}],"title":"6.5. Language availability"}],"url":"https://infra.spec.whatwg.org/#map-getting-the-keys"},
"333b39ba": {"dfnID":"333b39ba","dfnText":"'self'","external":true,"refSections":[{"refs":[{"id":"ref-for-default-allowlist-self"}],"title":"3.5. Permissions policy integration"},{"refs":[{"id":"ref-for-default-allowlist-self\u2460"}],"title":"4.5. Permissions policy integration"}],"url":"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist-self"},
"3349d69f": {"dfnID":"3349d69f","dfnText":"associated Document","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-document-window"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-concept-document-window\u2460"},{"id":"ref-for-concept-document-window\u2461"},{"id":"ref-for-concept-document-window\u2462"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-concept-document-window\u2463"}],"title":"6.4. Availability"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"},
"34443090": {"dfnID":"34443090","dfnText":"OperationError","external":true,"refSections":[{"refs":[{"id":"ref-for-operationerror"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-operationerror\u2460"}],"title":"4.1. Creation"}],"url":"https://webidl.spec.whatwg.org/#operationerror"},
"3610bd67": {"dfnID":"3610bd67","dfnText":"allowed to use","external":true,"refSections":[{"refs":[{"id":"ref-for-allowed-to-use"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-allowed-to-use\u2460"}],"title":"6.4. Availability"}],"url":"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use"},
"3aec4bbc": {"dfnID":"3aec4bbc","dfnText":"current realm","external":true,"refSections":[{"refs":[{"id":"ref-for-current-realm"}],"title":"6.1. Creation"}],"url":"https://tc39.es/ecma262/#current-realm"},
"3b90bdcd": {"dfnID":"3b90bdcd","dfnText":"resolve","external":true,"refSections":[{"refs":[{"id":"ref-for-resolve"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-resolve\u2460"},{"id":"ref-for-resolve\u2461"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-resolve\u2462"}],"title":"6.4. Availability"}],"url":"https://webidl.spec.whatwg.org/#resolve"},
"3bd18bd6": {"dfnID":"3bd18bd6","dfnText":"error","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-error"},{"id":"ref-for-readablestream-error\u2460"},{"id":"ref-for-readablestream-error\u2461"},{"id":"ref-for-readablestream-error\u2462"}],"title":"6.2. Obtaining results and usage"}],"url":"https://streams.spec.whatwg.org/#readablestream-error"},
"3fca5a9e": {"dfnID":"3fca5a9e","dfnText":"map","external":true,"refSections":[{"refs":[{"id":"ref-for-ordered-map"},{"id":"ref-for-ordered-map\u2460"},{"id":"ref-for-ordered-map\u2461"},{"id":"ref-for-ordered-map\u2462"},{"id":"ref-for-ordered-map\u2463"},{"id":"ref-for-ordered-map\u2464"},{"id":"ref-for-ordered-map\u2465"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-ordered-map\u2466"},{"id":"ref-for-ordered-map\u2467"},{"id":"ref-for-ordered-map\u2468"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-ordered-map\u2460\u24ea"}],"title":"6.3. Language tags"},{"refs":[{"id":"ref-for-ordered-map\u2460\u2460"}],"title":"6.5. Language availability"}],"url":"https://infra.spec.whatwg.org/#ordered-map"},
"4013a022": {"dfnID":"4013a022","dfnText":"this","external":true,"refSections":[{"refs":[{"id":"ref-for-this"}],"title":"2. Shared APIs"},{"refs":[{"id":"ref-for-this\u2460"},{"id":"ref-for-this\u2461"},{"id":"ref-for-this\u2462"},{"id":"ref-for-this\u2463"},{"id":"ref-for-this\u2464"},{"id":"ref-for-this\u2465"},{"id":"ref-for-this\u2466"},{"id":"ref-for-this\u2467"},{"id":"ref-for-this\u2468"},{"id":"ref-for-this\u2460\u24ea"},{"id":"ref-for-this\u2460\u2460"},{"id":"ref-for-this\u2460\u2461"},{"id":"ref-for-this\u2460\u2462"},{"id":"ref-for-this\u2460\u2463"},{"id":"ref-for-this\u2460\u2464"},{"id":"ref-for-this\u2460\u2465"},{"id":"ref-for-this\u2460\u2466"},{"id":"ref-for-this\u2460\u2467"},{"id":"ref-for-this\u2460\u2468"},{"id":"ref-for-this\u2461\u24ea"},{"id":"ref-for-this\u2461\u2460"},{"id":"ref-for-this\u2461\u2461"},{"id":"ref-for-this\u2461\u2462"},{"id":"ref-for-this\u2461\u2463"},{"id":"ref-for-this\u2461\u2464"},{"id":"ref-for-this\u2461\u2465"},{"id":"ref-for-this\u2461\u2466"},{"id":"ref-for-this\u2461\u2467"}],"title":"3.3. The Summarizer class"},{"refs":[{"id":"ref-for-this\u2461\u2468"},{"id":"ref-for-this\u2462\u24ea"},{"id":"ref-for-this\u2462\u2460"},{"id":"ref-for-this\u2462\u2461"},{"id":"ref-for-this\u2462\u2462"},{"id":"ref-for-this\u2462\u2463"},{"id":"ref-for-this\u2462\u2464"},{"id":"ref-for-this\u2462\u2465"},{"id":"ref-for-this\u2462\u2466"},{"id":"ref-for-this\u2462\u2467"},{"id":"ref-for-this\u2462\u2468"},{"id":"ref-for-this\u2463\u24ea"},{"id":"ref-for-this\u2463\u2460"},{"id":"ref-for-this\u2463\u2461"},{"id":"ref-for-this\u2463\u2462"},{"id":"ref-for-this\u2463\u2463"},{"id":"ref-for-this\u2463\u2464"},{"id":"ref-for-this\u2463\u2465"},{"id":"ref-for-this\u2463\u2466"},{"id":"ref-for-this\u2463\u2467"},{"id":"ref-for-this\u2463\u2468"},{"id":"ref-for-this\u2464\u24ea"},{"id":"ref-for-this\u2464\u2460"},{"id":"ref-for-this\u2464\u2461"},{"id":"ref-for-this\u2464\u2462"},{"id":"ref-for-this\u2464\u2463"},{"id":"ref-for-this\u2464\u2464"},{"id":"ref-for-this\u2464\u2465"}],"title":"4.3. The Writer class"}],"url":"https://webidl.spec.whatwg.org/#this"},
"44959ae4": {"dfnID":"44959ae4","dfnText":"name","external":true,"refSections":[{"refs":[{"id":"ref-for-domexception-name"},{"id":"ref-for-domexception-name\u2460"}],"title":"3.4.4. Errors"},{"refs":[{"id":"ref-for-domexception-name\u2461"},{"id":"ref-for-domexception-name\u2462"}],"title":"4.4.4. Errors"},{"refs":[{"id":"ref-for-domexception-name\u2463"}],"title":"6.6. Errors"}],"url":"https://webidl.spec.whatwg.org/#domexception-name"},
"479aeb1d": {"dfnID":"479aeb1d","dfnText":"unsafe current time","external":true,"refSections":[{"refs":[{"id":"ref-for-monotonic-clock-unsafe-current-time"},{"id":"ref-for-monotonic-clock-unsafe-current-time\u2460"},{"id":"ref-for-monotonic-clock-unsafe-current-time\u2461"}],"title":"6.1. Creation"}],"url":"https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time"},
"48438eb3": {"dfnID":"48438eb3","dfnText":"queue a global task","external":true,"refSections":[{"refs":[{"id":"ref-for-queue-a-global-task"},{"id":"ref-for-queue-a-global-task\u2460"},{"id":"ref-for-queue-a-global-task\u2461"},{"id":"ref-for-queue-a-global-task\u2462"},{"id":"ref-for-queue-a-global-task\u2463"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-queue-a-global-task\u2464"},{"id":"ref-for-queue-a-global-task\u2465"},{"id":"ref-for-queue-a-global-task\u2466"},{"id":"ref-for-queue-a-global-task\u2467"},{"id":"ref-for-queue-a-global-task\u2468"},{"id":"ref-for-queue-a-global-task\u2460\u24ea"},{"id":"ref-for-queue-a-global-task\u2460\u2460"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-queue-a-global-task\u2460\u2461"}],"title":"6.4. Availability"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"},
"4ad913ae": {"dfnID":"4ad913ae","dfnText":"surrounding agent","external":true,"refSections":[{"refs":[{"id":"ref-for-surrounding-agent"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-surrounding-agent\u2460"}],"title":"4.1. Creation"}],"url":"https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#surrounding-agent"},
"535dd335": {"dfnID":"535dd335","dfnText":"aborted","external":true,"refSections":[{"refs":[{"id":"ref-for-abortsignal-aborted"},{"id":"ref-for-abortsignal-aborted\u2460"},{"id":"ref-for-abortsignal-aborted\u2461"},{"id":"ref-for-abortsignal-aborted\u2462"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-abortsignal-aborted\u2463"},{"id":"ref-for-abortsignal-aborted\u2464"},{"id":"ref-for-abortsignal-aborted\u2465"}],"title":"6.2. Obtaining results and usage"}],"url":"https://dom.spec.whatwg.org/#abortsignal-aborted"},
"5528aefc": {"dfnID":"5528aefc","dfnText":"loaded","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-progressevent-loaded"},{"id":"ref-for-dom-progressevent-loaded\u2460"}],"title":"6.1. Creation"}],"url":"https://xhr.spec.whatwg.org/#dom-progressevent-loaded"},
"554817f6": {"dfnID":"554817f6","dfnText":"IsStructurallyValidLanguageTag","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-isstructurallyvalidlanguagetag"},{"id":"ref-for-sec-isstructurallyvalidlanguagetag\u2460"}],"title":"6.3. Language tags"}],"url":"https://tc39.es/ecma402/#sec-isstructurallyvalidlanguagetag"},
"56f81a8e": {"dfnID":"56f81a8e","dfnText":"new","external":true,"refSections":[{"refs":[{"id":"ref-for-new"},{"id":"ref-for-new\u2460"}],"title":"2. Shared APIs"},{"refs":[{"id":"ref-for-new\u2461"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-new\u2462"}],"title":"6.2. Obtaining results and usage"}],"url":"https://webidl.spec.whatwg.org/#new"},
"5991ccfb": {"dfnID":"5991ccfb","dfnText":"relevant realm","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-relevant-realm"},{"id":"ref-for-concept-relevant-realm\u2460"}],"title":"2. Shared APIs"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2461"},{"id":"ref-for-concept-relevant-realm\u2462"},{"id":"ref-for-concept-relevant-realm\u2463"},{"id":"ref-for-concept-relevant-realm\u2464"},{"id":"ref-for-concept-relevant-realm\u2465"},{"id":"ref-for-concept-relevant-realm\u2466"}],"title":"6.2. Obtaining results and usage"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"},
"59ed4e57": {"dfnID":"59ed4e57","dfnText":"ReadableStream","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-readablestream\u2460"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-readablestream\u2461"}],"title":"5. The rewriter API"},{"refs":[{"id":"ref-for-readablestream\u2462"}],"title":"6.2. Obtaining results and usage"}],"url":"https://streams.spec.whatwg.org/#readablestream"},
"5afbefcd": {"dfnID":"5afbefcd","dfnText":"item (for list)","external":true,"refSections":[{"refs":[{"id":"ref-for-list-item"}],"title":"6.3. Language tags"}],"url":"https://infra.spec.whatwg.org/#list-item"},
"5d7209e9": {"dfnID":"5d7209e9","dfnText":"Window","external":true,"refSections":[{"refs":[{"id":"ref-for-window"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-window\u2460"},{"id":"ref-for-window\u2461"},{"id":"ref-for-window\u2462"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-window\u2463"}],"title":"6.4. Availability"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"},
"5eb733b4": {"dfnID":"5eb733b4","dfnText":"union","external":true,"refSections":[{"refs":[{"id":"ref-for-set-union"}],"title":"6.5. Language availability"}],"url":"https://infra.spec.whatwg.org/#set-union"},
"5f90bbfb": {"dfnID":"5f90bbfb","dfnText":"undefined","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-undefined"},{"id":"ref-for-idl-undefined\u2460"}],"title":"2. Shared APIs"}],"url":"https://webidl.spec.whatwg.org/#idl-undefined"},
"5fd23811": {"dfnID":"5fd23811","dfnText":"fire an event","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-event-fire"}],"title":"6.1. Creation"}],"url":"https://dom.spec.whatwg.org/#concept-event-fire"},
"649608b9": {"dfnID":"649608b9","dfnText":"list","external":true,"refSections":[{"refs":[{"id":"ref-for-list"}],"title":"6.3. Language tags"},{"refs":[{"id":"ref-for-list\u2460"}],"title":"6.4. Availability"}],"url":"https://infra.spec.whatwg.org/#list"},
"67fa4a40": {"dfnID":"67fa4a40","dfnText":"total","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-progressevent-total"}],"title":"6.1. Creation"}],"url":"https://xhr.spec.whatwg.org/#dom-progressevent-total"},
"692595fe": {"dfnID":"692595fe","dfnText":"ordered set","external":true,"refSections":[{"refs":[{"id":"ref-for-ordered-set"},{"id":"ref-for-ordered-set\u2460"}],"title":"6.3. Language tags"},{"refs":[{"id":"ref-for-ordered-set\u2461"},{"id":"ref-for-ordered-set\u2462"},{"id":"ref-for-ordered-set\u2463"},{"id":"ref-for-ordered-set\u2464"},{"id":"ref-for-ordered-set\u2465"},{"id":"ref-for-ordered-set\u2466"}],"title":"6.5. Language availability"}],"url":"https://infra.spec.whatwg.org/#ordered-set"},
"6a5a59a0": {"dfnID":"6a5a59a0","dfnText":"event handler","external":true,"refSections":[{"refs":[{"id":"ref-for-event-handlers"},{"id":"ref-for-event-handlers\u2460"}],"title":"2. Shared APIs"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"},
"6b6bb798": {"dfnID":"6b6bb798","dfnText":"enqueue","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-enqueue"}],"title":"6.2. Obtaining results and usage"}],"url":"https://streams.spec.whatwg.org/#readablestream-enqueue"},
"6b815fdd": {"dfnID":"6b815fdd","dfnText":"is empty","external":true,"refSections":[{"refs":[{"id":"ref-for-list-is-empty"},{"id":"ref-for-list-is-empty\u2460"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-list-is-empty\u2461"},{"id":"ref-for-list-is-empty\u2462"}],"title":"4.1. Creation"}],"url":"https://infra.spec.whatwg.org/#list-is-empty"},
"70d2311e": {"dfnID":"70d2311e","dfnText":"[[AvailableLocales]]","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-internal-slots"}],"title":"6.3. Language tags"}],"url":"https://tc39.es/ecma402/#sec-internal-slots"},
"715f22e4": {"dfnID":"715f22e4","dfnText":"if aborted","external":true,"refSections":[{"refs":[{"id":"ref-for-if-aborted"}],"title":"6.1. Creation"}],"url":"https://infra.spec.whatwg.org/#if-aborted"},
"775945f7": {"dfnID":"775945f7","dfnText":"lengthComputable","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-progressevent-lengthcomputable"}],"title":"6.1. Creation"}],"url":"https://xhr.spec.whatwg.org/#dom-progressevent-lengthcomputable"},
"77b4c09a": {"dfnID":"77b4c09a","dfnText":"assert","external":true,"refSections":[{"refs":[{"id":"ref-for-assert"},{"id":"ref-for-assert\u2460"},{"id":"ref-for-assert\u2461"},{"id":"ref-for-assert\u2462"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-assert\u2463"},{"id":"ref-for-assert\u2464"},{"id":"ref-for-assert\u2465"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-assert\u2466"},{"id":"ref-for-assert\u2467"}],"title":"3.4.1. The algorithm"},{"refs":[{"id":"ref-for-assert\u2468"}],"title":"3.4.2. Usage"},{"refs":[{"id":"ref-for-assert\u2460\u24ea"},{"id":"ref-for-assert\u2460\u2460"},{"id":"ref-for-assert\u2460\u2461"},{"id":"ref-for-assert\u2460\u2462"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-assert\u2460\u2463"},{"id":"ref-for-assert\u2460\u2464"},{"id":"ref-for-assert\u2460\u2465"}],"title":"4.2. Availability"},{"refs":[{"id":"ref-for-assert\u2460\u2466"},{"id":"ref-for-assert\u2460\u2467"}],"title":"4.4.1. The algorithm"},{"refs":[{"id":"ref-for-assert\u2460\u2468"}],"title":"4.4.2. Usage"},{"refs":[{"id":"ref-for-assert\u2461\u24ea"},{"id":"ref-for-assert\u2461\u2460"},{"id":"ref-for-assert\u2461\u2461"},{"id":"ref-for-assert\u2461\u2462"},{"id":"ref-for-assert\u2461\u2463"},{"id":"ref-for-assert\u2461\u2464"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-assert\u2461\u2465"},{"id":"ref-for-assert\u2461\u2466"},{"id":"ref-for-assert\u2461\u2467"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-assert\u2461\u2468"},{"id":"ref-for-assert\u2462\u24ea"}],"title":"6.3. Language tags"},{"refs":[{"id":"ref-for-assert\u2462\u2460"}],"title":"6.4. Availability"},{"refs":[{"id":"ref-for-assert\u2462\u2461"}],"title":"6.5. Language availability"},{"refs":[{"id":"ref-for-assert\u2462\u2462"}],"title":"6.6. Errors"}],"url":"https://infra.spec.whatwg.org/#assert"},
"797018a7": {"dfnID":"797018a7","dfnText":"InvalidStateError","external":true,"refSections":[{"refs":[{"id":"ref-for-invalidstateerror"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-invalidstateerror\u2460"},{"id":"ref-for-invalidstateerror\u2461"},{"id":"ref-for-invalidstateerror\u2462"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-invalidstateerror\u2463"}],"title":"6.4. Availability"}],"url":"https://webidl.spec.whatwg.org/#invalidstateerror"},
"7b0d918d": {"dfnID":"7b0d918d","dfnText":"break","external":true,"refSections":[{"refs":[{"id":"ref-for-iteration-break"},{"id":"ref-for-iteration-break\u2460"},{"id":"ref-for-iteration-break\u2461"}],"title":"3.4.1. The algorithm"},{"refs":[{"id":"ref-for-iteration-break\u2462"},{"id":"ref-for-iteration-break\u2463"},{"id":"ref-for-iteration-break\u2464"}],"title":"4.4.1. The algorithm"},{"refs":[{"id":"ref-for-iteration-break\u2465"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-iteration-break\u2466"}],"title":"6.5. Language availability"}],"url":"https://infra.spec.whatwg.org/#iteration-break"},
"7b0dc914": {"dfnID":"7b0dc914","dfnText":"ProgressEvent","external":true,"refSections":[{"refs":[{"id":"ref-for-progressevent"}],"title":"6.1. Creation"}],"url":"https://xhr.spec.whatwg.org/#progressevent"},
"81dd847b": {"dfnID":"81dd847b","dfnText":"UnknownError","external":true,"refSections":[{"refs":[{"id":"ref-for-unknownerror"}],"title":"3.4.4. Errors"},{"refs":[{"id":"ref-for-unknownerror\u2460"}],"title":"4.4.4. Errors"},{"refs":[{"id":"ref-for-unknownerror\u2461"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-unknownerror\u2462"}],"title":"6.4. Availability"}],"url":"https://webidl.spec.whatwg.org/#unknownerror"},
"82ca3efc": {"dfnID":"82ca3efc","dfnText":"TypeError","external":true,"refSections":[{"refs":[{"id":"ref-for-exceptiondef-typeerror"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-exceptiondef-typeerror\u2460"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-exceptiondef-typeerror\u2461"},{"id":"ref-for-exceptiondef-typeerror\u2462"},{"id":"ref-for-exceptiondef-typeerror\u2463"}],"title":"6.3. Language tags"}],"url":"https://webidl.spec.whatwg.org/#exceptiondef-typeerror"},
"84b454ff": {"dfnID":"84b454ff","dfnText":"ordered map","external":true,"refSections":[{"refs":[{"id":"ref-for-ordered-map"},{"id":"ref-for-ordered-map\u2460"},{"id":"ref-for-ordered-map\u2461"},{"id":"ref-for-ordered-map\u2462"},{"id":"ref-for-ordered-map\u2463"},{"id":"ref-for-ordered-map\u2464"},{"id":"ref-for-ordered-map\u2465"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-ordered-map\u2466"},{"id":"ref-for-ordered-map\u2467"},{"id":"ref-for-ordered-map\u2468"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-ordered-map\u2460\u24ea"}],"title":"6.3. Language tags"},{"refs":[{"id":"ref-for-ordered-map\u2460\u2460"}],"title":"6.5. Language availability"}],"url":"https://infra.spec.whatwg.org/#ordered-map"},
"860300d4": {"dfnID":"860300d4","dfnText":"implementation-defined","external":true,"refSections":[{"refs":[{"id":"ref-for-implementation-defined"},{"id":"ref-for-implementation-defined\u2460"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-implementation-defined\u2461"},{"id":"ref-for-implementation-defined\u2462"}],"title":"3.4.1. The algorithm"},{"refs":[{"id":"ref-for-implementation-defined\u2463"},{"id":"ref-for-implementation-defined\u2464"}],"title":"3.4.2. Usage"},{"refs":[{"id":"ref-for-implementation-defined\u2465"}],"title":"3.4.3. Options"},{"refs":[{"id":"ref-for-implementation-defined\u2466"}],"title":"3.4.4. Errors"},{"refs":[{"id":"ref-for-implementation-defined\u2467"},{"id":"ref-for-implementation-defined\u2468"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-implementation-defined\u2460\u24ea"},{"id":"ref-for-implementation-defined\u2460\u2460"}],"title":"4.4.1. The algorithm"},{"refs":[{"id":"ref-for-implementation-defined\u2460\u2461"},{"id":"ref-for-implementation-defined\u2460\u2462"}],"title":"4.4.2. Usage"},{"refs":[{"id":"ref-for-implementation-defined\u2460\u2463"}],"title":"4.4.3. Options"},{"refs":[{"id":"ref-for-implementation-defined\u2460\u2464"}],"title":"4.4.4. Errors"},{"refs":[{"id":"ref-for-implementation-defined\u2460\u2465"}],"title":"6.5. Language availability"}],"url":"https://infra.spec.whatwg.org/#implementation-defined"},
"87bc23a5": {"dfnID":"87bc23a5","dfnText":"add","external":true,"refSections":[{"refs":[{"id":"ref-for-abortsignal-add"},{"id":"ref-for-abortsignal-add\u2460"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-abortsignal-add\u2461"},{"id":"ref-for-abortsignal-add\u2462"},{"id":"ref-for-abortsignal-add\u2463"}],"title":"6.2. Obtaining results and usage"}],"url":"https://dom.spec.whatwg.org/#abortsignal-add"},
"8855a9aa": {"dfnID":"8855a9aa","dfnText":"DOMString","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-DOMString"},{"id":"ref-for-idl-DOMString\u2460"},{"id":"ref-for-idl-DOMString\u2461"},{"id":"ref-for-idl-DOMString\u2462"},{"id":"ref-for-idl-DOMString\u2463"},{"id":"ref-for-idl-DOMString\u2464"},{"id":"ref-for-idl-DOMString\u2465"},{"id":"ref-for-idl-DOMString\u2466"},{"id":"ref-for-idl-DOMString\u2467"},{"id":"ref-for-idl-DOMString\u2468"},{"id":"ref-for-idl-DOMString\u2460\u24ea"},{"id":"ref-for-idl-DOMString\u2460\u2460"},{"id":"ref-for-idl-DOMString\u2460\u2461"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-idl-DOMString\u2460\u2462"},{"id":"ref-for-idl-DOMString\u2460\u2463"}],"title":"3.3. The Summarizer class"},{"refs":[{"id":"ref-for-idl-DOMString\u2460\u2464"},{"id":"ref-for-idl-DOMString\u2460\u2465"},{"id":"ref-for-idl-DOMString\u2460\u2466"},{"id":"ref-for-idl-DOMString\u2460\u2467"},{"id":"ref-for-idl-DOMString\u2460\u2468"},{"id":"ref-for-idl-DOMString\u2461\u24ea"},{"id":"ref-for-idl-DOMString\u2461\u2460"},{"id":"ref-for-idl-DOMString\u2461\u2461"},{"id":"ref-for-idl-DOMString\u2461\u2462"},{"id":"ref-for-idl-DOMString\u2461\u2463"},{"id":"ref-for-idl-DOMString\u2461\u2464"},{"id":"ref-for-idl-DOMString\u2461\u2465"},{"id":"ref-for-idl-DOMString\u2461\u2466"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-idl-DOMString\u2461\u2467"},{"id":"ref-for-idl-DOMString\u2461\u2468"}],"title":"4.3. The Writer class"},{"refs":[{"id":"ref-for-idl-DOMString\u2462\u24ea"},{"id":"ref-for-idl-DOMString\u2462\u2460"},{"id":"ref-for-idl-DOMString\u2462\u2461"},{"id":"ref-for-idl-DOMString\u2462\u2462"},{"id":"ref-for-idl-DOMString\u2462\u2463"},{"id":"ref-for-idl-DOMString\u2462\u2464"},{"id":"ref-for-idl-DOMString\u2462\u2465"},{"id":"ref-for-idl-DOMString\u2462\u2466"},{"id":"ref-for-idl-DOMString\u2462\u2467"},{"id":"ref-for-idl-DOMString\u2462\u2468"},{"id":"ref-for-idl-DOMString\u2463\u24ea"},{"id":"ref-for-idl-DOMString\u2463\u2460"},{"id":"ref-for-idl-DOMString\u2463\u2461"}],"title":"5. The rewriter API"}],"url":"https://webidl.spec.whatwg.org/#idl-DOMString"},
"889e932f": {"dfnID":"889e932f","dfnText":"Exposed","external":true,"refSections":[{"refs":[{"id":"ref-for-Exposed"}],"title":"2. Shared APIs"},{"refs":[{"id":"ref-for-Exposed\u2460"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-Exposed\u2461"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-Exposed\u2462"}],"title":"5. The rewriter API"}],"url":"https://webidl.spec.whatwg.org/#Exposed"},
"8c800cdf": {"dfnID":"8c800cdf","dfnText":"double","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-double"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-idl-double\u2460"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-idl-double\u2461"}],"title":"5. The rewriter API"}],"url":"https://webidl.spec.whatwg.org/#idl-double"},
"8f5c2179": {"dfnID":"8f5c2179","dfnText":"a promise resolved with","external":true,"refSections":[{"refs":[{"id":"ref-for-a-promise-resolved-with"}],"title":"6.4. Availability"}],"url":"https://webidl.spec.whatwg.org/#a-promise-resolved-with"},
"93e4c9ae": {"dfnID":"93e4c9ae","dfnText":"Unicode canonicalized locale identifier","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-language-tags"}],"title":"6.3. Language tags"},{"refs":[{"id":"ref-for-sec-language-tags\u2460"},{"id":"ref-for-sec-language-tags\u2461"},{"id":"ref-for-sec-language-tags\u2462"},{"id":"ref-for-sec-language-tags\u2463"}],"title":"6.5. Language availability"}],"url":"https://tc39.es/ecma402/#sec-language-tags"},
"984221ca": {"dfnID":"984221ca","dfnText":"struct","external":true,"refSections":[{"refs":[{"id":"ref-for-struct"}],"title":"6.5. Language availability"},{"refs":[{"id":"ref-for-struct\u2460"},{"id":"ref-for-struct\u2461"}],"title":"6.6. Errors"}],"url":"https://infra.spec.whatwg.org/#struct"},
"9cce47fd": {"dfnID":"9cce47fd","dfnText":"sequence","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-sequence"},{"id":"ref-for-idl-sequence\u2460"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-idl-sequence\u2461"},{"id":"ref-for-idl-sequence\u2462"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-idl-sequence\u2463"},{"id":"ref-for-idl-sequence\u2464"}],"title":"5. The rewriter API"}],"url":"https://webidl.spec.whatwg.org/#idl-sequence"},
"9d386f55": {"dfnID":"9d386f55","dfnText":"event handler event type","external":true,"refSections":[{"refs":[{"id":"ref-for-event-handler-event-type"},{"id":"ref-for-event-handler-event-type\u2460"}],"title":"2. Shared APIs"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"},
"a32c65d4": {"dfnID":"a32c65d4","dfnText":"implements","external":true,"refSections":[{"refs":[{"id":"ref-for-implements"}],"title":"6.1. Creation"}],"url":"https://webidl.spec.whatwg.org/#implements"},
"a3b18719": {"dfnID":"a3b18719","dfnText":"append","external":true,"refSections":[{"refs":[{"id":"ref-for-set-append"},{"id":"ref-for-set-append\u2460"},{"id":"ref-for-set-append\u2461"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-set-append\u2462"}],"title":"6.3. Language tags"},{"refs":[{"id":"ref-for-set-append\u2463"},{"id":"ref-for-set-append\u2464"},{"id":"ref-for-set-append\u2465"},{"id":"ref-for-set-append\u2466"}],"title":"6.5. Language availability"}],"url":"https://infra.spec.whatwg.org/#set-append"},
"a5f015e3": {"dfnID":"a5f015e3","dfnText":"realm","external":true,"refSections":[{"refs":[{"id":"ref-for-realm"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-realm\u2460"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-realm\u2461"}],"title":"6.1. Creation"}],"url":"https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#realm"},
"a72449dd": {"dfnID":"a72449dd","dfnText":"in parallel","external":true,"refSections":[{"refs":[{"id":"ref-for-in-parallel"},{"id":"ref-for-in-parallel\u2460"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-in-parallel\u2461"},{"id":"ref-for-in-parallel\u2462"},{"id":"ref-for-in-parallel\u2463"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-in-parallel\u2464"}],"title":"3.4.1. The algorithm"},{"refs":[{"id":"ref-for-in-parallel\u2465"}],"title":"3.4.2. Usage"},{"refs":[{"id":"ref-for-in-parallel\u2466"},{"id":"ref-for-in-parallel\u2467"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-in-parallel\u2468"},{"id":"ref-for-in-parallel\u2460\u24ea"},{"id":"ref-for-in-parallel\u2460\u2460"}],"title":"4.2. Availability"},{"refs":[{"id":"ref-for-in-parallel\u2460\u2461"}],"title":"4.4.1. The algorithm"},{"refs":[{"id":"ref-for-in-parallel\u2460\u2462"}],"title":"4.4.2. Usage"},{"refs":[{"id":"ref-for-in-parallel\u2460\u2463"},{"id":"ref-for-in-parallel\u2460\u2464"},{"id":"ref-for-in-parallel\u2460\u2465"},{"id":"ref-for-in-parallel\u2460\u2466"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-in-parallel\u2460\u2467"},{"id":"ref-for-in-parallel\u2460\u2468"},{"id":"ref-for-in-parallel\u2461\u24ea"},{"id":"ref-for-in-parallel\u2461\u2460"},{"id":"ref-for-in-parallel\u2461\u2461"},{"id":"ref-for-in-parallel\u2461\u2462"},{"id":"ref-for-in-parallel\u2461\u2463"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-in-parallel\u2461\u2464"}],"title":"6.4. Availability"},{"refs":[{"id":"ref-for-in-parallel\u2461\u2465"}],"title":"6.6. Errors"}],"url":"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"},
"a7900362": {"dfnID":"a7900362","dfnText":"include","external":true,"refSections":[{"refs":[{"id":"ref-for-include"}],"title":"2. Shared APIs"},{"refs":[{"id":"ref-for-include\u2460"}],"title":"6.1. Creation"}],"url":"https://webidl.spec.whatwg.org/#include"},
"ae8def21": {"dfnID":"ae8def21","dfnText":"contain","external":true,"refSections":[{"refs":[{"id":"ref-for-list-contain"},{"id":"ref-for-list-contain\u2460"},{"id":"ref-for-list-contain\u2461"},{"id":"ref-for-list-contain\u2462"}],"title":"6.4. Availability"}],"url":"https://infra.spec.whatwg.org/#list-contain"},
"ai-task-source": {"dfnID":"ai-task-source","dfnText":"AI task source","external":false,"refSections":[{"refs":[{"id":"ref-for-ai-task-source"},{"id":"ref-for-ai-task-source\u2460"},{"id":"ref-for-ai-task-source\u2461"},{"id":"ref-for-ai-task-source\u2462"},{"id":"ref-for-ai-task-source\u2463"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-ai-task-source\u2464"},{"id":"ref-for-ai-task-source\u2465"},{"id":"ref-for-ai-task-source\u2466"},{"id":"ref-for-ai-task-source\u2467"},{"id":"ref-for-ai-task-source\u2468"},{"id":"ref-for-ai-task-source\u2460\u24ea"},{"id":"ref-for-ai-task-source\u2460\u2460"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-ai-task-source\u2460\u2461"}],"title":"6.4. Availability"}],"url":"#ai-task-source"},
"availability-minimum-availability": {"dfnID":"availability-minimum-availability","dfnText":"minimum availability","external":false,"refSections":[{"refs":[{"id":"ref-for-availability-minimum-availability"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-availability-minimum-availability\u2460"}],"title":"4.2. Availability"},{"refs":[{"id":"ref-for-availability-minimum-availability\u2461"}],"title":"6.5. Language availability"}],"url":"#availability-minimum-availability"},
"b262501e": {"dfnID":"b262501e","dfnText":"reject","external":true,"refSections":[{"refs":[{"id":"ref-for-reject"},{"id":"ref-for-reject\u2460"},{"id":"ref-for-reject\u2461"},{"id":"ref-for-reject\u2462"},{"id":"ref-for-reject\u2463"},{"id":"ref-for-reject\u2464"},{"id":"ref-for-reject\u2465"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-reject\u2466"},{"id":"ref-for-reject\u2467"},{"id":"ref-for-reject\u2468"},{"id":"ref-for-reject\u2460\u24ea"},{"id":"ref-for-reject\u2460\u2460"},{"id":"ref-for-reject\u2460\u2461"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-reject\u2460\u2462"}],"title":"6.4. Availability"}],"url":"https://webidl.spec.whatwg.org/#reject"},
"b3cf1c94": {"dfnID":"b3cf1c94","dfnText":"close","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-close"}],"title":"6.2. Obtaining results and usage"}],"url":"https://streams.spec.whatwg.org/#readablestream-close"},
"b5b30abb": {"dfnID":"b5b30abb","dfnText":"cancelAlgorithm","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-set-up-cancelalgorithm"}],"title":"6.2. Obtaining results and usage"}],"url":"https://streams.spec.whatwg.org/#readablestream-set-up-cancelalgorithm"},
"b75a7d23": {"dfnID":"b75a7d23","dfnText":"realm","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-global-object-realm"}],"title":"6.4. Availability"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm"},
"b75bb3bd": {"dfnID":"b75bb3bd","dfnText":"SecureContext","external":true,"refSections":[{"refs":[{"id":"ref-for-SecureContext"}],"title":"2. Shared APIs"},{"refs":[{"id":"ref-for-SecureContext\u2460"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-SecureContext\u2461"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-SecureContext\u2462"}],"title":"5. The rewriter API"}],"url":"https://webidl.spec.whatwg.org/#SecureContext"},
"b78d6a64": {"dfnID":"b78d6a64","dfnText":"event loop (for agent)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-agent-event-loop"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-concept-agent-event-loop\u2460"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-concept-agent-event-loop\u2461"}],"title":"6.1. Creation"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop"},
"ba556545": {"dfnID":"ba556545","dfnText":"NotAllowedError","external":true,"refSections":[{"refs":[{"id":"ref-for-notallowederror"}],"title":"3.4.4. Errors"},{"refs":[{"id":"ref-for-notallowederror\u2460"}],"title":"4.4.4. Errors"},{"refs":[{"id":"ref-for-notallowederror\u2461"}],"title":"6.1. Creation"}],"url":"https://webidl.spec.whatwg.org/#notallowederror"},
"bdbd19d1": {"dfnID":"bdbd19d1","dfnText":"Promise","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-promise"},{"id":"ref-for-idl-promise\u2460"},{"id":"ref-for-idl-promise\u2461"},{"id":"ref-for-idl-promise\u2462"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-idl-promise\u2463"},{"id":"ref-for-idl-promise\u2464"},{"id":"ref-for-idl-promise\u2465"},{"id":"ref-for-idl-promise\u2466"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-idl-promise\u2467"},{"id":"ref-for-idl-promise\u2468"},{"id":"ref-for-idl-promise\u2460\u24ea"},{"id":"ref-for-idl-promise\u2460\u2460"}],"title":"5. The rewriter API"},{"refs":[{"id":"ref-for-idl-promise\u2460\u2461"}],"title":"6.1. Creation"}],"url":"https://webidl.spec.whatwg.org/#idl-promise"},
"c28e5cf7": {"dfnID":"c28e5cf7","dfnText":"requested","external":true,"refSections":[{"refs":[{"id":"ref-for-quotaexceedederror-requested"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-quotaexceedederror-requested\u2460"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-quotaexceedederror-requested\u2461"},{"id":"ref-for-quotaexceedederror-requested\u2462"}],"title":"6.6. Errors"}],"url":"https://whatpr.org/webidl/1465.html#quotaexceedederror-requested"},
"c537c824": {"dfnID":"c537c824","dfnText":"creating a frozen array","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-create-frozen-array"},{"id":"ref-for-dfn-create-frozen-array\u2460"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-dfn-create-frozen-array\u2461"},{"id":"ref-for-dfn-create-frozen-array\u2462"}],"title":"4.1. Creation"}],"url":"https://webidl.spec.whatwg.org/#dfn-create-frozen-array"},
"c6d19e56": {"dfnID":"c6d19e56","dfnText":"event loop","external":true,"refSections":[{"refs":[{"id":"ref-for-event-loop"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-event-loop\u2460"},{"id":"ref-for-event-loop\u2461"},{"id":"ref-for-event-loop\u2462"},{"id":"ref-for-event-loop\u2463"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-event-loop\u2464"}],"title":"6.6. Errors"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"},
"c74f29b9": {"dfnID":"c74f29b9","dfnText":"NetworkError","external":true,"refSections":[{"refs":[{"id":"ref-for-networkerror"},{"id":"ref-for-networkerror\u2460"}],"title":"6.1. Creation"}],"url":"https://webidl.spec.whatwg.org/#networkerror"},
"c88f3887": {"dfnID":"c88f3887","dfnText":"item (for struct)","external":true,"refSections":[{"refs":[{"id":"ref-for-struct-item"}],"title":"6.5. Language availability"},{"refs":[{"id":"ref-for-struct-item\u2460"},{"id":"ref-for-struct-item\u2461"}],"title":"6.6. Errors"}],"url":"https://infra.spec.whatwg.org/#struct-item"},
"c8ffe1dd": {"dfnID":"c8ffe1dd","dfnText":"QuotaExceededError","external":true,"refSections":[{"refs":[{"id":"ref-for-quotaexceedederror"},{"id":"ref-for-quotaexceedederror\u2460"},{"id":"ref-for-quotaexceedederror\u2461"}],"title":"6.6. Errors"}],"url":"https://whatpr.org/webidl/1465.html#quotaexceedederror"},
"c9db6cec": {"dfnID":"c9db6cec","dfnText":"create a dependent abort signal","external":true,"refSections":[{"refs":[{"id":"ref-for-create-a-dependent-abort-signal"}],"title":"2. Shared APIs"},{"refs":[{"id":"ref-for-create-a-dependent-abort-signal\u2460"},{"id":"ref-for-create-a-dependent-abort-signal\u2461"},{"id":"ref-for-create-a-dependent-abort-signal\u2462"}],"title":"6.2. Obtaining results and usage"}],"url":"https://dom.spec.whatwg.org/#create-a-dependent-abort-signal"},
"callbackdef-createmonitorcallback": {"dfnID":"callbackdef-createmonitorcallback","dfnText":"CreateMonitorCallback","external":false,"refSections":[{"refs":[{"id":"ref-for-callbackdef-createmonitorcallback"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-callbackdef-createmonitorcallback\u2460"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-callbackdef-createmonitorcallback\u2461"}],"title":"5. The rewriter API"}],"url":"#callbackdef-createmonitorcallback"},
"cc890cc1": {"dfnID":"cc890cc1","dfnText":"policy-controlled feature","external":true,"refSections":[{"refs":[{"id":"ref-for-policy-controlled-feature"}],"title":"3.5. Permissions policy integration"},{"refs":[{"id":"ref-for-policy-controlled-feature\u2460"}],"title":"4.5. Permissions policy integration"},{"refs":[{"id":"ref-for-policy-controlled-feature\u2461"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-policy-controlled-feature\u2462"}],"title":"6.4. Availability"}],"url":"https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature"},
"cca3cdb2": {"dfnID":"cca3cdb2","dfnText":"AbortSignal","external":true,"refSections":[{"refs":[{"id":"ref-for-abortsignal"},{"id":"ref-for-abortsignal\u2460"},{"id":"ref-for-abortsignal\u2461"}],"title":"2. Shared APIs"},{"refs":[{"id":"ref-for-abortsignal\u2462"},{"id":"ref-for-abortsignal\u2463"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-abortsignal\u2464"},{"id":"ref-for-abortsignal\u2465"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-abortsignal\u2466"},{"id":"ref-for-abortsignal\u2467"}],"title":"5. The rewriter API"},{"refs":[{"id":"ref-for-abortsignal\u2468"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-abortsignal\u2460\u24ea"},{"id":"ref-for-abortsignal\u2460\u2460"},{"id":"ref-for-abortsignal\u2460\u2461"}],"title":"6.2. Obtaining results and usage"}],"url":"https://dom.spec.whatwg.org/#abortsignal"},
"ce3d2bbb": {"dfnID":"ce3d2bbb","dfnText":"current global object","external":true,"refSections":[{"refs":[{"id":"ref-for-current-global-object"}],"title":"6.4. Availability"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"},
"compute-ai-model-availability": {"dfnID":"compute-ai-model-availability","dfnText":"compute AI model availability","external":false,"refSections":[{"refs":[{"id":"ref-for-compute-ai-model-availability"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-compute-ai-model-availability\u2460"}],"title":"4.2. Availability"}],"url":"#compute-ai-model-availability"},
"compute-language-availability": {"dfnID":"compute-language-availability","dfnText":"compute language availability","external":false,"refSections":[{"refs":[{"id":"ref-for-compute-language-availability"},{"id":"ref-for-compute-language-availability\u2460"},{"id":"ref-for-compute-language-availability\u2461"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-compute-language-availability\u2462"},{"id":"ref-for-compute-language-availability\u2463"},{"id":"ref-for-compute-language-availability\u2464"}],"title":"4.2. Availability"}],"url":"#compute-language-availability"},
"compute-summarizer-options-availability": {"dfnID":"compute-summarizer-options-availability","dfnText":"compute summarizer options availability","external":false,"refSections":[{"refs":[{"id":"ref-for-compute-summarizer-options-availability"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-compute-summarizer-options-availability\u2460"}],"title":"3.2. Availability"}],"url":"#compute-summarizer-options-availability"},
"compute-writer-options-availability": {"dfnID":"compute-writer-options-availability","dfnText":"compute writer options availability","external":false,"refSections":[{"refs":[{"id":"ref-for-compute-writer-options-availability"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-compute-writer-options-availability\u2460"}],"title":"4.2. Availability"}],"url":"#compute-writer-options-availability"},
"convert-error-information-into-an-exception-object": {"dfnID":"convert-error-information-into-an-exception-object","dfnText":"convert error information into an exception object","external":false,"refSections":[{"refs":[{"id":"ref-for-convert-error-information-into-an-exception-object"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-convert-error-information-into-an-exception-object\u2460"},{"id":"ref-for-convert-error-information-into-an-exception-object\u2461"},{"id":"ref-for-convert-error-information-into-an-exception-object\u2462"}],"title":"6.2. Obtaining results and usage"}],"url":"#convert-error-information-into-an-exception-object"},
"create-a-summarizer-object": {"dfnID":"create-a-summarizer-object","dfnText":"create a summarizer object","external":false,"refSections":[{"refs":[{"id":"ref-for-create-a-summarizer-object"}],"title":"3.1. Creation"}],"url":"#create-a-summarizer-object"},
"create-a-writer-object": {"dfnID":"create-a-writer-object","dfnText":"create a writer object","external":false,"refSections":[{"refs":[{"id":"ref-for-create-a-writer-object"}],"title":"4.1. Creation"}],"url":"#create-a-writer-object"},
"create-an-ai-model-object": {"dfnID":"create-an-ai-model-object","dfnText":"create an AI model object","external":false,"refSections":[{"refs":[{"id":"ref-for-create-an-ai-model-object"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-create-an-ai-model-object\u2460"}],"title":"4.1. Creation"}],"url":"#create-an-ai-model-object"},
"createmonitor": {"dfnID":"createmonitor","dfnText":"CreateMonitor","external":false,"refSections":[{"refs":[{"id":"ref-for-createmonitor"},{"id":"ref-for-createmonitor\u2460"}],"title":"2. Shared APIs"},{"refs":[{"id":"ref-for-createmonitor\u2461"}],"title":"6.1. Creation"}],"url":"#createmonitor"},
"d0b4a948": {"dfnID":"d0b4a948","dfnText":"a promise rejected with","external":true,"refSections":[{"refs":[{"id":"ref-for-a-promise-rejected-with"},{"id":"ref-for-a-promise-rejected-with\u2460"},{"id":"ref-for-a-promise-rejected-with\u2461"},{"id":"ref-for-a-promise-rejected-with\u2462"},{"id":"ref-for-a-promise-rejected-with\u2463"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-a-promise-rejected-with\u2464"},{"id":"ref-for-a-promise-rejected-with\u2465"},{"id":"ref-for-a-promise-rejected-with\u2466"},{"id":"ref-for-a-promise-rejected-with\u2467"},{"id":"ref-for-a-promise-rejected-with\u2468"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-a-promise-rejected-with\u2460\u24ea"}],"title":"6.4. Availability"}],"url":"https://webidl.spec.whatwg.org/#a-promise-rejected-with"},
"d25dfb2c": {"dfnID":"d25dfb2c","dfnText":"AbortError","external":true,"refSections":[{"refs":[{"id":"ref-for-aborterror"}],"title":"2. Shared APIs"}],"url":"https://webidl.spec.whatwg.org/#aborterror"},
"d438bc09": {"dfnID":"d438bc09","dfnText":"set up","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-set-up"}],"title":"6.2. Obtaining results and usage"}],"url":"https://streams.spec.whatwg.org/#readablestream-set-up"},
"d635410d": {"dfnID":"d635410d","dfnText":"cancel()","external":true,"refSections":[{"refs":[{"id":"ref-for-rs-cancel"}],"title":"6.2. Obtaining results and usage"}],"url":"https://streams.spec.whatwg.org/#rs-cancel"},
"dacde8b5": {"dfnID":"dacde8b5","dfnText":"a new promise","external":true,"refSections":[{"refs":[{"id":"ref-for-a-new-promise"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-a-new-promise\u2460"},{"id":"ref-for-a-new-promise\u2461"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-a-new-promise\u2462"}],"title":"6.4. Availability"}],"url":"https://webidl.spec.whatwg.org/#a-new-promise"},
"dca2de17": {"dfnID":"dca2de17","dfnText":"DOMException","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-DOMException"}],"title":"2. Shared APIs"},{"refs":[{"id":"ref-for-idl-DOMException\u2460"},{"id":"ref-for-idl-DOMException\u2461"}],"title":"3.4.4. Errors"},{"refs":[{"id":"ref-for-idl-DOMException\u2462"},{"id":"ref-for-idl-DOMException\u2463"}],"title":"4.4.4. Errors"},{"refs":[{"id":"ref-for-idl-DOMException\u2464"},{"id":"ref-for-idl-DOMException\u2465"},{"id":"ref-for-idl-DOMException\u2466"},{"id":"ref-for-idl-DOMException\u2467"},{"id":"ref-for-idl-DOMException\u2468"},{"id":"ref-for-idl-DOMException\u2460\u24ea"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-idl-DOMException\u2460\u2460"},{"id":"ref-for-idl-DOMException\u2460\u2461"},{"id":"ref-for-idl-DOMException\u2460\u2462"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-idl-DOMException\u2460\u2463"},{"id":"ref-for-idl-DOMException\u2460\u2464"}],"title":"6.4. Availability"},{"refs":[{"id":"ref-for-idl-DOMException\u2460\u2465"},{"id":"ref-for-idl-DOMException\u2460\u2466"},{"id":"ref-for-idl-DOMException\u2460\u2467"}],"title":"6.6. Errors"}],"url":"https://webidl.spec.whatwg.org/#idl-DOMException"},
"dcf5fafa": {"dfnID":"dcf5fafa","dfnText":"FrozenArray","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-frozen-array"},{"id":"ref-for-idl-frozen-array\u2460"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-idl-frozen-array\u2461"},{"id":"ref-for-idl-frozen-array\u2462"}],"title":"3.3. The Summarizer class"},{"refs":[{"id":"ref-for-idl-frozen-array\u2463"},{"id":"ref-for-idl-frozen-array\u2464"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-idl-frozen-array\u2465"},{"id":"ref-for-idl-frozen-array\u2466"}],"title":"4.3. The Writer class"},{"refs":[{"id":"ref-for-idl-frozen-array\u2467"},{"id":"ref-for-idl-frozen-array\u2468"}],"title":"5. The rewriter API"}],"url":"https://webidl.spec.whatwg.org/#idl-frozen-array"},
"destroyablemodel": {"dfnID":"destroyablemodel","dfnText":"DestroyableModel","external":false,"refSections":[{"refs":[{"id":"ref-for-destroyablemodel"},{"id":"ref-for-destroyablemodel\u2460"},{"id":"ref-for-destroyablemodel\u2461"}],"title":"2. Shared APIs"},{"refs":[{"id":"ref-for-destroyablemodel\u2462"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-destroyablemodel\u2463"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-destroyablemodel\u2464"}],"title":"5. The rewriter API"},{"refs":[{"id":"ref-for-destroyablemodel\u2465"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-destroyablemodel\u2466"},{"id":"ref-for-destroyablemodel\u2467"},{"id":"ref-for-destroyablemodel\u2468"}],"title":"6.2. Obtaining results and usage"}],"url":"#destroyablemodel"},
"destroyablemodel-destroy": {"dfnID":"destroyablemodel-destroy","dfnText":"destroy","external":false,"refSections":[{"refs":[{"id":"ref-for-destroyablemodel-destroy"}],"title":"2. Shared APIs"},{"refs":[{"id":"ref-for-destroyablemodel-destroy\u2460"}],"title":"6.1. Creation"}],"url":"#destroyablemodel-destroy"},
"destroyablemodel-destruction-abort-controller": {"dfnID":"destroyablemodel-destruction-abort-controller","dfnText":"destruction abort controller","external":false,"refSections":[{"refs":[{"id":"ref-for-destroyablemodel-destruction-abort-controller"},{"id":"ref-for-destroyablemodel-destruction-abort-controller\u2460"},{"id":"ref-for-destroyablemodel-destruction-abort-controller\u2461"}],"title":"2. Shared APIs"},{"refs":[{"id":"ref-for-destroyablemodel-destruction-abort-controller\u2462"},{"id":"ref-for-destroyablemodel-destruction-abort-controller\u2463"},{"id":"ref-for-destroyablemodel-destruction-abort-controller\u2464"}],"title":"6.2. Obtaining results and usage"}],"url":"#destroyablemodel-destruction-abort-controller"},
"dictdef-rewritercreatecoreoptions": {"dfnID":"dictdef-rewritercreatecoreoptions","dfnText":"RewriterCreateCoreOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-rewritercreatecoreoptions"},{"id":"ref-for-dictdef-rewritercreatecoreoptions\u2460"}],"title":"5. The rewriter API"}],"url":"#dictdef-rewritercreatecoreoptions"},
"dictdef-rewritercreateoptions": {"dfnID":"dictdef-rewritercreateoptions","dfnText":"RewriterCreateOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-rewritercreateoptions"}],"title":"5. The rewriter API"}],"url":"#dictdef-rewritercreateoptions"},
"dictdef-rewriterrewriteoptions": {"dfnID":"dictdef-rewriterrewriteoptions","dfnText":"RewriterRewriteOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-rewriterrewriteoptions"},{"id":"ref-for-dictdef-rewriterrewriteoptions\u2460"},{"id":"ref-for-dictdef-rewriterrewriteoptions\u2461"}],"title":"5. The rewriter API"}],"url":"#dictdef-rewriterrewriteoptions"},
"dictdef-summarizercreatecoreoptions": {"dfnID":"dictdef-summarizercreatecoreoptions","dfnText":"SummarizerCreateCoreOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-summarizercreatecoreoptions"},{"id":"ref-for-dictdef-summarizercreatecoreoptions\u2460"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-dictdef-summarizercreatecoreoptions\u2461"},{"id":"ref-for-dictdef-summarizercreatecoreoptions\u2462"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-dictdef-summarizercreatecoreoptions\u2463"}],"title":"3.2. Availability"}],"url":"#dictdef-summarizercreatecoreoptions"},
"dictdef-summarizercreateoptions": {"dfnID":"dictdef-summarizercreateoptions","dfnText":"SummarizerCreateOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-summarizercreateoptions"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-dictdef-summarizercreateoptions\u2460"},{"id":"ref-for-dictdef-summarizercreateoptions\u2461"}],"title":"3.1. Creation"}],"url":"#dictdef-summarizercreateoptions"},
"dictdef-summarizersummarizeoptions": {"dfnID":"dictdef-summarizersummarizeoptions","dfnText":"SummarizerSummarizeOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-summarizersummarizeoptions"},{"id":"ref-for-dictdef-summarizersummarizeoptions\u2460"},{"id":"ref-for-dictdef-summarizersummarizeoptions\u2461"}],"title":"3. The summarizer API"}],"url":"#dictdef-summarizersummarizeoptions"},
"dictdef-writercreatecoreoptions": {"dfnID":"dictdef-writercreatecoreoptions","dfnText":"WriterCreateCoreOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-writercreatecoreoptions"},{"id":"ref-for-dictdef-writercreatecoreoptions\u2460"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-dictdef-writercreatecoreoptions\u2461"},{"id":"ref-for-dictdef-writercreatecoreoptions\u2462"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-dictdef-writercreatecoreoptions\u2463"}],"title":"4.2. Availability"}],"url":"#dictdef-writercreatecoreoptions"},
"dictdef-writercreateoptions": {"dfnID":"dictdef-writercreateoptions","dfnText":"WriterCreateOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-writercreateoptions"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-dictdef-writercreateoptions\u2460"},{"id":"ref-for-dictdef-writercreateoptions\u2461"}],"title":"4.1. Creation"}],"url":"#dictdef-writercreateoptions"},
"dictdef-writerwriteoptions": {"dfnID":"dictdef-writerwriteoptions","dfnText":"WriterWriteOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-writerwriteoptions"},{"id":"ref-for-dictdef-writerwriteoptions\u2460"},{"id":"ref-for-dictdef-writerwriteoptions\u2461"}],"title":"4. The writer API"}],"url":"#dictdef-writerwriteoptions"},
"dom-availability-available": {"dfnID":"dom-availability-available","dfnText":"\"available\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-availability-available"},{"id":"ref-for-dom-availability-available\u2460"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-dom-availability-available\u2461"}],"title":"4.2. Availability"},{"refs":[{"id":"ref-for-dom-availability-available\u2462"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-dom-availability-available\u2463"}],"title":"6.4. Availability"},{"refs":[{"id":"ref-for-dom-availability-available\u2464"},{"id":"ref-for-dom-availability-available\u2465"},{"id":"ref-for-dom-availability-available\u2466"},{"id":"ref-for-dom-availability-available\u2467"},{"id":"ref-for-dom-availability-available\u2468"},{"id":"ref-for-dom-availability-available\u2460\u24ea"},{"id":"ref-for-dom-availability-available\u2460\u2460"}],"title":"6.5. Language availability"}],"url":"#dom-availability-available"},
"dom-availability-downloadable": {"dfnID":"dom-availability-downloadable","dfnText":"\"downloadable\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-availability-downloadable"},{"id":"ref-for-dom-availability-downloadable\u2460"},{"id":"ref-for-dom-availability-downloadable\u2461"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-dom-availability-downloadable\u2462"},{"id":"ref-for-dom-availability-downloadable\u2463"}],"title":"4.2. Availability"},{"refs":[{"id":"ref-for-dom-availability-downloadable\u2464"},{"id":"ref-for-dom-availability-downloadable\u2465"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-dom-availability-downloadable\u2466"},{"id":"ref-for-dom-availability-downloadable\u2467"}],"title":"6.4. Availability"},{"refs":[{"id":"ref-for-dom-availability-downloadable\u2468"},{"id":"ref-for-dom-availability-downloadable\u2460\u24ea"},{"id":"ref-for-dom-availability-downloadable\u2460\u2460"},{"id":"ref-for-dom-availability-downloadable\u2460\u2461"},{"id":"ref-for-dom-availability-downloadable\u2460\u2462"},{"id":"ref-for-dom-availability-downloadable\u2460\u2463"}],"title":"6.5. Language availability"}],"url":"#dom-availability-downloadable"},
"dom-availability-downloading": {"dfnID":"dom-availability-downloading","dfnText":"\"downloading\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-availability-downloading"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-dom-availability-downloading\u2460"},{"id":"ref-for-dom-availability-downloading\u2461"}],"title":"6.4. Availability"},{"refs":[{"id":"ref-for-dom-availability-downloading\u2462"},{"id":"ref-for-dom-availability-downloading\u2463"},{"id":"ref-for-dom-availability-downloading\u2464"},{"id":"ref-for-dom-availability-downloading\u2465"},{"id":"ref-for-dom-availability-downloading\u2466"},{"id":"ref-for-dom-availability-downloading\u2467"}],"title":"6.5. Language availability"}],"url":"#dom-availability-downloading"},
"dom-availability-unavailable": {"dfnID":"dom-availability-unavailable","dfnText":"\"unavailable\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-availability-unavailable"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-dom-availability-unavailable\u2460"}],"title":"4.2. Availability"},{"refs":[{"id":"ref-for-dom-availability-unavailable\u2461"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-dom-availability-unavailable\u2462"},{"id":"ref-for-dom-availability-unavailable\u2463"},{"id":"ref-for-dom-availability-unavailable\u2464"}],"title":"6.4. Availability"},{"refs":[{"id":"ref-for-dom-availability-unavailable\u2465"}],"title":"6.5. Language availability"}],"url":"#dom-availability-unavailable"},
"dom-createmonitor-ondownloadprogress": {"dfnID":"dom-createmonitor-ondownloadprogress","dfnText":"ondownloadprogress","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-createmonitor-ondownloadprogress"}],"title":"2. Shared APIs"}],"url":"#dom-createmonitor-ondownloadprogress"},
"dom-createmonitorcallback-monitor": {"dfnID":"dom-createmonitorcallback-monitor","dfnText":"monitor","external":false,"refSections":[],"url":"#dom-createmonitorcallback-monitor"},
"dom-destroyablemodel-destroy": {"dfnID":"dom-destroyablemodel-destroy","dfnText":"destroy()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-destroyablemodel-destroy"},{"id":"ref-for-dom-destroyablemodel-destroy\u2460"},{"id":"ref-for-dom-destroyablemodel-destroy\u2461"}],"title":"2. Shared APIs"}],"url":"#dom-destroyablemodel-destroy"},
"dom-rewriter-availability": {"dfnID":"dom-rewriter-availability","dfnText":"availability","external":false,"refSections":[],"url":"#dom-rewriter-availability"},
"dom-rewriter-availability-options-options": {"dfnID":"dom-rewriter-availability-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-rewriter-availability-options-options"},
"dom-rewriter-create": {"dfnID":"dom-rewriter-create","dfnText":"create","external":false,"refSections":[],"url":"#dom-rewriter-create"},
"dom-rewriter-create-options-options": {"dfnID":"dom-rewriter-create-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-rewriter-create-options-options"},
"dom-rewriter-expectedcontextlanguages": {"dfnID":"dom-rewriter-expectedcontextlanguages","dfnText":"expectedContextLanguages","external":false,"refSections":[],"url":"#dom-rewriter-expectedcontextlanguages"},
"dom-rewriter-expectedinputlanguages": {"dfnID":"dom-rewriter-expectedinputlanguages","dfnText":"expectedInputLanguages","external":false,"refSections":[],"url":"#dom-rewriter-expectedinputlanguages"},
"dom-rewriter-format": {"dfnID":"dom-rewriter-format","dfnText":"format","external":false,"refSections":[],"url":"#dom-rewriter-format"},
"dom-rewriter-inputquota": {"dfnID":"dom-rewriter-inputquota","dfnText":"inputQuota","external":false,"refSections":[],"url":"#dom-rewriter-inputquota"},
"dom-rewriter-length": {"dfnID":"dom-rewriter-length","dfnText":"length","external":false,"refSections":[],"url":"#dom-rewriter-length"},
"dom-rewriter-measureinputusage": {"dfnID":"dom-rewriter-measureinputusage","dfnText":"measureInputUsage","external":false,"refSections":[],"url":"#dom-rewriter-measureinputusage"},
"dom-rewriter-measureinputusage-input-options-input": {"dfnID":"dom-rewriter-measureinputusage-input-options-input","dfnText":"input","external":false,"refSections":[],"url":"#dom-rewriter-measureinputusage-input-options-input"},
"dom-rewriter-measureinputusage-input-options-options": {"dfnID":"dom-rewriter-measureinputusage-input-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-rewriter-measureinputusage-input-options-options"},
"dom-rewriter-outputlanguage": {"dfnID":"dom-rewriter-outputlanguage","dfnText":"outputLanguage","external":false,"refSections":[],"url":"#dom-rewriter-outputlanguage"},
"dom-rewriter-rewrite": {"dfnID":"dom-rewriter-rewrite","dfnText":"rewrite","external":false,"refSections":[],"url":"#dom-rewriter-rewrite"},
"dom-rewriter-rewrite-input-options-input": {"dfnID":"dom-rewriter-rewrite-input-options-input","dfnText":"input","external":false,"refSections":[],"url":"#dom-rewriter-rewrite-input-options-input"},
"dom-rewriter-rewrite-input-options-options": {"dfnID":"dom-rewriter-rewrite-input-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-rewriter-rewrite-input-options-options"},
"dom-rewriter-rewritestreaming": {"dfnID":"dom-rewriter-rewritestreaming","dfnText":"rewriteStreaming","external":false,"refSections":[],"url":"#dom-rewriter-rewritestreaming"},
"dom-rewriter-rewritestreaming-input-options-input": {"dfnID":"dom-rewriter-rewritestreaming-input-options-input","dfnText":"input","external":false,"refSections":[],"url":"#dom-rewriter-rewritestreaming-input-options-input"},
"dom-rewriter-rewritestreaming-input-options-options": {"dfnID":"dom-rewriter-rewritestreaming-input-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-rewriter-rewritestreaming-input-options-options"},
"dom-rewriter-sharedcontext": {"dfnID":"dom-rewriter-sharedcontext","dfnText":"sharedContext","external":false,"refSections":[],"url":"#dom-rewriter-sharedcontext"},
"dom-rewriter-tone": {"dfnID":"dom-rewriter-tone","dfnText":"tone","external":false,"refSections":[],"url":"#dom-rewriter-tone"},
"dom-rewritercreatecoreoptions-expectedcontextlanguages": {"dfnID":"dom-rewritercreatecoreoptions-expectedcontextlanguages","dfnText":"expectedContextLanguages","external":false,"refSections":[],"url":"#dom-rewritercreatecoreoptions-expectedcontextlanguages"},
"dom-rewritercreatecoreoptions-expectedinputlanguages": {"dfnID":"dom-rewritercreatecoreoptions-expectedinputlanguages","dfnText":"expectedInputLanguages","external":false,"refSections":[],"url":"#dom-rewritercreatecoreoptions-expectedinputlanguages"},
"dom-rewritercreatecoreoptions-format": {"dfnID":"dom-rewritercreatecoreoptions-format","dfnText":"format","external":false,"refSections":[],"url":"#dom-rewritercreatecoreoptions-format"},
"dom-rewritercreatecoreoptions-length": {"dfnID":"dom-rewritercreatecoreoptions-length","dfnText":"length","external":false,"refSections":[],"url":"#dom-rewritercreatecoreoptions-length"},
"dom-rewritercreatecoreoptions-outputlanguage": {"dfnID":"dom-rewritercreatecoreoptions-outputlanguage","dfnText":"outputLanguage","external":false,"refSections":[],"url":"#dom-rewritercreatecoreoptions-outputlanguage"},
"dom-rewritercreatecoreoptions-tone": {"dfnID":"dom-rewritercreatecoreoptions-tone","dfnText":"tone","external":false,"refSections":[],"url":"#dom-rewritercreatecoreoptions-tone"},
"dom-rewritercreateoptions-monitor": {"dfnID":"dom-rewritercreateoptions-monitor","dfnText":"monitor","external":false,"refSections":[],"url":"#dom-rewritercreateoptions-monitor"},
"dom-rewritercreateoptions-sharedcontext": {"dfnID":"dom-rewritercreateoptions-sharedcontext","dfnText":"sharedContext","external":false,"refSections":[],"url":"#dom-rewritercreateoptions-sharedcontext"},
"dom-rewritercreateoptions-signal": {"dfnID":"dom-rewritercreateoptions-signal","dfnText":"signal","external":false,"refSections":[],"url":"#dom-rewritercreateoptions-signal"},
"dom-rewriterformat-as-is": {"dfnID":"dom-rewriterformat-as-is","dfnText":"\"as-is\"","external":false,"refSections":[],"url":"#dom-rewriterformat-as-is"},
"dom-rewriterformat-markdown": {"dfnID":"dom-rewriterformat-markdown","dfnText":"\"markdown\"","external":false,"refSections":[],"url":"#dom-rewriterformat-markdown"},
"dom-rewriterformat-plain-text": {"dfnID":"dom-rewriterformat-plain-text","dfnText":"\"plain-text\"","external":false,"refSections":[],"url":"#dom-rewriterformat-plain-text"},
"dom-rewriterlength-as-is": {"dfnID":"dom-rewriterlength-as-is","dfnText":"\"as-is\"","external":false,"refSections":[],"url":"#dom-rewriterlength-as-is"},
"dom-rewriterlength-longer": {"dfnID":"dom-rewriterlength-longer","dfnText":"\"longer\"","external":false,"refSections":[],"url":"#dom-rewriterlength-longer"},
"dom-rewriterlength-shorter": {"dfnID":"dom-rewriterlength-shorter","dfnText":"\"shorter\"","external":false,"refSections":[],"url":"#dom-rewriterlength-shorter"},
"dom-rewriterrewriteoptions-context": {"dfnID":"dom-rewriterrewriteoptions-context","dfnText":"context","external":false,"refSections":[],"url":"#dom-rewriterrewriteoptions-context"},
"dom-rewriterrewriteoptions-signal": {"dfnID":"dom-rewriterrewriteoptions-signal","dfnText":"signal","external":false,"refSections":[],"url":"#dom-rewriterrewriteoptions-signal"},
"dom-rewritertone-as-is": {"dfnID":"dom-rewritertone-as-is","dfnText":"\"as-is\"","external":false,"refSections":[],"url":"#dom-rewritertone-as-is"},
"dom-rewritertone-more-casual": {"dfnID":"dom-rewritertone-more-casual","dfnText":"\"more-casual\"","external":false,"refSections":[],"url":"#dom-rewritertone-more-casual"},
"dom-rewritertone-more-formal": {"dfnID":"dom-rewritertone-more-formal","dfnText":"\"more-formal\"","external":false,"refSections":[],"url":"#dom-rewritertone-more-formal"},
"dom-summarizer-availability": {"dfnID":"dom-summarizer-availability","dfnText":"availability(options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizer-availability"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-dom-summarizer-availability\u2460"}],"title":"3.2. Availability"}],"url":"#dom-summarizer-availability"},
"dom-summarizer-availability-options-options": {"dfnID":"dom-summarizer-availability-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-summarizer-availability-options-options"},
"dom-summarizer-create": {"dfnID":"dom-summarizer-create","dfnText":"create(options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizer-create"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-dom-summarizer-create\u2460"},{"id":"ref-for-dom-summarizer-create\u2461"}],"title":"3.4.4. Errors"}],"url":"#dom-summarizer-create"},
"dom-summarizer-create-options-options": {"dfnID":"dom-summarizer-create-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-summarizer-create-options-options"},
"dom-summarizer-expectedcontextlanguages": {"dfnID":"dom-summarizer-expectedcontextlanguages","dfnText":"expectedContextLanguages","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizer-expectedcontextlanguages"}],"title":"3. The summarizer API"}],"url":"#dom-summarizer-expectedcontextlanguages"},
"dom-summarizer-expectedinputlanguages": {"dfnID":"dom-summarizer-expectedinputlanguages","dfnText":"expectedInputLanguages","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizer-expectedinputlanguages"}],"title":"3. The summarizer API"}],"url":"#dom-summarizer-expectedinputlanguages"},
"dom-summarizer-format": {"dfnID":"dom-summarizer-format","dfnText":"format","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizer-format"}],"title":"3. The summarizer API"}],"url":"#dom-summarizer-format"},
"dom-summarizer-inputquota": {"dfnID":"dom-summarizer-inputquota","dfnText":"inputQuota","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizer-inputquota"}],"title":"3. The summarizer API"}],"url":"#dom-summarizer-inputquota"},
"dom-summarizer-length": {"dfnID":"dom-summarizer-length","dfnText":"length","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizer-length"}],"title":"3. The summarizer API"}],"url":"#dom-summarizer-length"},
"dom-summarizer-measureinputusage": {"dfnID":"dom-summarizer-measureinputusage","dfnText":"measureInputUsage(input, options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizer-measureinputusage"}],"title":"3. The summarizer API"}],"url":"#dom-summarizer-measureinputusage"},
"dom-summarizer-measureinputusage-input-options-input": {"dfnID":"dom-summarizer-measureinputusage-input-options-input","dfnText":"input","external":false,"refSections":[],"url":"#dom-summarizer-measureinputusage-input-options-input"},
"dom-summarizer-measureinputusage-input-options-options": {"dfnID":"dom-summarizer-measureinputusage-input-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-summarizer-measureinputusage-input-options-options"},
"dom-summarizer-outputlanguage": {"dfnID":"dom-summarizer-outputlanguage","dfnText":"outputLanguage","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizer-outputlanguage"}],"title":"3. The summarizer API"}],"url":"#dom-summarizer-outputlanguage"},
"dom-summarizer-sharedcontext": {"dfnID":"dom-summarizer-sharedcontext","dfnText":"sharedContext","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizer-sharedcontext"}],"title":"3. The summarizer API"}],"url":"#dom-summarizer-sharedcontext"},
"dom-summarizer-summarize": {"dfnID":"dom-summarizer-summarize","dfnText":"summarize(input, options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizer-summarize"}],"title":"3. The summarizer API"}],"url":"#dom-summarizer-summarize"},
"dom-summarizer-summarize-input-options-input": {"dfnID":"dom-summarizer-summarize-input-options-input","dfnText":"input","external":false,"refSections":[],"url":"#dom-summarizer-summarize-input-options-input"},
"dom-summarizer-summarize-input-options-options": {"dfnID":"dom-summarizer-summarize-input-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-summarizer-summarize-input-options-options"},
"dom-summarizer-summarizestreaming": {"dfnID":"dom-summarizer-summarizestreaming","dfnText":"summarizeStreaming(input, options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizer-summarizestreaming"}],"title":"3. The summarizer API"}],"url":"#dom-summarizer-summarizestreaming"},
"dom-summarizer-summarizestreaming-input-options-input": {"dfnID":"dom-summarizer-summarizestreaming-input-options-input","dfnText":"input","external":false,"refSections":[],"url":"#dom-summarizer-summarizestreaming-input-options-input"},
"dom-summarizer-summarizestreaming-input-options-options": {"dfnID":"dom-summarizer-summarizestreaming-input-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-summarizer-summarizestreaming-input-options-options"},
"dom-summarizer-type": {"dfnID":"dom-summarizer-type","dfnText":"type","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizer-type"}],"title":"3. The summarizer API"}],"url":"#dom-summarizer-type"},
"dom-summarizercreatecoreoptions-expectedcontextlanguages": {"dfnID":"dom-summarizercreatecoreoptions-expectedcontextlanguages","dfnText":"expectedContextLanguages","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizercreatecoreoptions-expectedcontextlanguages"},{"id":"ref-for-dom-summarizercreatecoreoptions-expectedcontextlanguages\u2460"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-dom-summarizercreatecoreoptions-expectedcontextlanguages\u2461"}],"title":"3.2. Availability"}],"url":"#dom-summarizercreatecoreoptions-expectedcontextlanguages"},
"dom-summarizercreatecoreoptions-expectedinputlanguages": {"dfnID":"dom-summarizercreatecoreoptions-expectedinputlanguages","dfnText":"expectedInputLanguages","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizercreatecoreoptions-expectedinputlanguages"},{"id":"ref-for-dom-summarizercreatecoreoptions-expectedinputlanguages\u2460"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-dom-summarizercreatecoreoptions-expectedinputlanguages\u2461"}],"title":"3.2. Availability"}],"url":"#dom-summarizercreatecoreoptions-expectedinputlanguages"},
"dom-summarizercreatecoreoptions-format": {"dfnID":"dom-summarizercreatecoreoptions-format","dfnText":"format","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizercreatecoreoptions-format"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-dom-summarizercreatecoreoptions-format\u2460"}],"title":"3.2. Availability"}],"url":"#dom-summarizercreatecoreoptions-format"},
"dom-summarizercreatecoreoptions-length": {"dfnID":"dom-summarizercreatecoreoptions-length","dfnText":"length","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizercreatecoreoptions-length"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-dom-summarizercreatecoreoptions-length\u2460"}],"title":"3.2. Availability"}],"url":"#dom-summarizercreatecoreoptions-length"},
"dom-summarizercreatecoreoptions-outputlanguage": {"dfnID":"dom-summarizercreatecoreoptions-outputlanguage","dfnText":"outputLanguage","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizercreatecoreoptions-outputlanguage"},{"id":"ref-for-dom-summarizercreatecoreoptions-outputlanguage\u2460"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-dom-summarizercreatecoreoptions-outputlanguage\u2461"},{"id":"ref-for-dom-summarizercreatecoreoptions-outputlanguage\u2462"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-dom-summarizercreatecoreoptions-outputlanguage\u2463"}],"title":"3.4.4. Errors"}],"url":"#dom-summarizercreatecoreoptions-outputlanguage"},
"dom-summarizercreatecoreoptions-type": {"dfnID":"dom-summarizercreatecoreoptions-type","dfnText":"type","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizercreatecoreoptions-type"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-dom-summarizercreatecoreoptions-type\u2460"}],"title":"3.2. Availability"}],"url":"#dom-summarizercreatecoreoptions-type"},
"dom-summarizercreateoptions-monitor": {"dfnID":"dom-summarizercreateoptions-monitor","dfnText":"monitor","external":false,"refSections":[],"url":"#dom-summarizercreateoptions-monitor"},
"dom-summarizercreateoptions-sharedcontext": {"dfnID":"dom-summarizercreateoptions-sharedcontext","dfnText":"sharedContext","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizercreateoptions-sharedcontext"},{"id":"ref-for-dom-summarizercreateoptions-sharedcontext\u2460"}],"title":"3.1. Creation"}],"url":"#dom-summarizercreateoptions-sharedcontext"},
"dom-summarizercreateoptions-signal": {"dfnID":"dom-summarizercreateoptions-signal","dfnText":"signal","external":false,"refSections":[],"url":"#dom-summarizercreateoptions-signal"},
"dom-summarizerformat-markdown": {"dfnID":"dom-summarizerformat-markdown","dfnText":"markdown","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizerformat-markdown"}],"title":"3. The summarizer API"}],"url":"#dom-summarizerformat-markdown"},
"dom-summarizerformat-plain-text": {"dfnID":"dom-summarizerformat-plain-text","dfnText":"plain-text","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizerformat-plain-text"}],"title":"3. The summarizer API"}],"url":"#dom-summarizerformat-plain-text"},
"dom-summarizerlength-long": {"dfnID":"dom-summarizerlength-long","dfnText":"long","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizerlength-long"}],"title":"3. The summarizer API"}],"url":"#dom-summarizerlength-long"},
"dom-summarizerlength-medium": {"dfnID":"dom-summarizerlength-medium","dfnText":"medium","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizerlength-medium"}],"title":"3. The summarizer API"}],"url":"#dom-summarizerlength-medium"},
"dom-summarizerlength-short": {"dfnID":"dom-summarizerlength-short","dfnText":"short","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizerlength-short"}],"title":"3. The summarizer API"}],"url":"#dom-summarizerlength-short"},
"dom-summarizersummarizeoptions-context": {"dfnID":"dom-summarizersummarizeoptions-context","dfnText":"context","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizersummarizeoptions-context"},{"id":"ref-for-dom-summarizersummarizeoptions-context\u2460"},{"id":"ref-for-dom-summarizersummarizeoptions-context\u2461"}],"title":"3.3. The Summarizer class"}],"url":"#dom-summarizersummarizeoptions-context"},
"dom-summarizersummarizeoptions-signal": {"dfnID":"dom-summarizersummarizeoptions-signal","dfnText":"signal","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizersummarizeoptions-signal"}],"title":"6.2. Obtaining results and usage"}],"url":"#dom-summarizersummarizeoptions-signal"},
"dom-summarizertype-headline": {"dfnID":"dom-summarizertype-headline","dfnText":"headline","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizertype-headline"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-dom-summarizertype-headline\u2460"},{"id":"ref-for-dom-summarizertype-headline\u2461"},{"id":"ref-for-dom-summarizertype-headline\u2462"}],"title":"3.4.3. Options"}],"url":"#dom-summarizertype-headline"},
"dom-summarizertype-key-points": {"dfnID":"dom-summarizertype-key-points","dfnText":"key-points","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizertype-key-points"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-dom-summarizertype-key-points\u2460"},{"id":"ref-for-dom-summarizertype-key-points\u2461"},{"id":"ref-for-dom-summarizertype-key-points\u2462"}],"title":"3.4.3. Options"}],"url":"#dom-summarizertype-key-points"},
"dom-summarizertype-teaser": {"dfnID":"dom-summarizertype-teaser","dfnText":"teaser","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizertype-teaser"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-dom-summarizertype-teaser\u2460"},{"id":"ref-for-dom-summarizertype-teaser\u2461"},{"id":"ref-for-dom-summarizertype-teaser\u2462"}],"title":"3.4.3. Options"}],"url":"#dom-summarizertype-teaser"},
"dom-summarizertype-tldr": {"dfnID":"dom-summarizertype-tldr","dfnText":"tl;dr","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-summarizertype-tldr"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-dom-summarizertype-tldr\u2460"},{"id":"ref-for-dom-summarizertype-tldr\u2461"},{"id":"ref-for-dom-summarizertype-tldr\u2462"}],"title":"3.4.3. Options"}],"url":"#dom-summarizertype-tldr"},
"dom-writer-availability": {"dfnID":"dom-writer-availability","dfnText":"availability(options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writer-availability"}],"title":"4. The writer API"}],"url":"#dom-writer-availability"},
"dom-writer-availability-options-options": {"dfnID":"dom-writer-availability-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-writer-availability-options-options"},
"dom-writer-create": {"dfnID":"dom-writer-create","dfnText":"create(options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writer-create"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-dom-writer-create\u2460"},{"id":"ref-for-dom-writer-create\u2461"}],"title":"4.4.4. Errors"}],"url":"#dom-writer-create"},
"dom-writer-create-options-options": {"dfnID":"dom-writer-create-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-writer-create-options-options"},
"dom-writer-expectedcontextlanguages": {"dfnID":"dom-writer-expectedcontextlanguages","dfnText":"expectedContextLanguages","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writer-expectedcontextlanguages"}],"title":"4. The writer API"}],"url":"#dom-writer-expectedcontextlanguages"},
"dom-writer-expectedinputlanguages": {"dfnID":"dom-writer-expectedinputlanguages","dfnText":"expectedInputLanguages","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writer-expectedinputlanguages"}],"title":"4. The writer API"}],"url":"#dom-writer-expectedinputlanguages"},
"dom-writer-format": {"dfnID":"dom-writer-format","dfnText":"format","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writer-format"}],"title":"4. The writer API"}],"url":"#dom-writer-format"},
"dom-writer-inputquota": {"dfnID":"dom-writer-inputquota","dfnText":"inputQuota","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writer-inputquota"}],"title":"4. The writer API"}],"url":"#dom-writer-inputquota"},
"dom-writer-length": {"dfnID":"dom-writer-length","dfnText":"length","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writer-length"}],"title":"4. The writer API"}],"url":"#dom-writer-length"},
"dom-writer-measureinputusage": {"dfnID":"dom-writer-measureinputusage","dfnText":"measureInputUsage(input, options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writer-measureinputusage"}],"title":"4. The writer API"}],"url":"#dom-writer-measureinputusage"},
"dom-writer-measureinputusage-input-options-input": {"dfnID":"dom-writer-measureinputusage-input-options-input","dfnText":"input","external":false,"refSections":[],"url":"#dom-writer-measureinputusage-input-options-input"},
"dom-writer-measureinputusage-input-options-options": {"dfnID":"dom-writer-measureinputusage-input-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-writer-measureinputusage-input-options-options"},
"dom-writer-outputlanguage": {"dfnID":"dom-writer-outputlanguage","dfnText":"outputLanguage","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writer-outputlanguage"}],"title":"4. The writer API"}],"url":"#dom-writer-outputlanguage"},
"dom-writer-sharedcontext": {"dfnID":"dom-writer-sharedcontext","dfnText":"sharedContext","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writer-sharedcontext"}],"title":"4. The writer API"}],"url":"#dom-writer-sharedcontext"},
"dom-writer-tone": {"dfnID":"dom-writer-tone","dfnText":"tone","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writer-tone"}],"title":"4. The writer API"}],"url":"#dom-writer-tone"},
"dom-writer-write": {"dfnID":"dom-writer-write","dfnText":"write(input, options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writer-write"}],"title":"4. The writer API"}],"url":"#dom-writer-write"},
"dom-writer-write-input-options-input": {"dfnID":"dom-writer-write-input-options-input","dfnText":"input","external":false,"refSections":[],"url":"#dom-writer-write-input-options-input"},
"dom-writer-write-input-options-options": {"dfnID":"dom-writer-write-input-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-writer-write-input-options-options"},
"dom-writer-writestreaming": {"dfnID":"dom-writer-writestreaming","dfnText":"writeStreaming(input, options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writer-writestreaming"}],"title":"4. The writer API"}],"url":"#dom-writer-writestreaming"},
"dom-writer-writestreaming-input-options-input": {"dfnID":"dom-writer-writestreaming-input-options-input","dfnText":"input","external":false,"refSections":[],"url":"#dom-writer-writestreaming-input-options-input"},
"dom-writer-writestreaming-input-options-options": {"dfnID":"dom-writer-writestreaming-input-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-writer-writestreaming-input-options-options"},
"dom-writercreatecoreoptions-expectedcontextlanguages": {"dfnID":"dom-writercreatecoreoptions-expectedcontextlanguages","dfnText":"expectedContextLanguages","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writercreatecoreoptions-expectedcontextlanguages"},{"id":"ref-for-dom-writercreatecoreoptions-expectedcontextlanguages\u2460"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-dom-writercreatecoreoptions-expectedcontextlanguages\u2461"}],"title":"4.2. Availability"}],"url":"#dom-writercreatecoreoptions-expectedcontextlanguages"},
"dom-writercreatecoreoptions-expectedinputlanguages": {"dfnID":"dom-writercreatecoreoptions-expectedinputlanguages","dfnText":"expectedInputLanguages","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writercreatecoreoptions-expectedinputlanguages"},{"id":"ref-for-dom-writercreatecoreoptions-expectedinputlanguages\u2460"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-dom-writercreatecoreoptions-expectedinputlanguages\u2461"}],"title":"4.2. Availability"}],"url":"#dom-writercreatecoreoptions-expectedinputlanguages"},
"dom-writercreatecoreoptions-format": {"dfnID":"dom-writercreatecoreoptions-format","dfnText":"format","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writercreatecoreoptions-format"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-dom-writercreatecoreoptions-format\u2460"}],"title":"4.2. Availability"}],"url":"#dom-writercreatecoreoptions-format"},
"dom-writercreatecoreoptions-length": {"dfnID":"dom-writercreatecoreoptions-length","dfnText":"length","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writercreatecoreoptions-length"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-dom-writercreatecoreoptions-length\u2460"}],"title":"4.2. Availability"}],"url":"#dom-writercreatecoreoptions-length"},
"dom-writercreatecoreoptions-outputlanguage": {"dfnID":"dom-writercreatecoreoptions-outputlanguage","dfnText":"outputLanguage","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writercreatecoreoptions-outputlanguage"},{"id":"ref-for-dom-writercreatecoreoptions-outputlanguage\u2460"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-dom-writercreatecoreoptions-outputlanguage\u2461"},{"id":"ref-for-dom-writercreatecoreoptions-outputlanguage\u2462"}],"title":"4.2. Availability"},{"refs":[{"id":"ref-for-dom-writercreatecoreoptions-outputlanguage\u2463"}],"title":"4.4.4. Errors"}],"url":"#dom-writercreatecoreoptions-outputlanguage"},
"dom-writercreatecoreoptions-tone": {"dfnID":"dom-writercreatecoreoptions-tone","dfnText":"tone","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writercreatecoreoptions-tone"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-dom-writercreatecoreoptions-tone\u2460"}],"title":"4.2. Availability"}],"url":"#dom-writercreatecoreoptions-tone"},
"dom-writercreateoptions-monitor": {"dfnID":"dom-writercreateoptions-monitor","dfnText":"monitor","external":false,"refSections":[],"url":"#dom-writercreateoptions-monitor"},
"dom-writercreateoptions-sharedcontext": {"dfnID":"dom-writercreateoptions-sharedcontext","dfnText":"sharedContext","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writercreateoptions-sharedcontext"},{"id":"ref-for-dom-writercreateoptions-sharedcontext\u2460"}],"title":"4.1. Creation"}],"url":"#dom-writercreateoptions-sharedcontext"},
"dom-writercreateoptions-signal": {"dfnID":"dom-writercreateoptions-signal","dfnText":"signal","external":false,"refSections":[],"url":"#dom-writercreateoptions-signal"},
"dom-writerformat-markdown": {"dfnID":"dom-writerformat-markdown","dfnText":"markdown","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writerformat-markdown"}],"title":"4. The writer API"}],"url":"#dom-writerformat-markdown"},
"dom-writerformat-plain-text": {"dfnID":"dom-writerformat-plain-text","dfnText":"plain-text","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writerformat-plain-text"}],"title":"4. The writer API"}],"url":"#dom-writerformat-plain-text"},
"dom-writerlength-long": {"dfnID":"dom-writerlength-long","dfnText":"long","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writerlength-long"}],"title":"4. The writer API"}],"url":"#dom-writerlength-long"},
"dom-writerlength-medium": {"dfnID":"dom-writerlength-medium","dfnText":"medium","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writerlength-medium"}],"title":"4. The writer API"}],"url":"#dom-writerlength-medium"},
"dom-writerlength-short": {"dfnID":"dom-writerlength-short","dfnText":"short","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writerlength-short"}],"title":"4. The writer API"}],"url":"#dom-writerlength-short"},
"dom-writertone-casual": {"dfnID":"dom-writertone-casual","dfnText":"casual","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writertone-casual"}],"title":"4. The writer API"}],"url":"#dom-writertone-casual"},
"dom-writertone-formal": {"dfnID":"dom-writertone-formal","dfnText":"formal","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writertone-formal"}],"title":"4. The writer API"}],"url":"#dom-writertone-formal"},
"dom-writertone-neutral": {"dfnID":"dom-writertone-neutral","dfnText":"neutral","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writertone-neutral"}],"title":"4. The writer API"}],"url":"#dom-writertone-neutral"},
"dom-writerwriteoptions-context": {"dfnID":"dom-writerwriteoptions-context","dfnText":"context","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-writerwriteoptions-context"},{"id":"ref-for-dom-writerwriteoptions-context\u2460"},{"id":"ref-for-dom-writerwriteoptions-context\u2461"}],"title":"4.3. The Writer class"}],"url":"#dom-writerwriteoptions-context"},
"dom-writerwriteoptions-signal": {"dfnID":"dom-writerwriteoptions-signal","dfnText":"signal","external":false,"refSections":[],"url":"#dom-writerwriteoptions-signal"},
"domexception-error-information": {"dfnID":"domexception-error-information","dfnText":"DOMException error information","external":false,"refSections":[{"refs":[{"id":"ref-for-domexception-error-information"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-domexception-error-information\u2460"},{"id":"ref-for-domexception-error-information\u2461"}],"title":"3.4.2. Usage"},{"refs":[{"id":"ref-for-domexception-error-information\u2462"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-domexception-error-information\u2463"},{"id":"ref-for-domexception-error-information\u2464"}],"title":"4.4.2. Usage"},{"refs":[{"id":"ref-for-domexception-error-information\u2465"},{"id":"ref-for-domexception-error-information\u2466"}],"title":"6.6. Errors"}],"url":"#domexception-error-information"},
"domexception-error-information-details": {"dfnID":"domexception-error-information-details","dfnText":"details","external":false,"refSections":[{"refs":[{"id":"ref-for-domexception-error-information-details"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-domexception-error-information-details\u2460"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-domexception-error-information-details\u2461"}],"title":"6.6. Errors"}],"url":"#domexception-error-information-details"},
"domexception-error-information-name": {"dfnID":"domexception-error-information-name","dfnText":"name","external":false,"refSections":[{"refs":[{"id":"ref-for-domexception-error-information-name"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-domexception-error-information-name\u2460"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-domexception-error-information-name\u2461"}],"title":"6.6. Errors"}],"url":"#domexception-error-information-name"},
"download-the-summarizer-model": {"dfnID":"download-the-summarizer-model","dfnText":"download the summarizer model","external":false,"refSections":[{"refs":[{"id":"ref-for-download-the-summarizer-model"}],"title":"3.1. Creation"}],"url":"#download-the-summarizer-model"},
"download-the-writer-model": {"dfnID":"download-the-writer-model","dfnText":"download the writer model","external":false,"refSections":[{"refs":[{"id":"ref-for-download-the-writer-model"}],"title":"4.1. Creation"}],"url":"#download-the-writer-model"},
"e270bd2a": {"dfnID":"e270bd2a","dfnText":"task","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-task"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-concept-task\u2460"}],"title":"6.7. Task source"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"},
"e3e2d506": {"dfnID":"e3e2d506","dfnText":"cancel","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-cancel"}],"title":"6.2. Obtaining results and usage"}],"url":"https://streams.spec.whatwg.org/#readablestream-cancel"},
"e99bd18e": {"dfnID":"e99bd18e","dfnText":"relevant global object","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-relevant-global"},{"id":"ref-for-concept-relevant-global\u2460"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-concept-relevant-global\u2461"},{"id":"ref-for-concept-relevant-global\u2462"},{"id":"ref-for-concept-relevant-global\u2463"},{"id":"ref-for-concept-relevant-global\u2464"}],"title":"6.2. Obtaining results and usage"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"},
"enumdef-availability": {"dfnID":"enumdef-availability","dfnText":"Availability","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-availability"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-enumdef-availability\u2460"},{"id":"ref-for-enumdef-availability\u2461"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-enumdef-availability\u2462"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-enumdef-availability\u2463"},{"id":"ref-for-enumdef-availability\u2464"}],"title":"4.2. Availability"},{"refs":[{"id":"ref-for-enumdef-availability\u2465"}],"title":"5. The rewriter API"},{"refs":[{"id":"ref-for-enumdef-availability\u2466"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-enumdef-availability\u2467"}],"title":"6.4. Availability"},{"refs":[{"id":"ref-for-enumdef-availability\u2468"}],"title":"6.5. Language availability"}],"url":"#enumdef-availability"},
"enumdef-rewriterformat": {"dfnID":"enumdef-rewriterformat","dfnText":"RewriterFormat","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-rewriterformat"},{"id":"ref-for-enumdef-rewriterformat\u2460"}],"title":"5. The rewriter API"}],"url":"#enumdef-rewriterformat"},
"enumdef-rewriterlength": {"dfnID":"enumdef-rewriterlength","dfnText":"RewriterLength","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-rewriterlength"},{"id":"ref-for-enumdef-rewriterlength\u2460"}],"title":"5. The rewriter API"}],"url":"#enumdef-rewriterlength"},
"enumdef-rewritertone": {"dfnID":"enumdef-rewritertone","dfnText":"RewriterTone","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-rewritertone"},{"id":"ref-for-enumdef-rewritertone\u2460"}],"title":"5. The rewriter API"}],"url":"#enumdef-rewritertone"},
"enumdef-summarizerformat": {"dfnID":"enumdef-summarizerformat","dfnText":"SummarizerFormat","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-summarizerformat"},{"id":"ref-for-enumdef-summarizerformat\u2460"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-enumdef-summarizerformat\u2461"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-enumdef-summarizerformat\u2462"}],"title":"3.3. The Summarizer class"},{"refs":[{"id":"ref-for-enumdef-summarizerformat\u2463"}],"title":"3.4.1. The algorithm"},{"refs":[{"id":"ref-for-enumdef-summarizerformat\u2464"}],"title":"3.4.2. Usage"},{"refs":[{"id":"ref-for-enumdef-summarizerformat\u2465"},{"id":"ref-for-enumdef-summarizerformat\u2466"}],"title":"3.4.3. Options"}],"url":"#enumdef-summarizerformat"},
"enumdef-summarizerlength": {"dfnID":"enumdef-summarizerlength","dfnText":"SummarizerLength","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-summarizerlength"},{"id":"ref-for-enumdef-summarizerlength\u2460"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-enumdef-summarizerlength\u2461"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-enumdef-summarizerlength\u2462"}],"title":"3.3. The Summarizer class"},{"refs":[{"id":"ref-for-enumdef-summarizerlength\u2463"}],"title":"3.4.1. The algorithm"},{"refs":[{"id":"ref-for-enumdef-summarizerlength\u2464"}],"title":"3.4.2. Usage"},{"refs":[{"id":"ref-for-enumdef-summarizerlength\u2465"},{"id":"ref-for-enumdef-summarizerlength\u2466"}],"title":"3.4.3. Options"}],"url":"#enumdef-summarizerlength"},
"enumdef-summarizertype": {"dfnID":"enumdef-summarizertype","dfnText":"SummarizerType","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-summarizertype"},{"id":"ref-for-enumdef-summarizertype\u2460"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-enumdef-summarizertype\u2461"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-enumdef-summarizertype\u2462"}],"title":"3.3. The Summarizer class"},{"refs":[{"id":"ref-for-enumdef-summarizertype\u2463"}],"title":"3.4.1. The algorithm"},{"refs":[{"id":"ref-for-enumdef-summarizertype\u2464"}],"title":"3.4.2. Usage"},{"refs":[{"id":"ref-for-enumdef-summarizertype\u2465"},{"id":"ref-for-enumdef-summarizertype\u2466"},{"id":"ref-for-enumdef-summarizertype\u2467"},{"id":"ref-for-enumdef-summarizertype\u2468"},{"id":"ref-for-enumdef-summarizertype\u2460\u24ea"}],"title":"3.4.3. Options"}],"url":"#enumdef-summarizertype"},
"enumdef-writerformat": {"dfnID":"enumdef-writerformat","dfnText":"WriterFormat","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-writerformat"},{"id":"ref-for-enumdef-writerformat\u2460"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-enumdef-writerformat\u2461"}],"title":"4.2. Availability"},{"refs":[{"id":"ref-for-enumdef-writerformat\u2462"}],"title":"4.3. The Writer class"},{"refs":[{"id":"ref-for-enumdef-writerformat\u2463"}],"title":"4.4.1. The algorithm"},{"refs":[{"id":"ref-for-enumdef-writerformat\u2464"}],"title":"4.4.2. Usage"},{"refs":[{"id":"ref-for-enumdef-writerformat\u2465"},{"id":"ref-for-enumdef-writerformat\u2466"}],"title":"4.4.3. Options"}],"url":"#enumdef-writerformat"},
"enumdef-writerlength": {"dfnID":"enumdef-writerlength","dfnText":"WriterLength","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-writerlength"},{"id":"ref-for-enumdef-writerlength\u2460"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-enumdef-writerlength\u2461"}],"title":"4.2. Availability"},{"refs":[{"id":"ref-for-enumdef-writerlength\u2462"}],"title":"4.3. The Writer class"},{"refs":[{"id":"ref-for-enumdef-writerlength\u2463"}],"title":"4.4.1. The algorithm"},{"refs":[{"id":"ref-for-enumdef-writerlength\u2464"}],"title":"4.4.2. Usage"},{"refs":[{"id":"ref-for-enumdef-writerlength\u2465"},{"id":"ref-for-enumdef-writerlength\u2466"}],"title":"4.4.3. Options"}],"url":"#enumdef-writerlength"},
"enumdef-writertone": {"dfnID":"enumdef-writertone","dfnText":"WriterTone","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-writertone"},{"id":"ref-for-enumdef-writertone\u2460"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-enumdef-writertone\u2461"}],"title":"4.2. Availability"},{"refs":[{"id":"ref-for-enumdef-writertone\u2462"}],"title":"4.3. The Writer class"},{"refs":[{"id":"ref-for-enumdef-writertone\u2463"}],"title":"4.4.1. The algorithm"},{"refs":[{"id":"ref-for-enumdef-writertone\u2464"}],"title":"4.4.2. Usage"},{"refs":[{"id":"ref-for-enumdef-writertone\u2465"},{"id":"ref-for-enumdef-writertone\u2466"}],"title":"4.4.3. Options"}],"url":"#enumdef-writertone"},
"error-information": {"dfnID":"error-information","dfnText":"error information","external":false,"refSections":[{"refs":[{"id":"ref-for-error-information"},{"id":"ref-for-error-information\u2460"},{"id":"ref-for-error-information\u2461"}],"title":"3.4.1. The algorithm"},{"refs":[{"id":"ref-for-error-information\u2462"},{"id":"ref-for-error-information\u2463"},{"id":"ref-for-error-information\u2464"}],"title":"4.4.1. The algorithm"},{"refs":[{"id":"ref-for-error-information\u2465"}],"title":"6.1. Creation"},{"refs":[{"id":"ref-for-error-information\u2466"},{"id":"ref-for-error-information\u2467"},{"id":"ref-for-error-information\u2468"}],"title":"6.2. Obtaining results and usage"},{"refs":[{"id":"ref-for-error-information\u2460\u24ea"}],"title":"6.6. Errors"}],"url":"#error-information"},
"eventdef-createmonitor-downloadprogress": {"dfnID":"eventdef-createmonitor-downloadprogress","dfnText":"downloadprogress","external":false,"refSections":[{"refs":[{"id":"ref-for-eventdef-createmonitor-downloadprogress"},{"id":"ref-for-eventdef-createmonitor-downloadprogress\u2460"}],"title":"6.1. Creation"}],"url":"#eventdef-createmonitor-downloadprogress"},
"f0951476": {"dfnID":"f0951476","dfnText":"EventHandler","external":true,"refSections":[{"refs":[{"id":"ref-for-eventhandler"}],"title":"2. Shared APIs"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"},
"fd30477f": {"dfnID":"fd30477f","dfnText":"quota","external":true,"refSections":[{"refs":[{"id":"ref-for-quotaexceedederror-quota"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-quotaexceedederror-quota\u2460"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-quotaexceedederror-quota\u2461"},{"id":"ref-for-quotaexceedederror-quota\u2462"}],"title":"6.6. Errors"}],"url":"https://whatpr.org/webidl/1465.html#quotaexceedederror-quota"},
"get-a-streaming-ai-model-result": {"dfnID":"get-a-streaming-ai-model-result","dfnText":"get a streaming AI model result","external":false,"refSections":[{"refs":[{"id":"ref-for-get-a-streaming-ai-model-result"}],"title":"3.3. The Summarizer class"},{"refs":[{"id":"ref-for-get-a-streaming-ai-model-result\u2460"}],"title":"4.3. The Writer class"}],"url":"#get-a-streaming-ai-model-result"},
"get-an-aggregated-ai-model-result": {"dfnID":"get-an-aggregated-ai-model-result","dfnText":"get an aggregated AI model result","external":false,"refSections":[{"refs":[{"id":"ref-for-get-an-aggregated-ai-model-result"}],"title":"3.3. The Summarizer class"},{"refs":[{"id":"ref-for-get-an-aggregated-ai-model-result\u2460"}],"title":"4.3. The Writer class"}],"url":"#get-an-aggregated-ai-model-result"},
"get-the-language-availabilities-partition": {"dfnID":"get-the-language-availabilities-partition","dfnText":"get the language availabilities partition","external":false,"refSections":[{"refs":[{"id":"ref-for-get-the-language-availabilities-partition"},{"id":"ref-for-get-the-language-availabilities-partition\u2460"},{"id":"ref-for-get-the-language-availabilities-partition\u2461"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-get-the-language-availabilities-partition\u2462"},{"id":"ref-for-get-the-language-availabilities-partition\u2463"},{"id":"ref-for-get-the-language-availabilities-partition\u2464"}],"title":"4.2. Availability"}],"url":"#get-the-language-availabilities-partition"},
"initialize-and-return-an-ai-model-object": {"dfnID":"initialize-and-return-an-ai-model-object","dfnText":"initialize and return an AI model object","external":false,"refSections":[{"refs":[{"id":"ref-for-initialize-and-return-an-ai-model-object"},{"id":"ref-for-initialize-and-return-an-ai-model-object\u2460"}],"title":"6.1. Creation"}],"url":"#initialize-and-return-an-ai-model-object"},
"initialize-as-a-destroyable": {"dfnID":"initialize-as-a-destroyable","dfnText":"initialize as a destroyable","external":false,"refSections":[{"refs":[{"id":"ref-for-initialize-as-a-destroyable"}],"title":"2. Shared APIs"},{"refs":[{"id":"ref-for-initialize-as-a-destroyable\u2460"}],"title":"6.1. Creation"}],"url":"#initialize-as-a-destroyable"},
"initialize-the-summarizer-model": {"dfnID":"initialize-the-summarizer-model","dfnText":"initialize the summarizer model","external":false,"refSections":[{"refs":[{"id":"ref-for-initialize-the-summarizer-model"}],"title":"3.1. Creation"}],"url":"#initialize-the-summarizer-model"},
"initialize-the-writer-model": {"dfnID":"initialize-the-writer-model","dfnText":"initialize the writer model","external":false,"refSections":[{"refs":[{"id":"ref-for-initialize-the-writer-model"}],"title":"4.1. Creation"}],"url":"#initialize-the-writer-model"},
"language-availabilities-partition": {"dfnID":"language-availabilities-partition","dfnText":"language availabilities partition","external":false,"refSections":[{"refs":[{"id":"ref-for-language-availabilities-partition"},{"id":"ref-for-language-availabilities-partition\u2460"},{"id":"ref-for-language-availabilities-partition\u2461"},{"id":"ref-for-language-availabilities-partition\u2462"}],"title":"6.5. Language availability"}],"url":"#language-availabilities-partition"},
"language-availabilities-triple": {"dfnID":"language-availabilities-triple","dfnText":"language availabilities triple","external":false,"refSections":[{"refs":[{"id":"ref-for-language-availabilities-triple"},{"id":"ref-for-language-availabilities-triple\u2460"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-language-availabilities-triple\u2461"},{"id":"ref-for-language-availabilities-triple\u2462"}],"title":"4.2. Availability"}],"url":"#language-availabilities-triple"},
"language-availabilities-triple-context-languages": {"dfnID":"language-availabilities-triple-context-languages","dfnText":"context languages","external":false,"refSections":[{"refs":[{"id":"ref-for-language-availabilities-triple-context-languages"},{"id":"ref-for-language-availabilities-triple-context-languages\u2460"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-language-availabilities-triple-context-languages\u2461"},{"id":"ref-for-language-availabilities-triple-context-languages\u2462"}],"title":"4.2. Availability"}],"url":"#language-availabilities-triple-context-languages"},
"language-availabilities-triple-input-languages": {"dfnID":"language-availabilities-triple-input-languages","dfnText":"input languages","external":false,"refSections":[{"refs":[{"id":"ref-for-language-availabilities-triple-input-languages"},{"id":"ref-for-language-availabilities-triple-input-languages\u2460"},{"id":"ref-for-language-availabilities-triple-input-languages\u2461"},{"id":"ref-for-language-availabilities-triple-input-languages\u2462"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-language-availabilities-triple-input-languages\u2463"},{"id":"ref-for-language-availabilities-triple-input-languages\u2464"}],"title":"4.2. Availability"}],"url":"#language-availabilities-triple-input-languages"},
"language-availabilities-triple-output-languages": {"dfnID":"language-availabilities-triple-output-languages","dfnText":"output languages","external":false,"refSections":[{"refs":[{"id":"ref-for-language-availabilities-triple-output-languages"},{"id":"ref-for-language-availabilities-triple-output-languages\u2460"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-language-availabilities-triple-output-languages\u2461"},{"id":"ref-for-language-availabilities-triple-output-languages\u2462"}],"title":"4.2. Availability"}],"url":"#language-availabilities-triple-output-languages"},
"language-tag-set-completeness-rules": {"dfnID":"language-tag-set-completeness-rules","dfnText":"language tag set completeness rules","external":false,"refSections":[{"refs":[{"id":"ref-for-language-tag-set-completeness-rules"}],"title":"3.2. Availability"},{"refs":[{"id":"ref-for-language-tag-set-completeness-rules\u2460"}],"title":"6.3. Language tags"},{"refs":[{"id":"ref-for-language-tag-set-completeness-rules\u2461"},{"id":"ref-for-language-tag-set-completeness-rules\u2462"}],"title":"6.5. Language availability"}],"url":"#language-tag-set-completeness-rules"},
"measure-ai-model-input-usage": {"dfnID":"measure-ai-model-input-usage","dfnText":"measure AI model input usage","external":false,"refSections":[{"refs":[{"id":"ref-for-measure-ai-model-input-usage"}],"title":"3.3. The Summarizer class"},{"refs":[{"id":"ref-for-measure-ai-model-input-usage\u2460"}],"title":"4.3. The Writer class"}],"url":"#measure-ai-model-input-usage"},
"measure-summarizer-input-usage": {"dfnID":"measure-summarizer-input-usage","dfnText":"measure summarizer input usage","external":false,"refSections":[{"refs":[{"id":"ref-for-measure-summarizer-input-usage"}],"title":"3.3. The Summarizer class"},{"refs":[{"id":"ref-for-measure-summarizer-input-usage\u2460"}],"title":"3.4.1. The algorithm"}],"url":"#measure-summarizer-input-usage"},
"measure-writer-input-usage": {"dfnID":"measure-writer-input-usage","dfnText":"measure writer input usage","external":false,"refSections":[{"refs":[{"id":"ref-for-measure-writer-input-usage"}],"title":"4.3. The Writer class"},{"refs":[{"id":"ref-for-measure-writer-input-usage\u2460"}],"title":"4.4.1. The algorithm"}],"url":"#measure-writer-input-usage"},
"permissiondef-summarizer": {"dfnID":"permissiondef-summarizer","dfnText":"summarizer","external":false,"refSections":[{"refs":[{"id":"ref-for-permissiondef-summarizer"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-permissiondef-summarizer\u2460"}],"title":"3.2. Availability"}],"url":"#permissiondef-summarizer"},
"permissiondef-writer": {"dfnID":"permissiondef-writer","dfnText":"writer","external":false,"refSections":[{"refs":[{"id":"ref-for-permissiondef-writer"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-permissiondef-writer\u2460"}],"title":"4.2. Availability"}],"url":"#permissiondef-writer"},
"quota-exceeded-error-information": {"dfnID":"quota-exceeded-error-information","dfnText":"quota exceeded error information","external":false,"refSections":[{"refs":[{"id":"ref-for-quota-exceeded-error-information"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-quota-exceeded-error-information\u2460"}],"title":"3.4.1. The algorithm"},{"refs":[{"id":"ref-for-quota-exceeded-error-information\u2461"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-quota-exceeded-error-information\u2462"}],"title":"4.4.1. The algorithm"},{"refs":[{"id":"ref-for-quota-exceeded-error-information\u2463"},{"id":"ref-for-quota-exceeded-error-information\u2464"}],"title":"6.6. Errors"}],"url":"#quota-exceeded-error-information"},
"quota-exceeded-error-information-quota": {"dfnID":"quota-exceeded-error-information-quota","dfnText":"quota","external":false,"refSections":[{"refs":[{"id":"ref-for-quota-exceeded-error-information-quota"}],"title":"3.4.1. The algorithm"},{"refs":[{"id":"ref-for-quota-exceeded-error-information-quota\u2460"}],"title":"4.4.1. The algorithm"},{"refs":[{"id":"ref-for-quota-exceeded-error-information-quota\u2461"}],"title":"6.6. Errors"}],"url":"#quota-exceeded-error-information-quota"},
"quota-exceeded-error-information-requested": {"dfnID":"quota-exceeded-error-information-requested","dfnText":"requested","external":false,"refSections":[{"refs":[{"id":"ref-for-quota-exceeded-error-information-requested"}],"title":"3.4.1. The algorithm"},{"refs":[{"id":"ref-for-quota-exceeded-error-information-requested\u2460"}],"title":"4.4.1. The algorithm"},{"refs":[{"id":"ref-for-quota-exceeded-error-information-requested\u2461"}],"title":"6.6. Errors"}],"url":"#quota-exceeded-error-information-requested"},
"rewriter": {"dfnID":"rewriter","dfnText":"Rewriter","external":false,"refSections":[{"refs":[{"id":"ref-for-rewriter"},{"id":"ref-for-rewriter\u2460"}],"title":"5. The rewriter API"}],"url":"#rewriter"},
"summarize": {"dfnID":"summarize","dfnText":"summarize","external":false,"refSections":[{"refs":[{"id":"ref-for-summarize"},{"id":"ref-for-summarize\u2460"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-summarize\u2461"},{"id":"ref-for-summarize\u2462"}],"title":"3.3. The Summarizer class"},{"refs":[{"id":"ref-for-summarize\u2463"}],"title":"3.4.2. Usage"},{"refs":[{"id":"ref-for-summarize\u2464"},{"id":"ref-for-summarize\u2465"}],"title":"3.4.3. Options"}],"url":"#summarize"},
"summarizer": {"dfnID":"summarizer","dfnText":"Summarizer","external":false,"refSections":[{"refs":[{"id":"ref-for-summarizer"},{"id":"ref-for-summarizer\u2460"}],"title":"3. The summarizer API"},{"refs":[{"id":"ref-for-summarizer\u2461"},{"id":"ref-for-summarizer\u2462"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-summarizer\u2463"},{"id":"ref-for-summarizer\u2464"},{"id":"ref-for-summarizer\u2465"},{"id":"ref-for-summarizer\u2466"},{"id":"ref-for-summarizer\u2467"},{"id":"ref-for-summarizer\u2468"},{"id":"ref-for-summarizer\u2460\u24ea"},{"id":"ref-for-summarizer\u2460\u2460"},{"id":"ref-for-summarizer\u2460\u2461"}],"title":"3.3. The Summarizer class"}],"url":"#summarizer"},
"summarizer-expected-context-languages": {"dfnID":"summarizer-expected-context-languages","dfnText":"expected context languages","external":false,"refSections":[{"refs":[{"id":"ref-for-summarizer-expected-context-languages"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-summarizer-expected-context-languages\u2460"}],"title":"3.3. The Summarizer class"}],"url":"#summarizer-expected-context-languages"},
"summarizer-expected-input-languages": {"dfnID":"summarizer-expected-input-languages","dfnText":"expected input languages","external":false,"refSections":[{"refs":[{"id":"ref-for-summarizer-expected-input-languages"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-summarizer-expected-input-languages\u2460"}],"title":"3.3. The Summarizer class"}],"url":"#summarizer-expected-input-languages"},
"summarizer-input-quota": {"dfnID":"summarizer-input-quota","dfnText":"input quota","external":false,"refSections":[{"refs":[{"id":"ref-for-summarizer-input-quota"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-summarizer-input-quota\u2460"},{"id":"ref-for-summarizer-input-quota\u2461"},{"id":"ref-for-summarizer-input-quota\u2462"}],"title":"3.3. The Summarizer class"},{"refs":[{"id":"ref-for-summarizer-input-quota\u2463"},{"id":"ref-for-summarizer-input-quota\u2464"}],"title":"3.4.2. Usage"}],"url":"#summarizer-input-quota"},
"summarizer-language-availabilities-triple": {"dfnID":"summarizer-language-availabilities-triple","dfnText":"summarizer language availabilities triple","external":false,"refSections":[{"refs":[{"id":"ref-for-summarizer-language-availabilities-triple"},{"id":"ref-for-summarizer-language-availabilities-triple\u2460"}],"title":"3.2. Availability"}],"url":"#summarizer-language-availabilities-triple"},
"summarizer-non-language-options-availability": {"dfnID":"summarizer-non-language-options-availability","dfnText":"summarizer non-language options availability","external":false,"refSections":[{"refs":[{"id":"ref-for-summarizer-non-language-options-availability"}],"title":"3.2. Availability"}],"url":"#summarizer-non-language-options-availability"},
"summarizer-output-language": {"dfnID":"summarizer-output-language","dfnText":"output language","external":false,"refSections":[{"refs":[{"id":"ref-for-summarizer-output-language"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-summarizer-output-language\u2460"},{"id":"ref-for-summarizer-output-language\u2461"},{"id":"ref-for-summarizer-output-language\u2462"},{"id":"ref-for-summarizer-output-language\u2463"}],"title":"3.3. The Summarizer class"}],"url":"#summarizer-output-language"},
"summarizer-shared-context": {"dfnID":"summarizer-shared-context","dfnText":"shared context","external":false,"refSections":[{"refs":[{"id":"ref-for-summarizer-shared-context"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-summarizer-shared-context\u2460"},{"id":"ref-for-summarizer-shared-context\u2461"},{"id":"ref-for-summarizer-shared-context\u2462"},{"id":"ref-for-summarizer-shared-context\u2463"}],"title":"3.3. The Summarizer class"}],"url":"#summarizer-shared-context"},
"summarizer-summary-format": {"dfnID":"summarizer-summary-format","dfnText":"summary format","external":false,"refSections":[{"refs":[{"id":"ref-for-summarizer-summary-format"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-summarizer-summary-format\u2460"},{"id":"ref-for-summarizer-summary-format\u2461"},{"id":"ref-for-summarizer-summary-format\u2462"},{"id":"ref-for-summarizer-summary-format\u2463"}],"title":"3.3. The Summarizer class"}],"url":"#summarizer-summary-format"},
"summarizer-summary-length": {"dfnID":"summarizer-summary-length","dfnText":"summary length","external":false,"refSections":[{"refs":[{"id":"ref-for-summarizer-summary-length"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-summarizer-summary-length\u2460"},{"id":"ref-for-summarizer-summary-length\u2461"},{"id":"ref-for-summarizer-summary-length\u2462"},{"id":"ref-for-summarizer-summary-length\u2463"}],"title":"3.3. The Summarizer class"}],"url":"#summarizer-summary-length"},
"summarizer-summary-type": {"dfnID":"summarizer-summary-type","dfnText":"summary type","external":false,"refSections":[{"refs":[{"id":"ref-for-summarizer-summary-type"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-summarizer-summary-type\u2460"},{"id":"ref-for-summarizer-summary-type\u2461"},{"id":"ref-for-summarizer-summary-type\u2462"},{"id":"ref-for-summarizer-summary-type\u2463"}],"title":"3.3. The Summarizer class"}],"url":"#summarizer-summary-type"},
"validate-and-canonicalize-a-single-language-tag": {"dfnID":"validate-and-canonicalize-a-single-language-tag","dfnText":"validate and canonicalize a single language tag","external":false,"refSections":[{"refs":[{"id":"ref-for-validate-and-canonicalize-a-single-language-tag"},{"id":"ref-for-validate-and-canonicalize-a-single-language-tag\u2460"}],"title":"6.3. Language tags"}],"url":"#validate-and-canonicalize-a-single-language-tag"},
"validate-and-canonicalize-language-tags": {"dfnID":"validate-and-canonicalize-language-tags","dfnText":"validate and canonicalize language tags","external":false,"refSections":[{"refs":[{"id":"ref-for-validate-and-canonicalize-language-tags"},{"id":"ref-for-validate-and-canonicalize-language-tags\u2460"},{"id":"ref-for-validate-and-canonicalize-language-tags\u2461"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-validate-and-canonicalize-language-tags\u2462"},{"id":"ref-for-validate-and-canonicalize-language-tags\u2463"},{"id":"ref-for-validate-and-canonicalize-language-tags\u2464"}],"title":"4.1. Creation"}],"url":"#validate-and-canonicalize-language-tags"},
"validate-and-canonicalize-summarizer-options": {"dfnID":"validate-and-canonicalize-summarizer-options","dfnText":"validate and canonicalize summarizer options","external":false,"refSections":[{"refs":[{"id":"ref-for-validate-and-canonicalize-summarizer-options"}],"title":"3.1. Creation"},{"refs":[{"id":"ref-for-validate-and-canonicalize-summarizer-options\u2460"}],"title":"3.2. Availability"}],"url":"#validate-and-canonicalize-summarizer-options"},
"validate-and-canonicalize-writer-options": {"dfnID":"validate-and-canonicalize-writer-options","dfnText":"validate and canonicalize writer options","external":false,"refSections":[{"refs":[{"id":"ref-for-validate-and-canonicalize-writer-options"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-validate-and-canonicalize-writer-options\u2460"}],"title":"4.2. Availability"}],"url":"#validate-and-canonicalize-writer-options"},
"write": {"dfnID":"write","dfnText":"write","external":false,"refSections":[{"refs":[{"id":"ref-for-write"},{"id":"ref-for-write\u2460"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-write\u2461"},{"id":"ref-for-write\u2462"}],"title":"4.3. The Writer class"},{"refs":[{"id":"ref-for-write\u2463"}],"title":"4.4.2. Usage"},{"refs":[{"id":"ref-for-write\u2464"},{"id":"ref-for-write\u2465"}],"title":"4.4.3. Options"}],"url":"#write"},
"writer": {"dfnID":"writer","dfnText":"Writer","external":false,"refSections":[{"refs":[{"id":"ref-for-writer"},{"id":"ref-for-writer\u2460"}],"title":"4. The writer API"},{"refs":[{"id":"ref-for-writer\u2461"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-writer\u2462"},{"id":"ref-for-writer\u2463"},{"id":"ref-for-writer\u2464"},{"id":"ref-for-writer\u2465"},{"id":"ref-for-writer\u2466"},{"id":"ref-for-writer\u2467"},{"id":"ref-for-writer\u2468"},{"id":"ref-for-writer\u2460\u24ea"},{"id":"ref-for-writer\u2460\u2460"}],"title":"4.3. The Writer class"}],"url":"#writer"},
"writer-expected-context-languages": {"dfnID":"writer-expected-context-languages","dfnText":"expected context languages","external":false,"refSections":[{"refs":[{"id":"ref-for-writer-expected-context-languages"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-writer-expected-context-languages\u2460"}],"title":"4.3. The Writer class"}],"url":"#writer-expected-context-languages"},
"writer-expected-input-languages": {"dfnID":"writer-expected-input-languages","dfnText":"expected input languages","external":false,"refSections":[{"refs":[{"id":"ref-for-writer-expected-input-languages"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-writer-expected-input-languages\u2460"}],"title":"4.3. The Writer class"}],"url":"#writer-expected-input-languages"},
"writer-format": {"dfnID":"writer-format","dfnText":"format","external":false,"refSections":[{"refs":[{"id":"ref-for-writer-format"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-writer-format\u2460"},{"id":"ref-for-writer-format\u2461"},{"id":"ref-for-writer-format\u2462"},{"id":"ref-for-writer-format\u2463"}],"title":"4.3. The Writer class"}],"url":"#writer-format"},
"writer-input-quota": {"dfnID":"writer-input-quota","dfnText":"input quota","external":false,"refSections":[{"refs":[{"id":"ref-for-writer-input-quota"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-writer-input-quota\u2460"},{"id":"ref-for-writer-input-quota\u2461"},{"id":"ref-for-writer-input-quota\u2462"}],"title":"4.3. The Writer class"},{"refs":[{"id":"ref-for-writer-input-quota\u2463"}],"title":"4.4.2. Usage"}],"url":"#writer-input-quota"},
"writer-language-availabilities-triple": {"dfnID":"writer-language-availabilities-triple","dfnText":"writer language availabilities triple","external":false,"refSections":[{"refs":[{"id":"ref-for-writer-language-availabilities-triple"}],"title":"4.2. Availability"}],"url":"#writer-language-availabilities-triple"},
"writer-length": {"dfnID":"writer-length","dfnText":"length","external":false,"refSections":[{"refs":[{"id":"ref-for-writer-length"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-writer-length\u2460"},{"id":"ref-for-writer-length\u2461"},{"id":"ref-for-writer-length\u2462"},{"id":"ref-for-writer-length\u2463"}],"title":"4.3. The Writer class"}],"url":"#writer-length"},
"writer-non-language-options-availability": {"dfnID":"writer-non-language-options-availability","dfnText":"writer non-language options availability","external":false,"refSections":[{"refs":[{"id":"ref-for-writer-non-language-options-availability"}],"title":"4.2. Availability"}],"url":"#writer-non-language-options-availability"},
"writer-output-language": {"dfnID":"writer-output-language","dfnText":"output language","external":false,"refSections":[{"refs":[{"id":"ref-for-writer-output-language"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-writer-output-language\u2460"},{"id":"ref-for-writer-output-language\u2461"},{"id":"ref-for-writer-output-language\u2462"},{"id":"ref-for-writer-output-language\u2463"}],"title":"4.3. The Writer class"}],"url":"#writer-output-language"},
"writer-shared-context": {"dfnID":"writer-shared-context","dfnText":"shared context","external":false,"refSections":[{"refs":[{"id":"ref-for-writer-shared-context"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-writer-shared-context\u2460"},{"id":"ref-for-writer-shared-context\u2461"},{"id":"ref-for-writer-shared-context\u2462"},{"id":"ref-for-writer-shared-context\u2463"}],"title":"4.3. The Writer class"}],"url":"#writer-shared-context"},
"writer-tone": {"dfnID":"writer-tone","dfnText":"tone","external":false,"refSections":[{"refs":[{"id":"ref-for-writer-tone"}],"title":"4.1. Creation"},{"refs":[{"id":"ref-for-writer-tone\u2460"},{"id":"ref-for-writer-tone\u2461"},{"id":"ref-for-writer-tone\u2462"},{"id":"ref-for-writer-tone\u2463"}],"title":"4.3. The Writer class"}],"url":"#writer-tone"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#ai-task-source": {"displayText":"ai task source","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"ai task source","type":"dfn","url":"#ai-task-source"},
"#availability-minimum-availability": {"displayText":"minimum availability","export":true,"for_":["Availability"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"minimum availability","type":"dfn","url":"#availability-minimum-availability"},
"#callbackdef-createmonitorcallback": {"displayText":"CreateMonitorCallback","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"CreateMonitorCallback","type":"callback","url":"#callbackdef-createmonitorcallback"},
"#compute-ai-model-availability": {"displayText":"compute ai model availability","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"compute ai model availability","type":"dfn","url":"#compute-ai-model-availability"},
"#compute-language-availability": {"displayText":"compute language availability","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"compute language availability","type":"dfn","url":"#compute-language-availability"},
"#compute-summarizer-options-availability": {"displayText":"compute summarizer options availability","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"compute summarizer options availability","type":"dfn","url":"#compute-summarizer-options-availability"},
"#compute-writer-options-availability": {"displayText":"compute writer options availability","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"compute writer options availability","type":"dfn","url":"#compute-writer-options-availability"},
"#convert-error-information-into-an-exception-object": {"displayText":"convert error information into an exception object","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"convert error information into an exception object","type":"dfn","url":"#convert-error-information-into-an-exception-object"},
"#create-a-summarizer-object": {"displayText":"create a summarizer object","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"create a summarizer object","type":"dfn","url":"#create-a-summarizer-object"},
"#create-a-writer-object": {"displayText":"create a writer object","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"create a writer object","type":"dfn","url":"#create-a-writer-object"},
"#create-an-ai-model-object": {"displayText":"create an ai model object","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"create an ai model object","type":"dfn","url":"#create-an-ai-model-object"},
"#createmonitor": {"displayText":"CreateMonitor","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"CreateMonitor","type":"interface","url":"#createmonitor"},
"#destroyablemodel": {"displayText":"DestroyableModel","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"DestroyableModel","type":"interface","url":"#destroyablemodel"},
"#destroyablemodel-destroy": {"displayText":"destroy","export":true,"for_":["DestroyableModel"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"destroy","type":"dfn","url":"#destroyablemodel-destroy"},
"#destroyablemodel-destruction-abort-controller": {"displayText":"destruction abort controller","export":true,"for_":["DestroyableModel"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"destruction abort controller","type":"dfn","url":"#destroyablemodel-destruction-abort-controller"},
"#dictdef-rewritercreatecoreoptions": {"displayText":"RewriterCreateCoreOptions","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"RewriterCreateCoreOptions","type":"dictionary","url":"#dictdef-rewritercreatecoreoptions"},
"#dictdef-rewritercreateoptions": {"displayText":"RewriterCreateOptions","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"RewriterCreateOptions","type":"dictionary","url":"#dictdef-rewritercreateoptions"},
"#dictdef-rewriterrewriteoptions": {"displayText":"RewriterRewriteOptions","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"RewriterRewriteOptions","type":"dictionary","url":"#dictdef-rewriterrewriteoptions"},
"#dictdef-summarizercreatecoreoptions": {"displayText":"SummarizerCreateCoreOptions","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"SummarizerCreateCoreOptions","type":"dictionary","url":"#dictdef-summarizercreatecoreoptions"},
"#dictdef-summarizercreateoptions": {"displayText":"SummarizerCreateOptions","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"SummarizerCreateOptions","type":"dictionary","url":"#dictdef-summarizercreateoptions"},
"#dictdef-summarizersummarizeoptions": {"displayText":"SummarizerSummarizeOptions","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"SummarizerSummarizeOptions","type":"dictionary","url":"#dictdef-summarizersummarizeoptions"},
"#dictdef-writercreatecoreoptions": {"displayText":"WriterCreateCoreOptions","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"WriterCreateCoreOptions","type":"dictionary","url":"#dictdef-writercreatecoreoptions"},
"#dictdef-writercreateoptions": {"displayText":"WriterCreateOptions","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"WriterCreateOptions","type":"dictionary","url":"#dictdef-writercreateoptions"},
"#dictdef-writerwriteoptions": {"displayText":"WriterWriteOptions","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"WriterWriteOptions","type":"dictionary","url":"#dictdef-writerwriteoptions"},
"#dom-availability-available": {"displayText":"\"available\"","export":true,"for_":["Availability"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"available\"","type":"enum-value","url":"#dom-availability-available"},
"#dom-availability-downloadable": {"displayText":"\"downloadable\"","export":true,"for_":["Availability"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"downloadable\"","type":"enum-value","url":"#dom-availability-downloadable"},
"#dom-availability-downloading": {"displayText":"\"downloading\"","export":true,"for_":["Availability"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"downloading\"","type":"enum-value","url":"#dom-availability-downloading"},
"#dom-availability-unavailable": {"displayText":"\"unavailable\"","export":true,"for_":["Availability"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"unavailable\"","type":"enum-value","url":"#dom-availability-unavailable"},
"#dom-createmonitor-ondownloadprogress": {"displayText":"ondownloadprogress","export":true,"for_":["CreateMonitor"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"ondownloadprogress","type":"attribute","url":"#dom-createmonitor-ondownloadprogress"},
"#dom-destroyablemodel-destroy": {"displayText":"destroy()","export":true,"for_":["DestroyableModel"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"destroy()","type":"method","url":"#dom-destroyablemodel-destroy"},
"#dom-summarizer-availability": {"displayText":"availability(options)","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"availability(options)","type":"method","url":"#dom-summarizer-availability"},
"#dom-summarizer-create": {"displayText":"create(options)","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"create(options)","type":"method","url":"#dom-summarizer-create"},
"#dom-summarizer-expectedcontextlanguages": {"displayText":"expectedContextLanguages","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"expectedContextLanguages","type":"attribute","url":"#dom-summarizer-expectedcontextlanguages"},
"#dom-summarizer-expectedinputlanguages": {"displayText":"expectedInputLanguages","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"expectedInputLanguages","type":"attribute","url":"#dom-summarizer-expectedinputlanguages"},
"#dom-summarizer-format": {"displayText":"format","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"format","type":"attribute","url":"#dom-summarizer-format"},
"#dom-summarizer-inputquota": {"displayText":"inputQuota","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"inputQuota","type":"attribute","url":"#dom-summarizer-inputquota"},
"#dom-summarizer-length": {"displayText":"length","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"length","type":"attribute","url":"#dom-summarizer-length"},
"#dom-summarizer-measureinputusage": {"displayText":"measureInputUsage(input, options)","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"measureInputUsage(input, options)","type":"method","url":"#dom-summarizer-measureinputusage"},
"#dom-summarizer-outputlanguage": {"displayText":"outputLanguage","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"outputLanguage","type":"attribute","url":"#dom-summarizer-outputlanguage"},
"#dom-summarizer-sharedcontext": {"displayText":"sharedContext","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"sharedContext","type":"attribute","url":"#dom-summarizer-sharedcontext"},
"#dom-summarizer-summarize": {"displayText":"summarize(input, options)","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"summarize(input, options)","type":"method","url":"#dom-summarizer-summarize"},
"#dom-summarizer-summarizestreaming": {"displayText":"summarizeStreaming(input, options)","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"summarizeStreaming(input, options)","type":"method","url":"#dom-summarizer-summarizestreaming"},
"#dom-summarizer-type": {"displayText":"type","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"type","type":"attribute","url":"#dom-summarizer-type"},
"#dom-summarizercreatecoreoptions-expectedcontextlanguages": {"displayText":"expectedContextLanguages","export":true,"for_":["SummarizerCreateCoreOptions"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"expectedContextLanguages","type":"dict-member","url":"#dom-summarizercreatecoreoptions-expectedcontextlanguages"},
"#dom-summarizercreatecoreoptions-expectedinputlanguages": {"displayText":"expectedInputLanguages","export":true,"for_":["SummarizerCreateCoreOptions"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"expectedInputLanguages","type":"dict-member","url":"#dom-summarizercreatecoreoptions-expectedinputlanguages"},
"#dom-summarizercreatecoreoptions-format": {"displayText":"format","export":true,"for_":["SummarizerCreateCoreOptions"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"format","type":"dict-member","url":"#dom-summarizercreatecoreoptions-format"},
"#dom-summarizercreatecoreoptions-length": {"displayText":"length","export":true,"for_":["SummarizerCreateCoreOptions"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"length","type":"dict-member","url":"#dom-summarizercreatecoreoptions-length"},
"#dom-summarizercreatecoreoptions-outputlanguage": {"displayText":"outputLanguage","export":true,"for_":["SummarizerCreateCoreOptions"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"outputLanguage","type":"dict-member","url":"#dom-summarizercreatecoreoptions-outputlanguage"},
"#dom-summarizercreatecoreoptions-type": {"displayText":"type","export":true,"for_":["SummarizerCreateCoreOptions"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"type","type":"dict-member","url":"#dom-summarizercreatecoreoptions-type"},
"#dom-summarizercreateoptions-sharedcontext": {"displayText":"sharedContext","export":true,"for_":["SummarizerCreateOptions"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"sharedContext","type":"dict-member","url":"#dom-summarizercreateoptions-sharedcontext"},
"#dom-summarizerformat-markdown": {"displayText":"\"markdown\"","export":true,"for_":["SummarizerFormat"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"markdown\"","type":"enum-value","url":"#dom-summarizerformat-markdown"},
"#dom-summarizerformat-plain-text": {"displayText":"\"plain-text\"","export":true,"for_":["SummarizerFormat"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"plain-text\"","type":"enum-value","url":"#dom-summarizerformat-plain-text"},
"#dom-summarizerlength-long": {"displayText":"\"long\"","export":true,"for_":["SummarizerLength"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"long\"","type":"enum-value","url":"#dom-summarizerlength-long"},
"#dom-summarizerlength-medium": {"displayText":"\"medium\"","export":true,"for_":["SummarizerLength"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"medium\"","type":"enum-value","url":"#dom-summarizerlength-medium"},
"#dom-summarizerlength-short": {"displayText":"\"short\"","export":true,"for_":["SummarizerLength"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"short\"","type":"enum-value","url":"#dom-summarizerlength-short"},
"#dom-summarizersummarizeoptions-context": {"displayText":"context","export":true,"for_":["SummarizerSummarizeOptions"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"context","type":"dict-member","url":"#dom-summarizersummarizeoptions-context"},
"#dom-summarizersummarizeoptions-signal": {"displayText":"signal","export":true,"for_":["SummarizerSummarizeOptions"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"signal","type":"dict-member","url":"#dom-summarizersummarizeoptions-signal"},
"#dom-summarizertype-headline": {"displayText":"\"headline\"","export":true,"for_":["SummarizerType"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"headline\"","type":"enum-value","url":"#dom-summarizertype-headline"},
"#dom-summarizertype-key-points": {"displayText":"\"key-points\"","export":true,"for_":["SummarizerType"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"key-points\"","type":"enum-value","url":"#dom-summarizertype-key-points"},
"#dom-summarizertype-teaser": {"displayText":"\"teaser\"","export":true,"for_":["SummarizerType"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"teaser\"","type":"enum-value","url":"#dom-summarizertype-teaser"},
"#dom-summarizertype-tldr": {"displayText":"\"tl;dr\"","export":true,"for_":["SummarizerType"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"tl;dr\"","type":"enum-value","url":"#dom-summarizertype-tldr"},
"#dom-writer-availability": {"displayText":"availability(options)","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"availability(options)","type":"method","url":"#dom-writer-availability"},
"#dom-writer-create": {"displayText":"create(options)","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"create(options)","type":"method","url":"#dom-writer-create"},
"#dom-writer-expectedcontextlanguages": {"displayText":"expectedContextLanguages","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"expectedContextLanguages","type":"attribute","url":"#dom-writer-expectedcontextlanguages"},
"#dom-writer-expectedinputlanguages": {"displayText":"expectedInputLanguages","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"expectedInputLanguages","type":"attribute","url":"#dom-writer-expectedinputlanguages"},
"#dom-writer-format": {"displayText":"format","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"format","type":"attribute","url":"#dom-writer-format"},
"#dom-writer-inputquota": {"displayText":"inputQuota","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"inputQuota","type":"attribute","url":"#dom-writer-inputquota"},
"#dom-writer-length": {"displayText":"length","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"length","type":"attribute","url":"#dom-writer-length"},
"#dom-writer-measureinputusage": {"displayText":"measureInputUsage(input, options)","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"measureInputUsage(input, options)","type":"method","url":"#dom-writer-measureinputusage"},
"#dom-writer-outputlanguage": {"displayText":"outputLanguage","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"outputLanguage","type":"attribute","url":"#dom-writer-outputlanguage"},
"#dom-writer-sharedcontext": {"displayText":"sharedContext","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"sharedContext","type":"attribute","url":"#dom-writer-sharedcontext"},
"#dom-writer-tone": {"displayText":"tone","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"tone","type":"attribute","url":"#dom-writer-tone"},
"#dom-writer-write": {"displayText":"write(input, options)","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"write(input, options)","type":"method","url":"#dom-writer-write"},
"#dom-writer-writestreaming": {"displayText":"writeStreaming(input, options)","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"writeStreaming(input, options)","type":"method","url":"#dom-writer-writestreaming"},
"#dom-writercreatecoreoptions-expectedcontextlanguages": {"displayText":"expectedContextLanguages","export":true,"for_":["WriterCreateCoreOptions"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"expectedContextLanguages","type":"dict-member","url":"#dom-writercreatecoreoptions-expectedcontextlanguages"},
"#dom-writercreatecoreoptions-expectedinputlanguages": {"displayText":"expectedInputLanguages","export":true,"for_":["WriterCreateCoreOptions"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"expectedInputLanguages","type":"dict-member","url":"#dom-writercreatecoreoptions-expectedinputlanguages"},
"#dom-writercreatecoreoptions-format": {"displayText":"format","export":true,"for_":["WriterCreateCoreOptions"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"format","type":"dict-member","url":"#dom-writercreatecoreoptions-format"},
"#dom-writercreatecoreoptions-length": {"displayText":"length","export":true,"for_":["WriterCreateCoreOptions"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"length","type":"dict-member","url":"#dom-writercreatecoreoptions-length"},
"#dom-writercreatecoreoptions-outputlanguage": {"displayText":"outputLanguage","export":true,"for_":["WriterCreateCoreOptions"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"outputLanguage","type":"dict-member","url":"#dom-writercreatecoreoptions-outputlanguage"},
"#dom-writercreatecoreoptions-tone": {"displayText":"tone","export":true,"for_":["WriterCreateCoreOptions"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"tone","type":"dict-member","url":"#dom-writercreatecoreoptions-tone"},
"#dom-writercreateoptions-sharedcontext": {"displayText":"sharedContext","export":true,"for_":["WriterCreateOptions"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"sharedContext","type":"dict-member","url":"#dom-writercreateoptions-sharedcontext"},
"#dom-writerformat-markdown": {"displayText":"\"markdown\"","export":true,"for_":["WriterFormat"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"markdown\"","type":"enum-value","url":"#dom-writerformat-markdown"},
"#dom-writerformat-plain-text": {"displayText":"\"plain-text\"","export":true,"for_":["WriterFormat"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"plain-text\"","type":"enum-value","url":"#dom-writerformat-plain-text"},
"#dom-writerlength-long": {"displayText":"\"long\"","export":true,"for_":["WriterLength"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"long\"","type":"enum-value","url":"#dom-writerlength-long"},
"#dom-writerlength-medium": {"displayText":"\"medium\"","export":true,"for_":["WriterLength"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"medium\"","type":"enum-value","url":"#dom-writerlength-medium"},
"#dom-writerlength-short": {"displayText":"\"short\"","export":true,"for_":["WriterLength"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"short\"","type":"enum-value","url":"#dom-writerlength-short"},
"#dom-writertone-casual": {"displayText":"\"casual\"","export":true,"for_":["WriterTone"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"casual\"","type":"enum-value","url":"#dom-writertone-casual"},
"#dom-writertone-formal": {"displayText":"\"formal\"","export":true,"for_":["WriterTone"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"formal\"","type":"enum-value","url":"#dom-writertone-formal"},
"#dom-writertone-neutral": {"displayText":"\"neutral\"","export":true,"for_":["WriterTone"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"\"neutral\"","type":"enum-value","url":"#dom-writertone-neutral"},
"#dom-writerwriteoptions-context": {"displayText":"context","export":true,"for_":["WriterWriteOptions"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"context","type":"dict-member","url":"#dom-writerwriteoptions-context"},
"#domexception-error-information": {"displayText":"domexception error information","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"domexception error information","type":"dfn","url":"#domexception-error-information"},
"#domexception-error-information-details": {"displayText":"details","export":true,"for_":["DOMException error information"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"details","type":"dfn","url":"#domexception-error-information-details"},
"#domexception-error-information-name": {"displayText":"name","export":true,"for_":["DOMException error information"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"name","type":"dfn","url":"#domexception-error-information-name"},
"#download-the-summarizer-model": {"displayText":"download the summarizer model","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"download the summarizer model","type":"dfn","url":"#download-the-summarizer-model"},
"#download-the-writer-model": {"displayText":"download the writer model","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"download the writer model","type":"dfn","url":"#download-the-writer-model"},
"#enumdef-availability": {"displayText":"Availability","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"Availability","type":"enum","url":"#enumdef-availability"},
"#enumdef-rewriterformat": {"displayText":"RewriterFormat","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"RewriterFormat","type":"enum","url":"#enumdef-rewriterformat"},
"#enumdef-rewriterlength": {"displayText":"RewriterLength","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"RewriterLength","type":"enum","url":"#enumdef-rewriterlength"},
"#enumdef-rewritertone": {"displayText":"RewriterTone","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"RewriterTone","type":"enum","url":"#enumdef-rewritertone"},
"#enumdef-summarizerformat": {"displayText":"SummarizerFormat","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"SummarizerFormat","type":"enum","url":"#enumdef-summarizerformat"},
"#enumdef-summarizerlength": {"displayText":"SummarizerLength","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"SummarizerLength","type":"enum","url":"#enumdef-summarizerlength"},
"#enumdef-summarizertype": {"displayText":"SummarizerType","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"SummarizerType","type":"enum","url":"#enumdef-summarizertype"},
"#enumdef-writerformat": {"displayText":"WriterFormat","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"WriterFormat","type":"enum","url":"#enumdef-writerformat"},
"#enumdef-writerlength": {"displayText":"WriterLength","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"WriterLength","type":"enum","url":"#enumdef-writerlength"},
"#enumdef-writertone": {"displayText":"WriterTone","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"WriterTone","type":"enum","url":"#enumdef-writertone"},
"#error-information": {"displayText":"error information","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"error information","type":"dfn","url":"#error-information"},
"#eventdef-createmonitor-downloadprogress": {"displayText":"downloadprogress","export":true,"for_":["CreateMonitor"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"downloadprogress","type":"event","url":"#eventdef-createmonitor-downloadprogress"},
"#get-a-streaming-ai-model-result": {"displayText":"get a streaming ai model result","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"get a streaming ai model result","type":"dfn","url":"#get-a-streaming-ai-model-result"},
"#get-an-aggregated-ai-model-result": {"displayText":"get an aggregated ai model result","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"get an aggregated ai model result","type":"dfn","url":"#get-an-aggregated-ai-model-result"},
"#get-the-language-availabilities-partition": {"displayText":"get the language availabilities partition","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"get the language availabilities partition","type":"dfn","url":"#get-the-language-availabilities-partition"},
"#initialize-and-return-an-ai-model-object": {"displayText":"initialize and return an ai model object","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"initialize and return an ai model object","type":"dfn","url":"#initialize-and-return-an-ai-model-object"},
"#initialize-as-a-destroyable": {"displayText":"initialize as a destroyable","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"initialize as a destroyable","type":"dfn","url":"#initialize-as-a-destroyable"},
"#initialize-the-summarizer-model": {"displayText":"initialize the summarizer model","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"initialize the summarizer model","type":"dfn","url":"#initialize-the-summarizer-model"},
"#initialize-the-writer-model": {"displayText":"initialize the writer model","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"initialize the writer model","type":"dfn","url":"#initialize-the-writer-model"},
"#language-availabilities-partition": {"displayText":"language availabilities partition","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"language availabilities partition","type":"dfn","url":"#language-availabilities-partition"},
"#language-availabilities-triple": {"displayText":"language availabilities triple","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"language availabilities triple","type":"dfn","url":"#language-availabilities-triple"},
"#language-availabilities-triple-context-languages": {"displayText":"context languages","export":true,"for_":["language availabilities triple"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"context languages","type":"dfn","url":"#language-availabilities-triple-context-languages"},
"#language-availabilities-triple-input-languages": {"displayText":"input languages","export":true,"for_":["language availabilities triple"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"input languages","type":"dfn","url":"#language-availabilities-triple-input-languages"},
"#language-availabilities-triple-output-languages": {"displayText":"output languages","export":true,"for_":["language availabilities triple"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"output languages","type":"dfn","url":"#language-availabilities-triple-output-languages"},
"#language-tag-set-completeness-rules": {"displayText":"language tag set completeness rules","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"language tag set completeness rules","type":"dfn","url":"#language-tag-set-completeness-rules"},
"#measure-ai-model-input-usage": {"displayText":"measure ai model input usage","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"measure ai model input usage","type":"dfn","url":"#measure-ai-model-input-usage"},
"#measure-summarizer-input-usage": {"displayText":"measure summarizer input usage","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"measure summarizer input usage","type":"dfn","url":"#measure-summarizer-input-usage"},
"#measure-writer-input-usage": {"displayText":"measure writer input usage","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"measure writer input usage","type":"dfn","url":"#measure-writer-input-usage"},
"#permissiondef-summarizer": {"displayText":"summarizer","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"summarizer","type":"permission","url":"#permissiondef-summarizer"},
"#permissiondef-writer": {"displayText":"writer","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"writer","type":"permission","url":"#permissiondef-writer"},
"#quota-exceeded-error-information": {"displayText":"quota exceeded error information","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"quota exceeded error information","type":"dfn","url":"#quota-exceeded-error-information"},
"#quota-exceeded-error-information-quota": {"displayText":"quota","export":true,"for_":["quota exceeded error information"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"quota","type":"dfn","url":"#quota-exceeded-error-information-quota"},
"#quota-exceeded-error-information-requested": {"displayText":"requested","export":true,"for_":["quota exceeded error information"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"requested","type":"dfn","url":"#quota-exceeded-error-information-requested"},
"#rewriter": {"displayText":"Rewriter","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"Rewriter","type":"interface","url":"#rewriter"},
"#summarize": {"displayText":"summarize","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"summarize","type":"dfn","url":"#summarize"},
"#summarizer": {"displayText":"Summarizer","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"Summarizer","type":"interface","url":"#summarizer"},
"#summarizer-expected-context-languages": {"displayText":"expected context languages","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"expected context languages","type":"dfn","url":"#summarizer-expected-context-languages"},
"#summarizer-expected-input-languages": {"displayText":"expected input languages","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"expected input languages","type":"dfn","url":"#summarizer-expected-input-languages"},
"#summarizer-input-quota": {"displayText":"input quota","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"input quota","type":"dfn","url":"#summarizer-input-quota"},
"#summarizer-language-availabilities-triple": {"displayText":"summarizer language availabilities triple","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"summarizer language availabilities triple","type":"dfn","url":"#summarizer-language-availabilities-triple"},
"#summarizer-non-language-options-availability": {"displayText":"summarizer non-language options availability","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"summarizer non-language options availability","type":"dfn","url":"#summarizer-non-language-options-availability"},
"#summarizer-output-language": {"displayText":"output language","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"output language","type":"dfn","url":"#summarizer-output-language"},
"#summarizer-shared-context": {"displayText":"shared context","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"shared context","type":"dfn","url":"#summarizer-shared-context"},
"#summarizer-summary-format": {"displayText":"summary format","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"summary format","type":"dfn","url":"#summarizer-summary-format"},
"#summarizer-summary-length": {"displayText":"summary length","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"summary length","type":"dfn","url":"#summarizer-summary-length"},
"#summarizer-summary-type": {"displayText":"summary type","export":true,"for_":["Summarizer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"summary type","type":"dfn","url":"#summarizer-summary-type"},
"#validate-and-canonicalize-a-single-language-tag": {"displayText":"validating and canonicalizing a single language tag","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"validating and canonicalizing a single language tag","type":"dfn","url":"#validate-and-canonicalize-a-single-language-tag"},
"#validate-and-canonicalize-language-tags": {"displayText":"validate and canonicalize language tags","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"validate and canonicalize language tags","type":"dfn","url":"#validate-and-canonicalize-language-tags"},
"#validate-and-canonicalize-summarizer-options": {"displayText":"validate and canonicalize summarizer options","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"validate and canonicalize summarizer options","type":"dfn","url":"#validate-and-canonicalize-summarizer-options"},
"#validate-and-canonicalize-writer-options": {"displayText":"validate and canonicalize writer options","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"validate and canonicalize writer options","type":"dfn","url":"#validate-and-canonicalize-writer-options"},
"#write": {"displayText":"write","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"write","type":"dfn","url":"#write"},
"#writer": {"displayText":"Writer","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"Writer","type":"interface","url":"#writer"},
"#writer-expected-context-languages": {"displayText":"expected context languages","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"expected context languages","type":"dfn","url":"#writer-expected-context-languages"},
"#writer-expected-input-languages": {"displayText":"expected input languages","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"expected input languages","type":"dfn","url":"#writer-expected-input-languages"},
"#writer-format": {"displayText":"format","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"format","type":"dfn","url":"#writer-format"},
"#writer-input-quota": {"displayText":"input quota","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"input quota","type":"dfn","url":"#writer-input-quota"},
"#writer-language-availabilities-triple": {"displayText":"writer language availabilities triple","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"writer language availabilities triple","type":"dfn","url":"#writer-language-availabilities-triple"},
"#writer-length": {"displayText":"length","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"length","type":"dfn","url":"#writer-length"},
"#writer-non-language-options-availability": {"displayText":"writer non-language options availability","export":true,"for_":[],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"writer non-language options availability","type":"dfn","url":"#writer-non-language-options-availability"},
"#writer-output-language": {"displayText":"output language","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"output language","type":"dfn","url":"#writer-output-language"},
"#writer-shared-context": {"displayText":"shared context","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"shared context","type":"dfn","url":"#writer-shared-context"},
"#writer-tone": {"displayText":"tone","export":true,"for_":["Writer"],"level":"","normative":true,"shortname":"writing-assistance","spec":"writing-assistance","status":"local","text":"tone","type":"dfn","url":"#writer-tone"},
"https://dom.spec.whatwg.org/#abortcontroller": {"displayText":"AbortController","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"AbortController","type":"interface","url":"https://dom.spec.whatwg.org/#abortcontroller"},
"https://dom.spec.whatwg.org/#abortcontroller-signal": {"displayText":"signal","export":true,"for_":["AbortController"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"signal","type":"dfn","url":"https://dom.spec.whatwg.org/#abortcontroller-signal"},
"https://dom.spec.whatwg.org/#abortcontroller-signal-abort": {"displayText":"signal abort","export":true,"for_":["AbortController"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"signal abort","type":"dfn","url":"https://dom.spec.whatwg.org/#abortcontroller-signal-abort"},
"https://dom.spec.whatwg.org/#abortsignal": {"displayText":"AbortSignal","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"AbortSignal","type":"interface","url":"https://dom.spec.whatwg.org/#abortsignal"},
"https://dom.spec.whatwg.org/#abortsignal-abort-reason": {"displayText":"abort reason","export":true,"for_":["AbortSignal"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"abort reason","type":"dfn","url":"https://dom.spec.whatwg.org/#abortsignal-abort-reason"},
"https://dom.spec.whatwg.org/#abortsignal-aborted": {"displayText":"aborted","export":true,"for_":["AbortSignal"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"aborted","type":"dfn","url":"https://dom.spec.whatwg.org/#abortsignal-aborted"},
"https://dom.spec.whatwg.org/#abortsignal-add": {"displayText":"add","export":true,"for_":["AbortSignal"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"add","type":"dfn","url":"https://dom.spec.whatwg.org/#abortsignal-add"},
"https://dom.spec.whatwg.org/#concept-event-fire": {"displayText":"fire an event","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"fire an event","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-event-fire"},
"https://dom.spec.whatwg.org/#create-a-dependent-abort-signal": {"displayText":"create a dependent abort signal","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"create a dependent abort signal","type":"dfn","url":"https://dom.spec.whatwg.org/#create-a-dependent-abort-signal"},
"https://dom.spec.whatwg.org/#eventtarget": {"displayText":"EventTarget","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"EventTarget","type":"interface","url":"https://dom.spec.whatwg.org/#eventtarget"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active": {"displayText":"fully active","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"fully active","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"},
"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use": {"displayText":"allowed to use","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"allowed to use","type":"dfn","url":"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use"},
"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel": {"displayText":"in parallel","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"in parallel","type":"dfn","url":"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window": {"displayText":"associated Document","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"associated document","type":"dfn","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#window": {"displayText":"Window","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"Window","type":"interface","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop": {"displayText":"event loop","export":true,"for_":["agent"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event loop","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm": {"displayText":"realm","export":true,"for_":["global object"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"realm","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global": {"displayText":"global object","export":true,"for_":["realm"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"global object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-realm-global"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global": {"displayText":"relevant global object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"relevant global object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm": {"displayText":"relevant realm","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"relevant realm","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-task": {"displayText":"task","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"task","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"},
"https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object": {"displayText":"current global object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"current global object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type": {"displayText":"event handler event type","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event handler event type","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes": {"displayText":"event handler IDL attribute","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event handler idl attribute","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers": {"displayText":"event handler","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event handler","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-loop": {"displayText":"event loop","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event loop","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"},
"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler": {"displayText":"EventHandler","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"EventHandler","type":"typedef","url":"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"},
"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task": {"displayText":"queue a global task","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"queue a global task","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task"},
"https://infra.spec.whatwg.org/#abort-when": {"displayText":"abort when","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"abort when","type":"dfn","url":"https://infra.spec.whatwg.org/#abort-when"},
"https://infra.spec.whatwg.org/#assert": {"displayText":"assert","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"assert","type":"dfn","url":"https://infra.spec.whatwg.org/#assert"},
"https://infra.spec.whatwg.org/#if-aborted": {"displayText":"if aborted","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"if aborted","type":"dfn","url":"https://infra.spec.whatwg.org/#if-aborted"},
"https://infra.spec.whatwg.org/#implementation-defined": {"displayText":"implementation-defined","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"implementation-defined","type":"dfn","url":"https://infra.spec.whatwg.org/#implementation-defined"},
"https://infra.spec.whatwg.org/#iteration-break": {"displayText":"break","export":true,"for_":["iteration"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"break","type":"dfn","url":"https://infra.spec.whatwg.org/#iteration-break"},
"https://infra.spec.whatwg.org/#list": {"displayText":"list","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"list","type":"dfn","url":"https://infra.spec.whatwg.org/#list"},
"https://infra.spec.whatwg.org/#list-contain": {"displayText":"contain","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"contain","type":"dfn","url":"https://infra.spec.whatwg.org/#list-contain"},
"https://infra.spec.whatwg.org/#list-is-empty": {"displayText":"is empty","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"is empty","type":"dfn","url":"https://infra.spec.whatwg.org/#list-is-empty"},
"https://infra.spec.whatwg.org/#list-item": {"displayText":"item","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"item","type":"dfn","url":"https://infra.spec.whatwg.org/#list-item"},
"https://infra.spec.whatwg.org/#list-iterate": {"displayText":"for each","export":true,"for_":["list","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"for each","type":"dfn","url":"https://infra.spec.whatwg.org/#list-iterate"},
"https://infra.spec.whatwg.org/#list-replace": {"displayText":"replace","export":true,"for_":["list"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"replace","type":"dfn","url":"https://infra.spec.whatwg.org/#list-replace"},
"https://infra.spec.whatwg.org/#map-exists": {"displayText":"exist","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"exist","type":"dfn","url":"https://infra.spec.whatwg.org/#map-exists"},
"https://infra.spec.whatwg.org/#map-getting-the-keys": {"displayText":"keys","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"keys","type":"dfn","url":"https://infra.spec.whatwg.org/#map-getting-the-keys"},
"https://infra.spec.whatwg.org/#map-getting-the-values": {"displayText":"values","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"values","type":"dfn","url":"https://infra.spec.whatwg.org/#map-getting-the-values"},
"https://infra.spec.whatwg.org/#ordered-map": {"displayText":"ordered map","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"ordered map","type":"dfn","url":"https://infra.spec.whatwg.org/#ordered-map"},
"https://infra.spec.whatwg.org/#ordered-set": {"displayText":"ordered set","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"ordered set","type":"dfn","url":"https://infra.spec.whatwg.org/#ordered-set"},
"https://infra.spec.whatwg.org/#set-append": {"displayText":"append","export":true,"for_":["set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"append","type":"dfn","url":"https://infra.spec.whatwg.org/#set-append"},
"https://infra.spec.whatwg.org/#set-union": {"displayText":"union","export":true,"for_":["set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"union","type":"dfn","url":"https://infra.spec.whatwg.org/#set-union"},
"https://infra.spec.whatwg.org/#string": {"displayText":"string","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"string","type":"dfn","url":"https://infra.spec.whatwg.org/#string"},
"https://infra.spec.whatwg.org/#string-length": {"displayText":"length","export":true,"for_":["string","JavaScript string","ASCII string","isomorphic string","scalar value string"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"length","type":"dfn","url":"https://infra.spec.whatwg.org/#string-length"},
"https://infra.spec.whatwg.org/#struct": {"displayText":"struct","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"struct","type":"dfn","url":"https://infra.spec.whatwg.org/#struct"},
"https://infra.spec.whatwg.org/#struct-item": {"displayText":"item","export":true,"for_":["struct","tuple"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"item","type":"dfn","url":"https://infra.spec.whatwg.org/#struct-item"},
"https://streams.spec.whatwg.org/#readablestream": {"displayText":"ReadableStream","export":true,"for_":[],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"ReadableStream","type":"interface","url":"https://streams.spec.whatwg.org/#readablestream"},
"https://streams.spec.whatwg.org/#readablestream-cancel": {"displayText":"cancel","export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"cancel","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-cancel"},
"https://streams.spec.whatwg.org/#readablestream-close": {"displayText":"close","export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"close","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-close"},
"https://streams.spec.whatwg.org/#readablestream-enqueue": {"displayText":"enqueue","export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"enqueue","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-enqueue"},
"https://streams.spec.whatwg.org/#readablestream-error": {"displayText":"error","export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"error","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-error"},
"https://streams.spec.whatwg.org/#readablestream-set-up": {"displayText":"set up","export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"set up","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-set-up"},
"https://streams.spec.whatwg.org/#readablestream-set-up-cancelalgorithm": {"displayText":"cancelAlgorithm","export":true,"for_":["ReadableStream/set up"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"cancelalgorithm","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-set-up-cancelalgorithm"},
"https://streams.spec.whatwg.org/#rs-cancel": {"displayText":"cancel()","export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"cancel()","type":"method","url":"https://streams.spec.whatwg.org/#rs-cancel"},
"https://tc39.es/ecma262/#current-realm": {"displayText":"current realm","export":true,"for_":[],"level":"262","normative":true,"shortname":"ecma","spec":"ecma-262","status":"anchor-block","text":"current realm","type":"dfn","url":"https://tc39.es/ecma262/#current-realm"},
"https://tc39.es/ecma262/#eqn-floor": {"displayText":"floor","export":true,"for_":[],"level":"262","normative":true,"shortname":"ecma","spec":"ecma-262","status":"anchor-block","text":"floor","type":"abstract-op","url":"https://tc39.es/ecma262/#eqn-floor"},
"https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#realm": {"displayText":"realm","export":true,"for_":["ECMAScript"],"level":"1","normative":true,"shortname":"ecmascript","spec":"ecmascript","status":"current","text":"realm","type":"dfn","url":"https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#realm"},
"https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#surrounding-agent": {"displayText":"surrounding agent","export":true,"for_":["ECMAScript"],"level":"1","normative":true,"shortname":"ecmascript","spec":"ecmascript","status":"current","text":"surrounding agent","type":"dfn","url":"https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#surrounding-agent"},
"https://tc39.es/ecma402/#sec-canonicalizeunicodelocaleid": {"displayText":"CanonicalizeUnicodeLocaleId","export":true,"for_":[],"level":"402","normative":true,"shortname":"ecma","spec":"ecma-402","status":"anchor-block","text":"CanonicalizeUnicodeLocaleId","type":"abstract-op","url":"https://tc39.es/ecma402/#sec-canonicalizeunicodelocaleid"},
"https://tc39.es/ecma402/#sec-internal-slots": {"displayText":"[[AvailableLocales]]","export":true,"for_":[],"level":"402","normative":true,"shortname":"ecma","spec":"ecma-402","status":"anchor-block","text":"[[availablelocales]]","type":"dfn","url":"https://tc39.es/ecma402/#sec-internal-slots"},
"https://tc39.es/ecma402/#sec-isstructurallyvalidlanguagetag": {"displayText":"IsStructurallyValidLanguageTag","export":true,"for_":[],"level":"402","normative":true,"shortname":"ecma","spec":"ecma-402","status":"anchor-block","text":"IsStructurallyValidLanguageTag","type":"abstract-op","url":"https://tc39.es/ecma402/#sec-isstructurallyvalidlanguagetag"},
"https://tc39.es/ecma402/#sec-language-tags": {"displayText":"Unicode canonicalized locale identifier","export":true,"for_":[],"level":"402","normative":true,"shortname":"ecma","spec":"ecma-402","status":"anchor-block","text":"unicode canonicalized locale identifier","type":"dfn","url":"https://tc39.es/ecma402/#sec-language-tags"},
"https://tc39.es/ecma402/#sec-lookupmatchinglocalebybestfit": {"displayText":"LookupMatchingLocaleByBestFit","export":true,"for_":[],"level":"402","normative":true,"shortname":"ecma","spec":"ecma-402","status":"anchor-block","text":"LookupMatchingLocaleByBestFit","type":"abstract-op","url":"https://tc39.es/ecma402/#sec-lookupmatchinglocalebybestfit"},
"https://w3c.github.io/hr-time/#dfn-monotonic-clock": {"displayText":"monotonic clock","export":true,"for_":[],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"monotonic clock","type":"dfn","url":"https://w3c.github.io/hr-time/#dfn-monotonic-clock"},
"https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time": {"displayText":"unsafe current time","export":true,"for_":["monotonic clock"],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"unsafe current time","type":"dfn","url":"https://w3c.github.io/hr-time/#monotonic-clock-unsafe-current-time"},
"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist-self": {"displayText":"'self'","export":true,"for_":["default allowlist"],"level":"1","normative":true,"shortname":"permissions-policy","spec":"permissions-policy-1","status":"current","text":"'self'","type":"dfn","url":"https://w3c.github.io/webappsec-permissions-policy/#default-allowlist-self"},
"https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature": {"displayText":"policy-controlled feature","export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions-policy","spec":"permissions-policy-1","status":"current","text":"policy-controlled feature","type":"dfn","url":"https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature"},
"https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist": {"displayText":"default allowlist","export":true,"for_":["policy-controlled feature"],"level":"1","normative":true,"shortname":"permissions-policy","spec":"permissions-policy-1","status":"current","text":"default allowlist","type":"dfn","url":"https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist"},
"https://webidl.spec.whatwg.org/#Exposed": {"displayText":"Exposed","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Exposed","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#Exposed"},
"https://webidl.spec.whatwg.org/#SecureContext": {"displayText":"SecureContext","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"SecureContext","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#SecureContext"},
"https://webidl.spec.whatwg.org/#a-new-promise": {"displayText":"a new promise","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"a new promise","type":"dfn","url":"https://webidl.spec.whatwg.org/#a-new-promise"},
"https://webidl.spec.whatwg.org/#a-promise-rejected-with": {"displayText":"a promise rejected with","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"a promise rejected with","type":"dfn","url":"https://webidl.spec.whatwg.org/#a-promise-rejected-with"},
"https://webidl.spec.whatwg.org/#a-promise-resolved-with": {"displayText":"a promise resolved with","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"a promise resolved with","type":"dfn","url":"https://webidl.spec.whatwg.org/#a-promise-resolved-with"},
"https://webidl.spec.whatwg.org/#aborterror": {"displayText":"AbortError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"AbortError","type":"exception","url":"https://webidl.spec.whatwg.org/#aborterror"},
"https://webidl.spec.whatwg.org/#dfn-create-frozen-array": {"displayText":"creating a frozen array","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"creating a frozen array","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-create-frozen-array"},
"https://webidl.spec.whatwg.org/#dfn-interface": {"displayText":"interface","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"interface","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-interface"},
"https://webidl.spec.whatwg.org/#domexception-name": {"displayText":"name","export":true,"for_":["DOMException"],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"name","type":"dfn","url":"https://webidl.spec.whatwg.org/#domexception-name"},
"https://webidl.spec.whatwg.org/#exceptiondef-typeerror": {"displayText":"TypeError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"TypeError","type":"exception","url":"https://webidl.spec.whatwg.org/#exceptiondef-typeerror"},
"https://webidl.spec.whatwg.org/#idl-DOMException": {"displayText":"DOMException","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"DOMException","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-DOMException"},
"https://webidl.spec.whatwg.org/#idl-DOMString": {"displayText":"DOMString","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"DOMString","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-DOMString"},
"https://webidl.spec.whatwg.org/#idl-double": {"displayText":"double","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"double","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-double"},
"https://webidl.spec.whatwg.org/#idl-frozen-array": {"displayText":"FrozenArray","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"FrozenArray","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-frozen-array"},
"https://webidl.spec.whatwg.org/#idl-promise": {"displayText":"Promise","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Promise","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-promise"},
"https://webidl.spec.whatwg.org/#idl-sequence": {"displayText":"sequence","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"sequence","type":"dfn","url":"https://webidl.spec.whatwg.org/#idl-sequence"},
"https://webidl.spec.whatwg.org/#idl-undefined": {"displayText":"undefined","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"undefined","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-undefined"},
"https://webidl.spec.whatwg.org/#idl-unrestricted-double": {"displayText":"unrestricted double","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"unrestricted double","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-unrestricted-double"},
"https://webidl.spec.whatwg.org/#implements": {"displayText":"implements","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"implements","type":"dfn","url":"https://webidl.spec.whatwg.org/#implements"},
"https://webidl.spec.whatwg.org/#include": {"displayText":"include","export":true,"for_":["interface"],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"include","type":"dfn","url":"https://webidl.spec.whatwg.org/#include"},
"https://webidl.spec.whatwg.org/#invalidstateerror": {"displayText":"InvalidStateError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"InvalidStateError","type":"exception","url":"https://webidl.spec.whatwg.org/#invalidstateerror"},
"https://webidl.spec.whatwg.org/#invoke-a-callback-function": {"displayText":"invoke","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"invoke","type":"dfn","url":"https://webidl.spec.whatwg.org/#invoke-a-callback-function"},
"https://webidl.spec.whatwg.org/#networkerror": {"displayText":"NetworkError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"NetworkError","type":"exception","url":"https://webidl.spec.whatwg.org/#networkerror"},
"https://webidl.spec.whatwg.org/#new": {"displayText":"new","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"new","type":"dfn","url":"https://webidl.spec.whatwg.org/#new"},
"https://webidl.spec.whatwg.org/#notallowederror": {"displayText":"NotAllowedError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"NotAllowedError","type":"exception","url":"https://webidl.spec.whatwg.org/#notallowederror"},
"https://webidl.spec.whatwg.org/#notreadableerror": {"displayText":"NotReadableError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"NotReadableError","type":"exception","url":"https://webidl.spec.whatwg.org/#notreadableerror"},
"https://webidl.spec.whatwg.org/#notsupportederror": {"displayText":"NotSupportedError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"NotSupportedError","type":"exception","url":"https://webidl.spec.whatwg.org/#notsupportederror"},
"https://webidl.spec.whatwg.org/#operationerror": {"displayText":"OperationError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"OperationError","type":"exception","url":"https://webidl.spec.whatwg.org/#operationerror"},
"https://webidl.spec.whatwg.org/#reject": {"displayText":"reject","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"reject","type":"dfn","url":"https://webidl.spec.whatwg.org/#reject"},
"https://webidl.spec.whatwg.org/#resolve": {"displayText":"resolve","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"resolve","type":"dfn","url":"https://webidl.spec.whatwg.org/#resolve"},
"https://webidl.spec.whatwg.org/#this": {"displayText":"this","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"this","type":"dfn","url":"https://webidl.spec.whatwg.org/#this"},
"https://webidl.spec.whatwg.org/#unknownerror": {"displayText":"UnknownError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"UnknownError","type":"exception","url":"https://webidl.spec.whatwg.org/#unknownerror"},
"https://whatpr.org/webidl/1465.html#quotaexceedederror": {"displayText":"QuotaExceededError","export":true,"for_":[],"level":"","normative":true,"shortname":"webidl","spec":"webidl","status":"anchor-block","text":"QuotaExceededError","type":"interface","url":"https://whatpr.org/webidl/1465.html#quotaexceedederror"},
"https://whatpr.org/webidl/1465.html#quotaexceedederror-quota": {"displayText":"quota","export":true,"for_":["QuotaExceededError"],"level":"","normative":true,"shortname":"webidl","spec":"webidl","status":"anchor-block","text":"quota","type":"dfn","url":"https://whatpr.org/webidl/1465.html#quotaexceedederror-quota"},
"https://whatpr.org/webidl/1465.html#quotaexceedederror-requested": {"displayText":"requested","export":true,"for_":["QuotaExceededError"],"level":"","normative":true,"shortname":"webidl","spec":"webidl","status":"anchor-block","text":"requested","type":"dfn","url":"https://whatpr.org/webidl/1465.html#quotaexceedederror-requested"},
"https://xhr.spec.whatwg.org/#dom-progressevent-lengthcomputable": {"displayText":"lengthComputable","export":true,"for_":["ProgressEvent"],"level":"1","normative":true,"shortname":"xhr","spec":"xhr","status":"current","text":"lengthComputable","type":"attribute","url":"https://xhr.spec.whatwg.org/#dom-progressevent-lengthcomputable"},
"https://xhr.spec.whatwg.org/#dom-progressevent-loaded": {"displayText":"loaded","export":true,"for_":["ProgressEvent"],"level":"1","normative":true,"shortname":"xhr","spec":"xhr","status":"current","text":"loaded","type":"attribute","url":"https://xhr.spec.whatwg.org/#dom-progressevent-loaded"},
"https://xhr.spec.whatwg.org/#dom-progressevent-total": {"displayText":"total","export":true,"for_":["ProgressEvent"],"level":"1","normative":true,"shortname":"xhr","spec":"xhr","status":"current","text":"total","type":"attribute","url":"https://xhr.spec.whatwg.org/#dom-progressevent-total"},
"https://xhr.spec.whatwg.org/#progressevent": {"displayText":"ProgressEvent","export":true,"for_":[],"level":"1","normative":true,"shortname":"xhr","spec":"xhr","status":"current","text":"ProgressEvent","type":"interface","url":"https://xhr.spec.whatwg.org/#progressevent"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
        // Give the original term if it's being displayed in a different way.
        // But allow casing differences, they're insignificant.
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.displayText)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const refHintKey = link.getAttribute("data-refhint-key");
    let key = url;
    if(refHintKey) {
        key = refHintKey + "_" + url;
    }
    const ref = refsData[key];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
"use strict";
{
/*
Color-choosing design:

* Colors are ordered by goodness.
* On clicking a var, give it the earliest color
    with the lowest usage in the algorithm.
* On re-clicking, re-use the var's most recent color
    if that's not currently being used elsewhere.
*/

const COLOR_COUNT = 7;

document.addEventListener("click", e=>{
    if(e.target.nodeName == "VAR") {
        highlightSameAlgoVars(e.target);
    }
});

function highlightSameAlgoVars(v) {
    // Find the algorithm container.
    let algoContainer = findAlgoContainer(v);

    // Not highlighting document-global vars,
    // too likely to be unrelated.
    if(algoContainer == null) return;

    const varName = nameFromVar(v);
    if(!v.hasAttribute("data-var-color")) {
        const newColor = chooseHighlightColor(algoContainer, v);
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.setAttribute("data-var-color", newColor);
                el.setAttribute("data-var-last-color", newColor);
            }
        }
    } else {
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.removeAttribute("data-var-color");
            }
        }
    }
}
function findAlgoContainer(el) {
    while(el != document.body) {
        if(el.hasAttribute("data-algorithm")) return el;
        el = el.parentNode;
    }
    return null;
}
function nameFromVar(el) {
    return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
}
function colorCountsFromContainer(container) {
    const namesFromColor = Array.from({length:COLOR_COUNT}, x=>new Set());
    for(let v of container.querySelectorAll("var[data-var-color]")) {
        let color = +v.getAttribute("data-var-color");
        namesFromColor[color].add(nameFromVar(v));
    }

    return namesFromColor.map(x=>x.size);
}
function leastUsedColor(colors) {
    // Find the earliest color with the lowest count.
    let minCount = Infinity;
    let minColor = null;
    for(var i = 0; i < colors.length; i++) {
        if(colors[i] < minCount) {
            minColor = i;
            minCount = colors[i];
        }
    }
    return minColor;
}
function chooseHighlightColor(container, v) {
    const colorCounts = colorCountsFromContainer(container);
    if(v.hasAttribute("data-var-last-color")) {
        let color = +v.getAttribute("data-var-last-color");
        if(colorCounts[color] == 0) return color;
    }
    return leastUsedColor(colorCounts);
}
}
</script>